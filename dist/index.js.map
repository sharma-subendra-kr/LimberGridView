{"version":3,"sources":["webpack://LimberGridView/webpack/universalModuleDefinition","webpack://LimberGridView/webpack/bootstrap","webpack://LimberGridView/./node_modules/IntervalTreeJS/dist/index.js","webpack://LimberGridView/./node_modules/ClosestBST/dist/index.js","webpack://LimberGridView/./src/index.css?4149","webpack://LimberGridView/./src/index.scss","webpack://LimberGridView/./src/store/constants/privateConstants.js","webpack://LimberGridView/./src/store/constants/publicConstants.js","webpack://LimberGridView/./src/libs/utils/utils.js","webpack://LimberGridView/./src/store/variables/essentials.js","webpack://LimberGridView/./src/store/variables/elements.js","webpack://LimberGridView/./src/libs/utils/essentials.js","webpack://LimberGridView/./src/libs/eventHandlerLib/eventHandlerUtils.js","webpack://LimberGridView/./src/store/variables/options.js","webpack://LimberGridView/./src/libs/eventHandlerLib/itemInteractionUtils.js","webpack://LimberGridView/./src/libs/rect/rectUtils.js","webpack://LimberGridView/./src/libs/eventHandlerLib/deskInteractionUtils.js","webpack://LimberGridView/./src/libs/arrange/arrangeUtils.js","webpack://LimberGridView/./src/store/variables/bindedFunctions.js","webpack://LimberGridView/./src/libs/eventHandlerLib/initializers.js","webpack://LimberGridView/./src/store/variables/eventSpecific.js","webpack://LimberGridView/./src/libs/array/arrayUtils.js","webpack://LimberGridView/./src/libs/stack/stack.js","webpack://LimberGridView/./src/libs/debug/debug.js","webpack://LimberGridView/./src/libs/arrange/arrange.js","webpack://LimberGridView/./src/libs/renderers/rendererUtils.js","webpack://LimberGridView/./src/libs/renderers/renderers.js","webpack://LimberGridView/./src/libs/eventHandlerLib/deskInteraction.js","webpack://LimberGridView/./src/libs/interaction/itemInteractionUtils.js","webpack://LimberGridView/./src/libs/interaction/itemInteraction.js","webpack://LimberGridView/./src/libs/eventHandlerLib/itemInteraction.js","webpack://LimberGridView/./src/store/flags/flagDetails.js","webpack://LimberGridView/./src/initializers/initializers.js","webpack://LimberGridView/./src/libs/eventHandlerLib/miscellaneous.js","webpack://LimberGridView/./src/index.js"],"names":["setPrivateConstants","context","val","store","constants","privateConstants","getPrivateConstants","setPrivateConstantByName","name","value","hasOwnProperty","getPrivateConstantByName","setWidth","WIDTH","getWidth","setHeight","HEIGHT","getHeight","setPaddingLeft","PADDING_LEFT","getPaddingLeft","setPaddingRight","PADDING_RIGHT","getPaddingRight","setPaddingTop","PADDING_TOP","getPaddingTop","setPaddingBottom","PADDING_BOTTOM","getPaddingBottom","setWidthScaleFactor","WIDTH_SCALE_FACTOR","getWidthScaleFactor","setMargin","MARGIN","getMargin","setDefinedMinHeightAndWidth","DEFINED_MIN_HEIGHT_AND_WIDTH","getDefinedMinHeightAndWidth","setGridWidth","GRID_WIDTH","getGridWidth","setGridHeight","GRID_HEIGHT","getGridHeight","setGridMargin","GRID_MARGIN","getGridMargin","setMinHeightAndWidth","MIN_HEIGHT_AND_WIDTH","getMinHeightAndWidth","setPublicConstants","publicConstants","getPublicConstants","setPublicConstantByName","getPublicConstantByName","emptyObject","obj","keys","Object","length","i","isMobile","isMobileFunction","options","isMobileCheck","window","matchMedia","matches","fixTo","num","to","Math","trunc","pow","filter","arr","len","temp","Array","count","undefined","res","getRandomString","alpNum","floor","random","join","getItemDimenWithMargin","item","x","y","width","height","setEssentialVariables","ev","variables","essentials","getEssentialVariables","setPseudoContainerId","id","pseudoContainerId","getPseudoContainerId","setPositionData","pd","positionData","getPositionData","setModifiedPositionData","modifiedPositionData","getModifiedPositionData","setGridData","grid","gridData","getGridData","setCallbacks","cbs","callbacks","getCallbacks","getElements","elements","set$body","elm","$body","get$body","set$pseudoContainer","$pseudoContainer","get$pseudoContainer","set$pseudoContainerItem","$pseudoContainerItem","get$pseudoContainerItem","set$el","$el","get$el","set$limberGridViewContainer","$limberGridViewContainer","get$limberGridViewContainer","set$limberGridView","$limberGridView","get$limberGridView","set$limberGridViewItems","$limberGridViewItems","get$limberGridViewItems","set$limberGridViewPseudoItem","$limberGridViewPseudoItem","get$limberGridViewPseudoItem","set$limberGridViewMoveGuide","$limberGridViewMoveGuide","get$limberGridViewMoveGuide","set$limberGridViewHeightAdjustGuide","$limberGridViewHeightAdjustGuide","get$limberGridViewHeightAdjustGuide","set$limberGridViewAddCutGuide","$limberGridViewAddCutGuide","get$limberGridViewAddCutGuide","set$limberGridViewTouchHoldGuide","$limberGridViewTouchHoldGuide","get$limberGridViewTouchHoldGuide","set$limberGridViewDebugMergedTempRects","$limberGridViewDebugMergedTempRects","get$limberGridViewDebugMergedTempRects","set$limberGridViewDebugStackTopRect","$limberGridViewDebugStackTopRect","get$limberGridViewDebugStackTopRect","set$limberGridViewDebugStackTopAdjRect","$limberGridViewDebugStackTopAdjRect","get$limberGridViewDebugStackTopAdjRect","set$limberGridViewDebugMergedRect","$limberGridViewDebugMergedRect","get$limberGridViewDebugMergedRect","set$limberGridViewDebugAdjRect","$limberGridViewDebugAdjRect","get$limberGridViewDebugAdjRect","set$limberGridViewDebugStackRects","$limberGridViewDebugStackRects","get$limberGridViewDebugStackRects","set$limberGridViewDebugResultStackRects","$limberGridViewDebugResultStackRects","get$limberGridViewDebugResultStackRects","set$limberGridViewDebugUnmergedRects","$limberGridViewDebugUnmergedRects","get$limberGridViewDebugUnmergedRects","set$limberGridViewDebugMergedFreeRects","$limberGridViewDebugMergedFreeRects","get$limberGridViewDebugMergedFreeRects","getPlainFrom4Points","pointsArray","minX","minY","maxX","maxY","length_0","plane","getCoordinates","itemTopLeft","itemTopRight","itemBottomLeft","itemBottomRight","itemCoordinatesArr","getLines","JSON","parse","stringify","topLine","rightLine","bottomLine","leftLine","allLines","arePlainsSame","A","B","arePlainsIdentical","isValidPlane","sortPlainsByArea","planes","order","sort","a","b","sortPlainsByHeight","sortPlainsByDepth","divideEqualNumber","DEFAULT","NaN","getMarginAtPoint","getRowSequence","serialize","rows","rowsArr","columns","push","Number","rowOrder","map","length_1","j","list","adjustHeight","yMouseOrTouchPosition","e","scrollHeight","AUTO_SCROLL_POINT","style","MOVE_OR_RESIZE_HEIGHT_INCREMENTS","adjustScroll","limberGridViewOnVisibleAreaY","limberGridViewHeightVisibleHeight","scrollTop","programScrolled","AUTO_SCROLL_DISTANCE","calculateMousePosOnDesk","event","limberGridViewPosition","getBoundingClientRect","clientX","left","clientY","top","scrollLeft","mouseXOnLimberGridView","mouseYOnLimberGridView","calculateTouchPosOnDesk","touch","type","changedTouches","touches","touchXOnLimberGridView","touchYOnLimberGridView","calculateTouchPosOnItem","limberGridViewItemPosition","currentTarget","attributes","setOptions","assign","getOptions","getUserActionData","itemIndex","parseInt","radius","touchPosOnLimberGridItem","X","Y","which","sqrt","offsetX","offsetY","resizeUIBox","offsetWidth","RESIZE_SQUARE_GUIDE_LENGTH","offsetHeight","RESIZE_SQUARE_GUIDE_BORDER_WIDTH","itemMouseDownMoveCheck","MOVE_GUIDE_RADIUS","itemMouseDownResizeCheck","loadResizingState","userActionData","classList","add","setAttribute","transform","itemX","itemY","remove","itemsLen","unloadResizingState","loadMoveState","pageX","pageY","unloadMoveState","loadOnMoveState","unloadOnMoveState","isPointInsideRect","rect","point","rectCo","tl","tr","bl","doesPointTouchRect","doRectsOverlap","rectA","rectB","isNaN","tlA","brA","tlB","brB","doRectsOnlyTouch","subtractRect","oCoForm","rectACo","rectBCo","subRects","subRectT","br","subRectR","subRectB","subRectL","isValidRectCoForm","tm","rm","bm","lm","tlNtm","tmNtr","trNrm","rmNbr","brNbm","bmNbl","blNlm","lmNtl","horizontalSubtract","verticalSubtract","rects","getRectObjectFromCo","o","result","abs","right","bottom","areRectsAdjacent","mergeRects","merge","mergeOverlapping","diff","m","isRectInside","areRectsOnSameYAxisExPath","areRectsIdentical","loadInitState","DESK_INTERACTION_MODE","unloadInitState","isFlippingPosPossible","affectedItems","getMinMaxXY","resizedRightX","resizedBottomY","toY","movedBottomY","MAX_SAFE_INTEGER","filterToArrange","toArrangeItems","arranged","getBottomMax","mpd","max","mItem","getTopBottomWS","workSpaceRectCo","topWorkSpaceCo","bottomWorkSpaceCo","bottomMax","getItemsInWorkSpace","workSpaceRect","getIndices","itemsInWorkSpace","getItemsBelowBottomWorkSpace","items","getResizeWSItemsDetail","wsCo","topWsCo","bottomWsCo","cWsCo","itemsToArrange","wsPlusTopWsCo","wsPlusTopWs","bottomWs","cWs","iToALen","_itemsToArrange","filteredItemsToArrange","updatedItemsToArrange","uCount","iCount","_item","cBSTRectComparator","node","v","d","cBSTLComp","cBSTRComp","getScore","maxHWSum","getItemsToArrangeScore","maxHeight","maxWidth","score","scoreArr","getPerfectMatch","hwSum","shiftItemsDown","shiftItemsUp","shiftHeight","addItemAllowCheck","tempPlane","isInside","cutSpaceAllowCheck","atLeastOneOverlapping","isOverlapping","topPoint","bottomPoint","getBindedFunctions","bindedFunctions","reInitializeEvents","unInitializeEvents","initializeEvents","initializeVariables","bf","editable","enableInteractiveAddAndCut","addEventListener","onDeskMouseDown","enableTouchInteraction","onDeskTouchStart","onItemMouseDown","onItemTouchStart","onItemClickCallback","onItemClick","removeEventListener","initializeItemTouchEvents","unInitializeItemTouchEvents","getItemInteractionVars","eventSpecific","itemInteraction","setItemInteractionVarsByName","getDeskInteractionVars","deskInteraction","setDeskInteractionVarsByName","shuffle","Stack","stack","ptr","prototype","constructor","data","resize","pop","wipePop","oldlen","oldStack","getTop","isEmpty","getData","getAllData","getSize","empty","wipe","sleep","ms","Promise","resolve","reject","setTimeout","printUnmergedFreeRects","process","printMergedFreeRects","printResultStackRects","printStackRects","printMergedTempRects","printStackTopRect","printStackTopAdjRect","printMergedRect","printAdjRect","arrangeMove","isDemo","p1","performance","now","idCount","combinedWorkSpaceRectCo","shrinkRes","shrinkTopBottomWS","integrateTop","integrateBottom","itemsInBottomWorkSpace","itemsBelowBottomWorkSpace","combinedWorkSpaceRect","itemsInCombinedWorkSpace","passCount","arrangedCount","workSpaceResizeCount","DEBUG_COUNT","it","freeRectsItY","lastId1","sweepLine","freeRectsArr","getSortedData","assignAdjacentRects","mergedRects","lastId2","mergeFreeRects","overlappedRects","findOverlapped","_arranged","_itemsInBottomWorkSpace","lastId3","arrange","_arrangedArr","values","console","log","p2","arrangeResize","_workSpaceRectCo","_combinedWorkSpaceRectCo","_topWorkSpaceCo","_bottomWorkSpaceCo","_shrinkRes","_combinedWorkSpaceRect","incrementHeight","_freeRectsItY","_itemsInCombinedWorkSpace","arrangeFromHeight","topWorkSpace","bottomWorkSpace","topWSItems","bottomWSItems","sweepRes","sweepLineTop","sweepLineBottom","area","IntervalTreesIterative","insert","low","high","resultPoint","rLen","breakSig","findAll","areaCo","lastId","ref","tempItem","fInterval","intervals","iLen","dLen","k","interval","rectsItY","rectItYArr","resY","lenY","stackIt","resultStack","resultIt","adjacents","adj","keyslen","mergedObject","mergedRect","mergeRectsLen","atLeastOneFullMerge","freeRectsLen","filterAdjacents","isRectIdenticalOrInside","isIdenticalOrInside","visited","adjs","adjsKeys","adjsKeysLen","completeOverlapped","itArr","rlen","_rect","olpds","oLen","olpd","resArr","filteredResArr","wCBST","ClosestBST","orLen","itemsToArrangeStack","itemsToArrangeLaterStack","itemsToArrangeWithScore","aItem","wCBSTRes","findUsingComparator","pm","arrangeCleanUp","resLen","diffLen","diffObj","iolpd","ioKeys","ioKeysLen","indirectOverlaps","diffStack","itemWithMargins","subtractFlag","directOverlaps","pmOlps","pmOlapsLen","diffStackData","diffStackDataLen","_overlappedRects","completeOverlappedLen","_overlappedRectsLen","filteredOverlappedRects","checkPositionData","isArray","getPdBottomMax","render","scale","call","nodes","spd","itemEl","document","createElement","getSerializedPositionData","MOBILE_ASPECT_RATIO","index","removeChild","appendChild","renderData","renderContent","renderItemContent","getElementsByClassName","renderComplete","renderItem","addItem","allow","bottomY","addComplete","error","removeItem","splice","removeComplete","innerHTML","Element","renderPlugin","dkiv","target","contains","stopPropagation","mouseDownCancel","mouseDownTimerComplete","clearTimeout","longPressCheck","mouseDownCheck","bind","MOUSE_DOWN_TIME","onDeskMouseMove","onDeskMouseUp","onDeskContextMenu","tapHoldCancel","tapHoldTimerComplete","onDeskTouchMove","onDeskTouchEnd","onDeskTouchCancel","onDeskTouchContextMenu","longTouchCheck","tapHoldCheck","TOUCH_HOLD_TIME","addPositionX","addPositionY","touchPositionOnLimberGrid","removeAddItemOnTouchHoldGuideFunction","preventDefault","newWidth","newHeight","yMousePosition","addItemAllowCheckTimeOutVariable","addItemAllowCheckTimeOut","DEMO_WAIT_TIME","cutSpaceAllowCheckTimeOutVariable","cutSpaceAllowCheckTimeOut","limberGridViewBoundingClientRect","limberGridViewWidthVisibleWidth","limberGridViewOnVisibleAreaX","yTouchPosition","itemAddedFlag","renderDetails","cutDetails","getResizeAffectedItems","affectedArr","getMoveAffectedItems","resizeItemInitialChecks","moveItemInitialChecks","toX","resetDemoUIChanges","movePointAdjust","pt","inside","overlappedItemIndex","resizeItem","modifiedItem","arrangedArr","key","resizeComplete","resizeItemDemo","moveItem","LATCH_MOVED_ITEM","adjustedPt","ANIMATE_MOVED_ITEM","transition","ANIMATE_TIME","moveComplete","moveItemDemo","iiv","onItemContextMenu","_userActionData","onItemMouseMove","onItemMouseUp","onItemTouchContextMenu","touchHoldCancel","touchHoldTimerComplete","onItemTouchMove","onItemTouchEnd","onItemTouchCancel","showMoveDemoTimeOutVariable","mousePositionOnLimberGrid","showMoveDemo","showResizeDemoTimeOutVariable","showResizeDemo","updatedCoordinates","revertShowMoveOrResizeDemo","mousePosition","ADD","CUTSPACE","true","false","init","isResize","autoArrange","warn","getComputedStyle","getPropertyValue","clientWidth","clientHeight","initConstantsAndFlags","mobileAspectRatio","moveGuideRadius","resizeSquareGuideLength","resizeSquareBorderGuideWidth","autoScrollDistance","autoScrollPoint","moveOrResizeHeightIncrements","mouseDownTime","touchHoldTime","demoWaitTime","windowResizeWaitTime","deskInteractionMode","latchMovedItem","animateMovedItem","animateTime","initRender","getElementsByTagName","getElementById","pseudoContainer","pseudoElementContainer","$pseudoElementContainer","pseudoContainerItem","limberGridViewPseudoItem","limberGridViewMoveGuide","limberGridViewHeightAdjustGuide","limberGridViewAddCutGuide","limberGridViewTouchHoldGuide","onWindowResize","onWindowResizeTimerCallback","WINDOW_RESIZE_WAIT_TIME","reRenderOnResize","LimberGridView","initializeStore","el","_renderItem","margin","setDeskInteractMode","flag","setLatchMovedItem","_addItem","setIsMobileCheck","f"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;QCVA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;AClFA;AACA,IAAI,IAAyD;AAC7D;AACA,MAAM,EAK+B;AACrC,CAAC;AACD,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,gCAAgC;AAClF;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,kBAAkB;AAClF;AACA,yDAAyD,cAAc;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,iCAAiC;AAClF,wHAAwH,mBAAmB,EAAE;AAC7I;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0BAA0B,EAAE;AAC/D,yCAAyC,eAAe;AACxD;AACA;AACA;AACA;AACA;AACA,8DAA8D,+DAA+D;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iFAAiF,8CAA8C,EAAE;AACjI,iFAAiF,8CAA8C,EAAE;;AAEjI;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;;AAEA;;AAEA,kBAAkB,YAAY;AAC9B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,YAAY;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,YAAY;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,iBAAiB,eAAe;AAChC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,iBAAiB,oBAAoB;AACrC;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;;AAEA;;;;;;AAMA,OAAO;AACP;AACA,CAAC;AACD,iC;;;;;;AChwCA;AACA,IAAI,IAAyD;AAC7D;AACA,MAAM,EAK2B;AACjC,CAAC;AACD,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,gCAAgC;AAClF;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,kBAAkB;AAClF;AACA,yDAAyD,cAAc;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,iCAAiC;AAClF,wHAAwH,mBAAmB,EAAE;AAC7I;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0BAA0B,EAAE;AAC/D,yCAAyC,eAAe;AACxD;AACA;AACA;AACA;AACA;AACA,8DAA8D,+DAA+D;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qEAAqE,sCAAsC,EAAE;;AAE7G;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;;AAEA;;AAEA,iBAAiB,WAAW;AAC5B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+EAA+E,UAAU,yBAAyB,EAAE,IAAI,yBAAyB;AACjJ;;AAEA,iFAAiF,UAAU,IAAI,UAAU;AACzG,+DAA+D,OAAO;AACtE,uEAAuE,6CAA6C;AACpH,kEAAkE,MAAM;AACxE,mEAAmE,MAAM,OAAO,MAAM;AACtF;;AAEA;AACA,gCAAgC,iBAAiB,QAAQ,oEAAoE,QAAQ,UAAU,QAAQ,2CAA2C;AAClM;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;;AAEA,kDAAkD,mBAAmB,YAAY,sCAAsC,yEAAyE,cAAc,EAAE,oBAAoB;AACpO;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,YAAY;AAC7B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,iBAAiB,WAAW;AAC5B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;;AAEA;;;;;AAKA,OAAO;AACP;AACA,CAAC;AACD,iC;;;;;;AClwBA,uC;;;;;;ACAA,uC;;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA,MAAMA,mBAAmB,GAAG,UAAUC,OAAV,EAAmBC,GAAnB,EAAwB;AACnDD,SAAO,CAACE,KAAR,CAAcC,SAAd,CAAw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AAD,CAA9B;;AACA,MAAI,OAAO+oB,UAAP,KAAsB,QAA1B,EAAoC;AACnCR,UAAM,CAACsB,SAAP,GAAmBd,UAAnB;AACA,GAFD,MAEO,IAAIA,UAAU,YAAYe,OAA1B,EAAmC;AACzCvB,UAAM,CAACsB,SAAP,GAAmB,EAAnB;AACAtB,UAAM,CAACO,WAAP,CAAmBC,UAAnB;AACA,GAHM,MAGA,IAAI5hB,SAAS,CAAC4iB,YAAd,EAA4B;AAClC5iB,aAAS,CAAC4iB,YAAV,CAAuBhB,UAAvB,EAAmCR,MAAnC;AACA,GAFM,MAEA;AACN,UAAM,8BAAN;AACA;AACD,CAZM,C,CAcP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,K;;ACttBA;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;CAMA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAKA;AAIA;AACA;CAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,MAAMtM,eAAe,GAAG,UAAUxM,KAAV,EAAiB;AAC/C,QAAMZ,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;AACA,QAAMlE,eAAe,GAAGC,yBAAkB,CAAC,IAAD,CAA1C;AAEA,QAAM4mB,IAAI,GAAGjN,sBAAsB,CAAC,IAAD,CAAnC;AACA,QAAMlB,EAAE,GAAGN,kBAAkB,CAAC,IAAD,CAA7B;;AAEA,MAAI9L,KAAK,CAACwa,MAAN,CAAa3X,SAAb,CAAuB4X,QAAvB,CAAgC,kBAAhC,CAAJ,EAAyD;AACxDza,SAAK,CAAC0a,eAAN;AACA,GAFD,MAEO;AACN;AACA;;AAED,MAAI1a,KAAK,CAAC+B,KAAN,KAAgB,CAApB,EAAuB;AACtB;AACA;;AAEDwY,MAAI,CAACI,eAAL,GAAuB,KAAvB;AACAJ,MAAI,CAACK,sBAAL,GAA8B,KAA9B;AAEAC,cAAY,CAACN,IAAI,CAACO,cAAN,CAAZ;AACAP,MAAI,CAACO,cAAL,GAAsB7L,UAAU,CAC/B8L,cAAc,CAACC,IAAf,CAAoB,IAApB,EAA0Bhb,KAA1B,EAAiCA,KAAK,CAACiC,OAAvC,EAAgDjC,KAAK,CAACkC,OAAtD,CAD+B,EAE/BxO,eAAe,CAACunB,eAFe,CAAhC;AAKA7b,GAAC,CAACrG,eAAF,CAAkBwT,gBAAlB,CAAmC,WAAnC,EAAgDH,EAAE,CAAC8O,eAAnD;AACAnC,UAAQ,CAACxM,gBAAT,CAA0B,SAA1B,EAAqCH,EAAE,CAAC+O,aAAxC;AACApC,UAAQ,CAACxM,gBAAT,CAA0B,aAA1B,EAAyCH,EAAE,CAACgP,iBAA5C;AACA,CA7BM;AA+BA,MAAM1O,gBAAgB,GAAG,UAAU1M,KAAV,EAAiB;AAChD,QAAMZ,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;AACA,QAAMlE,eAAe,GAAGC,yBAAkB,CAAC,IAAD,CAA1C;AAEA,QAAM4mB,IAAI,GAAGjN,sBAAsB,CAAC,IAAD,CAAnC;AACA,QAAMlB,EAAE,GAAGN,kBAAkB,CAAC,IAAD,CAA7B;;AAEA,MAAI,CAAC9L,KAAK,CAACwa,MAAN,CAAa3X,SAAb,CAAuB4X,QAAvB,CAAgC,kBAAhC,CAAL,EAA0D;AACzD;AACA;;AAED,MAAIza,KAAK,CAACc,OAAN,CAAc5M,MAAd,KAAyB,CAA7B,EAAgC;AAC/B;AACA;AACA,GAd+C,CAgBhD;AACA;AACA;AACA;AACA;;;AAEA,MAAI8L,KAAK,CAAC+B,KAAN,KAAgB,CAApB,EAAuB;AACtB;AACA;AACA;;AAEDwY,MAAI,CAACc,aAAL,GAAqB,KAArB;AACAd,MAAI,CAACe,oBAAL,GAA4B,KAA5B;AAEAlc,GAAC,CAACrG,eAAF,CAAkBwT,gBAAlB,CAAmC,WAAnC,EAAgDH,EAAE,CAACmP,eAAnD;AACAxC,UAAQ,CAACxM,gBAAT,CAA0B,UAA1B,EAAsCH,EAAE,CAACoP,cAAzC;AACAzC,UAAQ,CAACxM,gBAAT,CAA0B,aAA1B,EAAyCH,EAAE,CAACqP,iBAA5C;AACA1C,UAAQ,CAACxM,gBAAT,CAA0B,aAA1B,EAAyCH,EAAE,CAACsP,sBAA5C;AACAzO,6BAA2B,CAAC0L,IAA5B,CAAiC,IAAjC;AAEAkC,cAAY,CAACN,IAAI,CAACoB,cAAN,CAAZ;AACApB,MAAI,CAACoB,cAAL,GAAsB1M,UAAU,CAC/B2M,YAAY,CAACZ,IAAb,CAAkB,IAAlB,EAAwBhb,KAAxB,CAD+B,EAE/BtM,eAAe,CAACmoB,eAFe,CAAhC;AAKA7b,OAAK,CAAC0a,eAAN;AACA,CA3CM,C,CA6CP;;AACO,MAAMK,cAAc,GAAG,UAAU/a,KAAV,EAAiBiC,OAAjB,EAA0BC,OAA1B,EAAmC;AAChE,QAAM9C,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;AACA,QAAMjH,gBAAgB,GAAGC,0BAAmB,CAAC,IAAD,CAA5C;AAEA,QAAM2pB,IAAI,GAAGjN,sBAAsB,CAAC,IAAD,CAAnC;;AAEA,MAAIiN,IAAI,CAACI,eAAL,KAAyB,KAA7B,EAAoC;AACnCJ,QAAI,CAACK,sBAAL,GAA8B,IAA9B;AAEA,QAAIhb,SAAS,GAAGR,CAAC,CAACrG,eAAF,CAAkB6G,SAAlC;AACA,QAAIW,UAAU,GAAGnB,CAAC,CAACrG,eAAF,CAAkBwH,UAAnC;AACA,QAAIvK,CAAC,GAAGiM,OAAO,GAAG1B,UAAV,GAAuB5P,gBAAgB,CAACc,YAAhD;AACA,QAAIwE,CAAC,GAAGiM,OAAO,GAAGtC,SAAV,GAAsBjP,gBAAgB,CAACoB,WAA/C;AAEAwoB,QAAI,CAAC3X,cAAL,GAAsB;AACrBhC,UAAI,EAAE,KADe;AAErBkb,kBAAY,EAAE9lB,CAFO;AAGrB+lB,kBAAY,EAAE9lB;AAHO,KAAtB;AAMAmJ,KAAC,CAACtF,0BAAF,CAA6ByF,KAA7B,CAAmCpJ,MAAnC,GAA4C,IAAI,IAAhD;AACAiJ,KAAC,CAACtF,0BAAF,CAA6ByF,KAA7B,CAAmCrJ,KAAnC,GAA2C,IAAI,IAA/C;AACAkJ,KAAC,CAACtF,0BAAF,CAA6ByF,KAA7B,CAAmCyD,SAAnC,GAAgD,aAAYhN,CAAE,OAAMC,CAAE,KAAtE;AACAmJ,KAAC,CAACtF,0BAAF,CAA6BiJ,YAA7B,CAA0C,YAA1C,EAAyD,gBAAzD;AAEAuE,iBAAa,CAAC,IAAD,CAAb;AACA,GApBD,MAoBO,CACN;AACA;AACD,CA7BM,C,CA+BP;;AACO,MAAMsU,YAAY,GAAG,UAAU5b,KAAV,EAAiB;AAC5C,QAAMZ,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;AAEA,QAAM2iB,IAAI,GAAGjN,sBAAsB,CAAC,IAAD,CAAnC;;AAEA,MAAIiN,IAAI,CAACc,aAAL,KAAuB,KAA3B,EAAkC;AACjCd,QAAI,CAACe,oBAAL,GAA4B,IAA5B;AAEA,QAAIU,yBAAyB,GAAGtb,uBAAuB,CAAC,IAAD,EAAOV,KAAP,CAAvD;AAEA,QAAIhK,CAAC,GAAGgmB,yBAAyB,CAAChmB,CAAlC;AACA,QAAIC,CAAC,GAAG+lB,yBAAyB,CAAC/lB,CAAlC;AAEAskB,QAAI,CAAC3X,cAAL,GAAsB;AACrBhC,UAAI,EAAE,KADe;AAErBkb,kBAAY,EAAE9lB,CAFO;AAGrB+lB,kBAAY,EAAE9lB;AAHO,KAAtB;;AAMA,QAAIgmB,qCAAqC,GAAG,YAAY;AACvD7c,OAAC,CAACnF,6BAAF,CAAgC4I,SAAhC,CAA0CM,MAA1C,CACC,0CADD;AAGA,KAJD;;AAKA8L,cAAU,CAACgN,qCAAqC,CAACjB,IAAtC,CAA2C,IAA3C,CAAD,EAAmD,GAAnD,CAAV;AAEA5b,KAAC,CAACtF,0BAAF,CAA6ByF,KAA7B,CAAmCpJ,MAAnC,GAA4C,IAAI,IAAhD;AACAiJ,KAAC,CAACtF,0BAAF,CAA6ByF,KAA7B,CAAmCrJ,KAAnC,GAA2C,IAAI,IAA/C;AACAkJ,KAAC,CAACtF,0BAAF,CAA6ByF,KAA7B,CAAmCyD,SAAnC,GAAgD,aAAYhN,CAAE,OAAMC,CAAE,KAAtE;AACAmJ,KAAC,CAACtF,0BAAF,CAA6BiJ,YAA7B,CAA0C,YAA1C,EAAyD,gBAAzD;AAEAuE,iBAAa,CAAC,IAAD,CAAb;AAEAlI,KAAC,CAACnF,6BAAF,CAAgCsF,KAAhC,CAAsCyD,SAAtC,GAAmD,aAAYhN,CAAE,OAAMC,CAAE,KAAzE;AACAmJ,KAAC,CAACnF,6BAAF,CAAgC4I,SAAhC,CAA0CC,GAA1C,CACC,0CADD;AAIA9C,SAAK,CAACkc,cAAN;AACA,GAlCD,MAkCO,CACN;AACA;AACD,CA1CM;AA4CA,MAAMhB,eAAe,GAAG,UAAUlb,KAAV,EAAiB;AAC/C,QAAMZ,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;AACA,QAAMjH,gBAAgB,GAAGC,0BAAmB,CAAC,IAAD,CAA5C;AACA,QAAM8C,eAAe,GAAGC,yBAAkB,CAAC,IAAD,CAA1C;AAEA,QAAM4mB,IAAI,GAAGjN,sBAAsB,CAAC,IAAD,CAAnC;AACA,QAAMlB,EAAE,GAAGN,kBAAkB,CAAC,IAAD,CAA7B;;AAEA,MAAIyO,IAAI,CAACK,sBAAL,KAAgC,IAApC,EAA0C;AACzCxb,KAAC,CAACtF,0BAAF,CAA6B+I,SAA7B,CAAuCM,MAAvC,CACC,sCADD,EAEC,yCAFD;AAKA,UAAMvD,SAAS,GAAGR,CAAC,CAACrG,eAAF,CAAkB6G,SAApC;AACA,UAAMW,UAAU,GAAGnB,CAAC,CAACrG,eAAF,CAAkBwH,UAArC;AAEA,UAAMvK,CAAC,GAAGukB,IAAI,CAAC3X,cAAL,CAAoBkZ,YAA9B;AACA,UAAM7lB,CAAC,GAAGskB,IAAI,CAAC3X,cAAL,CAAoBmZ,YAA9B;AAEA,UAAMI,QAAQ,GACbnc,KAAK,CAACiC,OAAN,GAAgBjM,CAAhB,GAAoBuK,UAApB,GAAiC5P,gBAAgB,CAACc,YADnD;AAEA,UAAM2qB,SAAS,GACdpc,KAAK,CAACkC,OAAN,GAAgBjM,CAAhB,GAAoB2J,SAApB,GAAgCjP,gBAAgB,CAACoB,WADlD;AAGAwoB,QAAI,CAAC3X,cAAL,CAAoBuZ,QAApB,GAA+BA,QAA/B;AACA5B,QAAI,CAAC3X,cAAL,CAAoBwZ,SAApB,GAAgCA,SAAhC;AAEA,UAAMC,cAAc,GAAGrc,KAAK,CAACkC,OAAN,GAAgBtC,SAAvC;AACAV,gBAAY,CAAC,IAAD,EAAOmd,cAAP,CAAZ;;AAEA,QAAIF,QAAQ,GAAG,CAAX,IAAgBC,SAAS,GAAG,CAAhC,EAAmC;AAClChd,OAAC,CAACtF,0BAAF,CAA6ByF,KAA7B,CAAmCrJ,KAAnC,GAA2CimB,QAAQ,GAAG,IAAtD;AACA/c,OAAC,CAACtF,0BAAF,CAA6ByF,KAA7B,CAAmCpJ,MAAnC,GAA4CimB,SAAS,GAAG,IAAxD;AACAhd,OAAC,CAACtF,0BAAF,CAA6BiJ,YAA7B,CACC,YADD,EAEE,MAAKrB,QAAQ,CAACya,QAAD,CAAW,UAASza,QAAQ,CAAC0a,SAAD,CAAY,IAFvD;AAIA;;AAED,QAAI1oB,eAAe,CAAC6T,qBAAhB,KAA0C,KAA9C,EAAqD;AACpDsT,kBAAY,CAACN,IAAI,CAAC+B,gCAAN,CAAZ;AACA/B,UAAI,CAAC+B,gCAAL,GAAwCrN,UAAU,CACjDsN,wBAAwB,CAACvB,IAAzB,CACC,IADD,EAECT,IAAI,CAAC3X,cAAL,CAAoBkZ,YAFrB,EAGCvB,IAAI,CAAC3X,cAAL,CAAoBmZ,YAHrB,EAICI,QAJD,EAKCC,SALD,CADiD,EAQjD1oB,eAAe,CAAC8oB,cARiC,CAAlD;AAUA,KAZD,MAYO,IAAI9oB,eAAe,CAAC6T,qBAAhB,KAA0C,UAA9C,EAA0D;AAChEsT,kBAAY,CAACN,IAAI,CAACkC,iCAAN,CAAZ;AACAlC,UAAI,CAACkC,iCAAL,GAAyCxN,UAAU,CAClDyN,yBAAyB,CAAC1B,IAA1B,CACC,IADD,EAECT,IAAI,CAAC3X,cAAL,CAAoBkZ,YAFrB,EAGCvB,IAAI,CAAC3X,cAAL,CAAoBmZ,YAHrB,EAICI,QAJD,EAKCC,SALD,CADkD,EAQlD1oB,eAAe,CAAC8oB,cARkC,CAAnD;AAUA;AACD,GAzDD,MAyDO;AACNpB,qBAAiB,CAACzC,IAAlB,CAAuB,IAAvB,EAA6B3Y,KAA7B,EADM,CAGN;AAEA;AACA;AACA;AACA;;AACDA,OAAK,CAAC0a,eAAN;AACA,CA3EM;AA6EA,MAAMa,eAAe,GAAG,UAAUvb,KAAV,EAAiB;AAC/C,QAAMZ,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;AACA,QAAMjH,gBAAgB,GAAGC,0BAAmB,CAAC,IAAD,CAA5C;AACA,QAAM8C,eAAe,GAAGC,yBAAkB,CAAC,IAAD,CAA1C;AAEA,QAAM4mB,IAAI,GAAGjN,sBAAsB,CAAC,IAAD,CAAnC;AACA,QAAMlB,EAAE,GAAGN,kBAAkB,CAAC,IAAD,CAA7B;;AAEA,MAAIyO,IAAI,CAACe,oBAAL,KAA8B,IAA9B,IAAsCtb,KAAK,CAACc,OAAN,CAAc5M,MAAd,KAAyB,CAAnE,EAAsE;AACrEkL,KAAC,CAACtF,0BAAF,CAA6B+I,SAA7B,CAAuCM,MAAvC,CACC,sCADD,EAEC,yCAFD;AAKA,UAAMvD,SAAS,GAAGR,CAAC,CAACrG,eAAF,CAAkB6G,SAApC;AACA,UAAMW,UAAU,GAAGnB,CAAC,CAACrG,eAAF,CAAkBwH,UAArC;AAEA,UAAMvK,CAAC,GAAGukB,IAAI,CAAC3X,cAAL,CAAoBkZ,YAA9B;AACA,UAAM7lB,CAAC,GAAGskB,IAAI,CAAC3X,cAAL,CAAoBmZ,YAA9B;AAEA,UAAMC,yBAAyB,GAAGtb,uBAAuB,CAAC,IAAD,EAAOV,KAAP,CAAzD;AAEA,UAAMmc,QAAQ,GAAGH,yBAAyB,CAAChmB,CAA1B,GAA8BA,CAA/C;AACA,UAAMomB,SAAS,GAAGJ,yBAAyB,CAAC/lB,CAA1B,GAA8BA,CAAhD;;AAEA,QAAI+lB,yBAAyB,KAAK,KAAlC,EAAyC;AACxCzB,UAAI,CAAC3X,cAAL,CAAoBuZ,QAApB,GAA+BA,QAA/B;AACA5B,UAAI,CAAC3X,cAAL,CAAoBwZ,SAApB,GAAgCA,SAAhC;;AAEA,UAAID,QAAQ,GAAG,CAAX,IAAgBC,SAAS,GAAG,CAAhC,EAAmC;AAClChd,SAAC,CAACtF,0BAAF,CAA6ByF,KAA7B,CAAmCrJ,KAAnC,GAA2CimB,QAAQ,GAAG,IAAtD;AACA/c,SAAC,CAACtF,0BAAF,CAA6ByF,KAA7B,CAAmCpJ,MAAnC,GAA4CimB,SAAS,GAAG,IAAxD;AACAhd,SAAC,CAACtF,0BAAF,CAA6BiJ,YAA7B,CACC,YADD,EAEE,MAAKrB,QAAQ,CAACya,QAAD,CAAW,UAASza,QAAQ,CAAC0a,SAAD,CAAY,IAFvD;AAIA;AACD;;AAED,QAAIJ,yBAAyB,KAAK,KAAlC,EAAyC;AACxC,YAAMW,gCAAgC,GAAGvd,CAAC,CAACrG,eAAF,CAAkBmH,qBAAlB,EAAzC;AACA,YAAM0c,+BAA+B,GACpCxd,CAAC,CAACrG,eAAF,CAAkBqJ,WAAlB,GAAgCua,gCAAgC,CAACvc,IADlE;AAEA,YAAMT,iCAAiC,GACtCP,CAAC,CAACrG,eAAF,CAAkBuJ,YAAlB,GAAiCqa,gCAAgC,CAACrc,GADnE;AAEA,YAAMuc,4BAA4B,GACjCb,yBAAyB,CAAChmB,CAA1B,GACArF,gBAAgB,CAACc,YADjB,GAEA8O,UAHD;AAIA,YAAMb,4BAA4B,GACjCsc,yBAAyB,CAAC/lB,CAA1B,GAA8BtF,gBAAgB,CAACoB,WAA/C,GAA6D6N,SAD9D;AAGA,YAAMkd,cAAc,GAAGd,yBAAyB,CAAC/lB,CAAjD;AACAiJ,kBAAY,CAAC,IAAD,EAAO4d,cAAP,CAAZ;AAEA,YAAMjd,eAAe,GAAGJ,YAAY,CACnC,IADmC,EAEnCC,4BAFmC,EAGnCC,iCAHmC,CAApC;;AAMA,UAAIjM,eAAe,CAAC6T,qBAAhB,KAA0C,KAA9C,EAAqD;AACpDsT,oBAAY,CAACN,IAAI,CAAC+B,gCAAN,CAAZ;;AACA,YAAIzc,eAAe,KAAK,IAAxB,EAA8B;AAC7B0a,cAAI,CAAC+B,gCAAL,GAAwCrN,UAAU,CACjDsN,wBAAwB,CAACvB,IAAzB,CACC,IADD,EAECT,IAAI,CAAC3X,cAAL,CAAoBkZ,YAFrB,EAGCvB,IAAI,CAAC3X,cAAL,CAAoBmZ,YAHrB,EAICI,QAJD,EAKCC,SALD,CADiD,EAQjD1oB,eAAe,CAAC8oB,cARiC,CAAlD;AAUA;AACD,OAdD,MAcO,IAAI9oB,eAAe,CAAC6T,qBAAhB,KAA0C,UAA9C,EAA0D;AAChEsT,oBAAY,CAACN,IAAI,CAACkC,iCAAN,CAAZ;;AACA,YAAI5c,eAAe,KAAK,IAAxB,EAA8B;AAC7B0a,cAAI,CAACkC,iCAAL,GAAyCxN,UAAU,CAClDyN,yBAAyB,CAAC1B,IAA1B,CACC,IADD,EAECT,IAAI,CAAC3X,cAAL,CAAoBkZ,YAFrB,EAGCvB,IAAI,CAAC3X,cAAL,CAAoBmZ,YAHrB,EAICI,QAJD,EAKCC,SALD,CADkD,EAQlD1oB,eAAe,CAAC8oB,cARkC,CAAnD;AAUA;AACD;AACD;;AACDxc,SAAK,CAACkc,cAAN;AACA,GApFD,MAoFO;AACNd,qBAAiB,CAACzC,IAAlB,CAAuB,IAAvB,EADM,CAEN;AAEA;AACA;AACA;AACA;AACA;AACA;;AAED3Y,OAAK,CAAC0a,eAAN;AACA,CAxGM;AA0GA,MAAMS,aAAa,GAAG,UAAUnb,KAAV,EAAiB;AAC7C,QAAMZ,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;AACA,QAAMlE,eAAe,GAAGC,yBAAkB,CAAC,IAAD,CAA1C;AAEA,QAAM4mB,IAAI,GAAGjN,sBAAsB,CAAC,IAAD,CAAnC;AAEAuN,cAAY,CAACN,IAAI,CAAC+B,gCAAN,CAAZ;AACAzB,cAAY,CAACN,IAAI,CAACO,cAAN,CAAZ;AACA,MAAIiC,aAAa,GAAG,KAApB;;AACA,MAAIxC,IAAI,CAACK,sBAAL,KAAgC,IAApC,EAA0C;AACzC,QAAIlnB,eAAe,CAAC6T,qBAAhB,KAA0C,KAA9C,EAAqD;AACpD,UACC+D,iBAAiB,CAChB,IADgB,EAEhBiP,IAAI,CAAC3X,cAAL,CAAoBkZ,YAFJ,EAGhBvB,IAAI,CAAC3X,cAAL,CAAoBmZ,YAHJ,EAIhBxB,IAAI,CAAC3X,cAAL,CAAoBuZ,QAJJ,EAKhB5B,IAAI,CAAC3X,cAAL,CAAoBwZ,SALJ,CADlB,EAQE;AACD,YAAIrmB,IAAI,GAAG;AACVC,WAAC,EAAEukB,IAAI,CAAC3X,cAAL,CAAoBkZ,YADb;AAEV7lB,WAAC,EAAEskB,IAAI,CAAC3X,cAAL,CAAoBmZ,YAFb;AAGV7lB,eAAK,EAAEqkB,IAAI,CAAC3X,cAAL,CAAoBuZ,QAHjB;AAIVhmB,gBAAM,EAAEokB,IAAI,CAAC3X,cAAL,CAAoBwZ;AAJlB,SAAX;AAOA,YAAIxc,SAAS,GAAGR,CAAC,CAACrG,eAAF,CAAkB6G,SAAlC;AAEA,YAAIod,aAAa,GAAGpD,OAAO,CAAC,IAAD,EAAO7jB,IAAP,EAAa,KAAb,EAAoB,oBAApB,CAA3B;AACAgnB,qBAAa,GAAG,IAAhB;AAEA3d,SAAC,CAACrG,eAAF,CAAkB6G,SAAlB,GAA8BA,SAA9B;AACA;AACD,KAxBD,MAwBO,IAAIlM,eAAe,CAAC6T,qBAAhB,KAA0C,UAA9C,EAA0D;AAChE,YAAM0V,UAAU,GAAGxR,kBAAkB,CACpC,IADoC,EAEpC8O,IAAI,CAAC3X,cAAL,CAAoBkZ,YAFgB,EAGpCvB,IAAI,CAAC3X,cAAL,CAAoBmZ,YAHgB,EAIpCxB,IAAI,CAAC3X,cAAL,CAAoBuZ,QAJgB,EAKpC5B,IAAI,CAAC3X,cAAL,CAAoBwZ,SALgB,CAArC;;AAOA,UAAIa,UAAJ,EAAgB;AACf7R,oBAAY,CACX,IADW,EAEX6R,UAAU,CAAChnB,CAFA,EAGXgnB,UAAU,CAAC5R,WAHA,CAIX;AACA;AALW,SAAZ;AAOA;AACD;AACD,GA3CD,MA2CO;AACNkP,QAAI,CAACI,eAAL,GAAuB,IAAvB;AACA;;AACDS,mBAAiB,CAACzC,IAAlB,CAAuB,IAAvB;AACA3Y,OAAK,CAAC0a,eAAN;AACA,CAzDM;AA2DA,MAAMc,cAAc,GAAG,UAAUxb,KAAV,EAAiB;AAC9C,QAAMZ,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;AACA,QAAMlE,eAAe,GAAGC,yBAAkB,CAAC,IAAD,CAA1C;AAEA,QAAM4mB,IAAI,GAAGjN,sBAAsB,CAAC,IAAD,CAAnC;AAEAuN,cAAY,CAACN,IAAI,CAAC+B,gCAAN,CAAZ;AACAzB,cAAY,CAACN,IAAI,CAACoB,cAAN,CAAZ;AACA,MAAIoB,aAAa,GAAG,KAApB;;AACA,MAAIxC,IAAI,CAACe,oBAAL,KAA8B,IAA9B,IAAsCtb,KAAK,CAACc,OAAN,CAAc5M,MAAd,KAAyB,CAAnE,EAAsE;AACrE,QAAIR,eAAe,CAAC6T,qBAAhB,KAA0C,KAA9C,EAAqD;AACpD,UACC+D,iBAAiB,CAChB,IADgB,EAEhBiP,IAAI,CAAC3X,cAAL,CAAoBkZ,YAFJ,EAGhBvB,IAAI,CAAC3X,cAAL,CAAoBmZ,YAHJ,EAIhBxB,IAAI,CAAC3X,cAAL,CAAoBuZ,QAJJ,EAKhB5B,IAAI,CAAC3X,cAAL,CAAoBwZ,SALJ,CADlB,EAQE;AACD,YAAIrmB,IAAI,GAAG;AACVC,WAAC,EAAEukB,IAAI,CAAC3X,cAAL,CAAoBkZ,YADb;AAEV7lB,WAAC,EAAEskB,IAAI,CAAC3X,cAAL,CAAoBmZ,YAFb;AAGV7lB,eAAK,EAAEqkB,IAAI,CAAC3X,cAAL,CAAoBuZ,QAHjB;AAIVhmB,gBAAM,EAAEokB,IAAI,CAAC3X,cAAL,CAAoBwZ;AAJlB,SAAX;AAOA,YAAIxc,SAAS,GAAGR,CAAC,CAACrG,eAAF,CAAkB6G,SAAlC;AAEA,YAAIod,aAAa,GAAGpD,OAAO,CAAC,IAAD,EAAO7jB,IAAP,EAAa,KAAb,EAAoB,oBAApB,CAA3B;AACAgnB,qBAAa,GAAG,IAAhB;AAEA3d,SAAC,CAACrG,eAAF,CAAkB6G,SAAlB,GAA8BA,SAA9B;AACA;AACD,KAxBD,MAwBO,IAAIlM,eAAe,CAAC6T,qBAAhB,KAA0C,UAA9C,EAA0D;AAChE,YAAM0V,UAAU,GAAGxR,kBAAkB,CACpC,IADoC,EAEpC8O,IAAI,CAAC3X,cAAL,CAAoBkZ,YAFgB,EAGpCvB,IAAI,CAAC3X,cAAL,CAAoBmZ,YAHgB,EAIpCxB,IAAI,CAAC3X,cAAL,CAAoBuZ,QAJgB,EAKpC5B,IAAI,CAAC3X,cAAL,CAAoBwZ,SALgB,CAArC;;AAOA,UAAIa,UAAJ,EAAgB;AACf7R,oBAAY,CACX,IADW,EAEX6R,UAAU,CAAChnB,CAFA,EAGXgnB,UAAU,CAAC5R,WAHA,CAIX;AACA;AALW,SAAZ;AAOA;AACD;AACD,GA3CD,MA2CO;AACNkP,QAAI,CAACc,aAAL,GAAqB,IAArB;AACA,GAtD6C,CAuD9C;;;AACAD,mBAAiB,CAACzC,IAAlB,CAAuB,IAAvB,EAxD8C,CAyD9C;;AAEA3Y,OAAK,CAAC0a,eAAN;AACA,CA5DM;AA8DA,MAAMe,iBAAiB,GAAG,UAAUzb,KAAV,EAAiB;AACjD;AAEA;AACA;AACAob,mBAAiB,CAACzC,IAAlB,CAAuB,IAAvB,EALiD,CAMjD;AAEA;AACA,CATM;AAWA,MAAM+C,sBAAsB,GAAG,UAAU1b,KAAV,EAAiB;AACtDA,OAAK,CAACkc,cAAN,GADsD,CAEtD;AACA,CAHM;AAKA,MAAMd,iBAAiB,GAAG,UAAUpb,KAAV,EAAiB;AACjD,QAAMZ,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;AAEA,QAAM2iB,IAAI,GAAGjN,sBAAsB,CAAC,IAAD,CAAnC;AACA,QAAMlB,EAAE,GAAGN,kBAAkB,CAAC,IAAD,CAA7B;AAEA+O,cAAY,CAACN,IAAI,CAAC+B,gCAAN,CAAZ;AACAzB,cAAY,CAACN,IAAI,CAACkC,iCAAN,CAAZ;AACA5B,cAAY,CAACN,IAAI,CAACO,cAAN,CAAZ;AACAD,cAAY,CAACN,IAAI,CAACoB,cAAN,CAAZ;AACAnU,iBAAe,CAAC,IAAD,CAAf;AAEApI,GAAC,CAACrG,eAAF,CAAkBgU,mBAAlB,CAAsC,WAAtC,EAAmDX,EAAE,CAAC8O,eAAtD;AACAnC,UAAQ,CAAChM,mBAAT,CAA6B,SAA7B,EAAwCX,EAAE,CAAC+O,aAA3C;AACApC,UAAQ,CAAChM,mBAAT,CAA6B,aAA7B,EAA4CX,EAAE,CAACgP,iBAA/C;AAEAhc,GAAC,CAACrG,eAAF,CAAkBgU,mBAAlB,CAAsC,WAAtC,EAAmDX,EAAE,CAACmP,eAAtD;AACAxC,UAAQ,CAAChM,mBAAT,CAA6B,UAA7B,EAAyCX,EAAE,CAACoP,cAA5C;AACAzC,UAAQ,CAAChM,mBAAT,CAA6B,aAA7B,EAA4CX,EAAE,CAACqP,iBAA/C;AACA1C,UAAQ,CAAChM,mBAAT,CAA6B,aAA7B,EAA4CX,EAAE,CAACsP,sBAA/C;AAEA1O,2BAAyB,CAAC2L,IAA1B,CAA+B,IAA/B;AAEA4B,MAAI,CAAC3X,cAAL,GAAsB,EAAtB;;AAEA,MAAI5C,KAAJ,EAAW;AACVA,SAAK,CAACkc,cAAN;AACAlc,SAAK,CAAC0a,eAAN;AACA;AACD,CA7BM;AA+BA,MAAM6B,wBAAwB,GAAG,UAAUvmB,CAAV,EAAaC,CAAb,EAAgBC,KAAhB,EAAuBC,MAAvB,EAA+B;AACtE,QAAMiJ,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;;AAEA,MAAI0T,iBAAiB,CAAC,IAAD,EAAOtV,CAAP,EAAUC,CAAV,EAAaC,KAAb,EAAoBC,MAApB,CAAjB,KAAiD,KAArD,EAA4D;AAC3DiJ,KAAC,CAACtF,0BAAF,CAA6B+I,SAA7B,CAAuCM,MAAvC,CACC,sCADD;AAGA/D,KAAC,CAACtF,0BAAF,CAA6B+I,SAA7B,CAAuCC,GAAvC,CACC,yCADD;AAGA,GAPD,MAOO;AACN1D,KAAC,CAACtF,0BAAF,CAA6B+I,SAA7B,CAAuCM,MAAvC,CACC,yCADD;AAGA/D,KAAC,CAACtF,0BAAF,CAA6B+I,SAA7B,CAAuCC,GAAvC,CACC,sCADD;AAGA;AACD,CAlBM;AAoBA,MAAM4Z,yBAAyB,GAAG,UAAU1mB,CAAV,EAAaC,CAAb,EAAgBC,KAAhB,EAAuBC,MAAvB,EAA+B;AACvE,QAAMiJ,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;;AAEA,MAAI6T,kBAAkB,CAAC,IAAD,EAAOzV,CAAP,EAAUC,CAAV,EAAaC,KAAb,EAAoBC,MAApB,CAAlB,KAAkD,KAAtD,EAA6D;AAC5DiJ,KAAC,CAACtF,0BAAF,CAA6B+I,SAA7B,CAAuCM,MAAvC,CACC,sCADD;AAGA/D,KAAC,CAACtF,0BAAF,CAA6B+I,SAA7B,CAAuCC,GAAvC,CACC,yCADD;AAGA,GAPD,MAOO;AACN1D,KAAC,CAACtF,0BAAF,CAA6B+I,SAA7B,CAAuCM,MAAvC,CACC,yCADD;AAGA/D,KAAC,CAACtF,0BAAF,CAA6B+I,SAA7B,CAAuCC,GAAvC,CACC,sCADD;AAGA;AACD,CAlBM,C;;ACvlBP;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AAMA;AAGA;AACA;AAKA;AAEO,MAAMoa,sBAAsB,GAAG,CAAC3sB,OAAD,EAAUwF,IAAV,EAAgBojB,KAAhB,KAA0B;AAC/D,QAAMriB,EAAE,GAAGE,eAAe,CAACzG,OAAD,CAA1B;AACA,QAAM8X,GAAG,GAAGlR,uBAAuB,CAAC5G,OAAD,CAAnC;AACA,QAAMI,gBAAgB,GAAGC,0BAAmB,CAACL,OAAD,CAA5C;AAEA,QAAM4E,GAAG,GAAG2B,EAAE,CAAC5C,MAAf;AACA,QAAMipB,WAAW,GAAG,IAAI9nB,KAAJ,CAAUF,GAAV,CAApB;AACA,MAAIG,KAAK,GAAG,CAAZ;AAEA,QAAM6U,KAAK,GAAG,EAAE,GAAGpU;AAAL,GAAd;AACAoU,OAAK,CAACnU,CAAN,IAAWrF,gBAAgB,CAAC6B,MAA5B;AACA2X,OAAK,CAAClU,CAAN,IAAWtF,gBAAgB,CAAC6B,MAA5B;AACA2X,OAAK,CAACjU,KAAN,IAAevF,gBAAgB,CAAC6B,MAAhC;AACA2X,OAAK,CAAChU,MAAN,IAAgBxF,gBAAgB,CAAC6B,MAAjC;AACA,QAAM4C,IAAI,GAAG;AAAEY,KAAC,EAAE,CAAL;AAAQC,KAAC,EAAE,CAAX;AAAcE,UAAM,EAAE,CAAtB;AAAyBD,SAAK,EAAE;AAAhC,GAAb;;AAEA,OAAK,IAAI/B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgB,GAApB,EAAyBhB,CAAC,EAA1B,EAA8B;AAC7BiB,QAAI,CAACY,CAAL,GAASc,EAAE,CAAC3C,CAAD,CAAF,CAAM6B,CAAN,GAAUrF,gBAAgB,CAAC6B,MAApC;AACA4C,QAAI,CAACa,CAAL,GAASa,EAAE,CAAC3C,CAAD,CAAF,CAAM8B,CAAN,GAAUtF,gBAAgB,CAAC6B,MAApC;AACA4C,QAAI,CAACc,KAAL,GAAaY,EAAE,CAAC3C,CAAD,CAAF,CAAM+B,KAAN,GAAcvF,gBAAgB,CAAC6B,MAA5C;AACA4C,QAAI,CAACe,MAAL,GAAcW,EAAE,CAAC3C,CAAD,CAAF,CAAMgC,MAAN,GAAexF,gBAAgB,CAAC6B,MAA9C;;AACA,QACC,CAAC4R,cAAc,CAAChP,IAAD,EAAO+U,KAAP,CAAd,IAA+BvF,gBAAgB,CAACxP,IAAD,EAAO+U,KAAP,CAAhD,KACAhW,CAAC,KAAKglB,KAFP,EAGE;AACDgE,iBAAW,CAAC7nB,KAAK,EAAN,CAAX,GAAuBnB,CAAvB;AACAkU,SAAG,CAAClU,CAAD,CAAH,CAAO6B,CAAP,GAAWT,SAAX;AACA8S,SAAG,CAAClU,CAAD,CAAH,CAAO8B,CAAP,GAAWV,SAAX;AACA;AACD;;AAED,QAAMkR,MAAM,GAAG,IAAIpR,KAAJ,CAAUC,KAAK,GAAG,CAAlB,CAAf;;AACA,OAAK,IAAInB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmB,KAApB,EAA2BnB,CAAC,EAA5B,EAAgC;AAC/BsS,UAAM,CAACtS,CAAD,CAAN,GAAYgpB,WAAW,CAAChpB,CAAD,CAAvB;AACA;;AACDsS,QAAM,CAACnR,KAAD,CAAN,GAAgB6jB,KAAhB;AAEA,SAAO1S,MAAP;AACA,CAtCM;AAwCA,MAAM2W,oBAAoB,GAAG,CAAC7sB,OAAD,EAAUwF,IAAV,EAAgBojB,KAAhB,KAA0B;AAC7D,QAAMriB,EAAE,GAAGE,eAAe,CAACzG,OAAD,CAA1B;AACA,QAAM8X,GAAG,GAAGlR,uBAAuB,CAAC5G,OAAD,CAAnC;AACA,QAAMI,gBAAgB,GAAGC,0BAAmB,CAACL,OAAD,CAA5C;AAEA,QAAM4E,GAAG,GAAG2B,EAAE,CAAC5C,MAAf;AACA,QAAMipB,WAAW,GAAG,IAAI9nB,KAAJ,CAAUF,GAAV,CAApB;AACA,MAAIG,KAAK,GAAG,CAAZ;AAEA,QAAM6U,KAAK,GAAG,EAAE,GAAGpU;AAAL,GAAd;AACAoU,OAAK,CAACnU,CAAN,IAAWrF,gBAAgB,CAAC6B,MAA5B;AACA2X,OAAK,CAAClU,CAAN,IAAWtF,gBAAgB,CAAC6B,MAA5B;AACA2X,OAAK,CAACjU,KAAN,IAAevF,gBAAgB,CAAC6B,MAAhC;AACA2X,OAAK,CAAChU,MAAN,IAAgBxF,gBAAgB,CAAC6B,MAAjC;AACA,QAAM4C,IAAI,GAAG;AAAEY,KAAC,EAAE,CAAL;AAAQC,KAAC,EAAE,CAAX;AAAcE,UAAM,EAAE,CAAtB;AAAyBD,SAAK,EAAE;AAAhC,GAAb;;AAEA,OAAK,IAAI/B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgB,GAApB,EAAyBhB,CAAC,EAA1B,EAA8B;AAC7BiB,QAAI,CAACY,CAAL,GAASc,EAAE,CAAC3C,CAAD,CAAF,CAAM6B,CAAN,GAAUrF,gBAAgB,CAAC6B,MAApC;AACA4C,QAAI,CAACa,CAAL,GAASa,EAAE,CAAC3C,CAAD,CAAF,CAAM8B,CAAN,GAAUtF,gBAAgB,CAAC6B,MAApC;AACA4C,QAAI,CAACc,KAAL,GAAaY,EAAE,CAAC3C,CAAD,CAAF,CAAM+B,KAAN,GAAcvF,gBAAgB,CAAC6B,MAA5C;AACA4C,QAAI,CAACe,MAAL,GAAcW,EAAE,CAAC3C,CAAD,CAAF,CAAMgC,MAAN,GAAexF,gBAAgB,CAAC6B,MAA9C;;AACA,QAAI4R,cAAc,CAAChP,IAAD,EAAO+U,KAAP,CAAd,IAA+BvF,gBAAgB,CAACxP,IAAD,EAAO+U,KAAP,CAAnD,EAAkE;AACjE,UAAIhW,CAAC,KAAKglB,KAAV,EAAiB;AAChBgE,mBAAW,CAAC7nB,KAAK,EAAN,CAAX,GAAuBnB,CAAvB;AACAkU,WAAG,CAAClU,CAAD,CAAH,CAAO6B,CAAP,GAAWT,SAAX;AACA8S,WAAG,CAAClU,CAAD,CAAH,CAAO8B,CAAP,GAAWV,SAAX;AACA;AACD;AACD;;AAED,QAAMkR,MAAM,GAAG,IAAIpR,KAAJ,CAAUC,KAAK,GAAG,CAAlB,CAAf;;AACA,OAAK,IAAInB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmB,KAApB,EAA2BnB,CAAC,EAA5B,EAAgC;AAC/BsS,UAAM,CAACtS,CAAD,CAAN,GAAYgpB,WAAW,CAAChpB,CAAD,CAAvB;AACA;;AACDsS,QAAM,CAACnR,KAAD,CAAN,GAAgB6jB,KAAhB;AAEA,SAAO1S,MAAP;AACA,CArCM;AAuCA,MAAM4W,uBAAuB,GAAG,CAAC9sB,OAAD,EAAU4oB,KAAV,EAAiBjjB,KAAjB,EAAwBC,MAAxB,KAAmC;AACzE,QAAMW,EAAE,GAAGE,eAAe,CAACzG,OAAD,CAA1B;AACA,QAAMI,gBAAgB,GAAGC,0BAAmB,CAACL,OAAD,CAA5C;;AAEA,MAAI4oB,KAAK,GAAG,CAAR,IAAaA,KAAK,IAAIriB,EAAE,CAAC5C,MAA7B,EAAqC;AACpC;AACA,UAAM,sBAAN;AACA;;AAED,MAAI,OAAOgC,KAAP,KAAiB,QAAjB,IAA6B,OAAOC,MAAP,KAAkB,QAAnD,EAA6D;AAC5D,UAAM,kCAAN;AACA;;AAED,MAAIW,EAAE,CAACqiB,KAAD,CAAF,CAAUnjB,CAAV,GAAcE,KAAd,GAAsBvF,gBAAgB,CAAC6B,MAAvC,GAAgD7B,gBAAgB,CAACQ,KAArE,EAA4E;AAC3E;AACA,UAAM,0CAAN;AACA;;AAED,MACC+E,KAAK,GAAGvF,gBAAgB,CAACgC,4BAAzB,IACAwD,MAAM,GAAGxF,gBAAgB,CAACgC,4BAF3B,EAGE;AACD;AACA,UAAO,iDAAgDhC,gBAAgB,CAACgC,4BAA6B,GAArG;AACA;;AAED,SAAO,IAAP;AACA,CA3BM;AA6BA,MAAM2qB,qBAAqB,GAAG,CAAC/sB,OAAD,EAAU4oB,KAAV,EAAiBoE,GAAjB,EAAsBzV,GAAtB,KAA8B;AAClE,QAAMhR,EAAE,GAAGE,eAAe,CAACzG,OAAD,CAA1B;AACA,QAAMI,gBAAgB,GAAGC,0BAAmB,CAACL,OAAD,CAA5C;;AAEA,MAAI4oB,KAAK,GAAG,CAAR,IAAaA,KAAK,IAAIriB,EAAE,CAAC5C,MAA7B,EAAqC;AACpC;AACA,UAAM,sBAAN;AACA;;AAED,MAAI,OAAOqpB,GAAP,KAAe,QAAf,IAA2B,OAAOzV,GAAP,KAAe,QAA9C,EAAwD;AACvD,UAAM,6BAAN;AACA;;AAED,MAAIyV,GAAG,GAAG5sB,gBAAgB,CAAC6B,MAAvB,IAAiCsV,GAAG,GAAGnX,gBAAgB,CAAC6B,MAA5D,EAAoE;AACnE;AACA,UAAM,yCAAN;AACA;;AAED,MACC+qB,GAAG,GAAGzmB,EAAE,CAACqiB,KAAD,CAAF,CAAUjjB,KAAhB,GAAwBvF,gBAAgB,CAAC6B,MAAzC,GACA7B,gBAAgB,CAACQ,KAFlB,EAGE;AACD;AACA,UAAM,0CAAN;AACA;;AAED,SAAO,IAAP;AACA,CA3BM;AA6BA,MAAMqsB,kBAAkB,GAAIjtB,OAAD,IAAa;AAC9C,QAAMuG,EAAE,GAAGE,eAAe,CAACzG,OAAD,CAA1B;AACA,QAAM6O,CAAC,GAAGxH,kBAAW,CAACrH,OAAD,CAArB;AAEA,QAAM4E,GAAG,GAAG2B,EAAE,CAAC5C,MAAf;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgB,GAApB,EAAyBhB,CAAC,EAA1B,EAA8B;AAC7BiL,KAAC,CAAClG,oBAAF,CAAuB/E,CAAvB,EAA0BoL,KAA1B,CAAgCyD,SAAhC,GACC,eAAelM,EAAE,CAAC3C,CAAD,CAAF,CAAM6B,CAArB,GAAyB,MAAzB,GAAkCc,EAAE,CAAC3C,CAAD,CAAF,CAAM8B,CAAxC,GAA4C,KAD7C;AAEAmJ,KAAC,CAAClG,oBAAF,CAAuB/E,CAAvB,EAA0B0O,SAA1B,CAAoCM,MAApC,CAA2C,wBAA3C;AACA;AACD,CAVM;AAYA,MAAMsa,eAAe,GAAG,CAACltB,OAAD,EAAUgtB,GAAV,EAAezV,GAAf,KAAuB;AACrD,QAAMhR,EAAE,GAAGE,eAAe,CAACzG,OAAD,CAA1B;AACA,QAAMI,gBAAgB,GAAGC,0BAAmB,CAACL,OAAD,CAA5C;AAEA,QAAM4E,GAAG,GAAG2B,EAAE,CAAC5C,MAAf;AACA,QAAMkB,IAAI,GAAG;AAAEY,KAAC,EAAE,CAAL;AAAQC,KAAC,EAAE,CAAX;AAAcE,UAAM,EAAE,CAAtB;AAAyBD,SAAK,EAAE;AAAhC,GAAb;AACA,QAAMwnB,EAAE,GAAG;AAAE1nB,KAAC,EAAEunB,GAAL;AAAUtnB,KAAC,EAAE6R;AAAb,GAAX;AACA,MAAI6V,MAAJ;;AACA,OAAK,IAAIxpB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgB,GAApB,EAAyBhB,CAAC,EAA1B,EAA8B;AAC7BiB,QAAI,CAACY,CAAL,GAASc,EAAE,CAAC3C,CAAD,CAAF,CAAM6B,CAAN,GAAUrF,gBAAgB,CAAC6B,MAApC;AACA4C,QAAI,CAACa,CAAL,GAASa,EAAE,CAAC3C,CAAD,CAAF,CAAM8B,CAAN,GAAUtF,gBAAgB,CAAC6B,MAApC;AACA4C,QAAI,CAACc,KAAL,GAAaY,EAAE,CAAC3C,CAAD,CAAF,CAAM+B,KAAN,GAAcvF,gBAAgB,CAAC6B,MAAjB,GAA0B,CAArD;AACA4C,QAAI,CAACe,MAAL,GAAcW,EAAE,CAAC3C,CAAD,CAAF,CAAMgC,MAAN,GAAexF,gBAAgB,CAAC6B,MAAjB,GAA0B,CAAvD;;AACA,QAAIoR,iBAAiB,CAACxO,IAAD,EAAOsoB,EAAP,CAAjB,IAA+BvZ,kBAAkB,CAAC/O,IAAD,EAAOsoB,EAAP,CAArD,EAAiE;AAChEC,YAAM,GAAGxpB,CAAT;AACA;AACA;AACD;;AACD,MAAIwpB,MAAM,KAAKpoB,SAAf,EAA0B;AACzBgoB,OAAG,GAAGzmB,EAAE,CAAC6mB,MAAD,CAAF,CAAW3nB,CAAjB;AACA8R,OAAG,GAAGhR,EAAE,CAAC6mB,MAAD,CAAF,CAAW1nB,CAAjB;AACA;;AACD,SAAO;AAAEsnB,OAAF;AAAOzV,OAAP;AAAY8V,uBAAmB,EAAED;AAAjC,GAAP;AACA,CAvBM,C;;AC/LP;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAQA;AACA;AACA;AACA;CASA;;AAEO,MAAME,UAAU,GAAG,gBAAgB1E,KAAhB,EAAuBjjB,KAAvB,EAA8BC,MAA9B,EAAsC;AAC/D,QAAMW,EAAE,GAAGE,eAAe,CAAC,IAAD,CAA1B;AACA,QAAMoI,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;AACA,QAAMF,SAAS,GAAGC,YAAY,CAAC,IAAD,CAA9B;AAEAwhB,OAAK,GAAGzX,QAAQ,CAACyX,KAAD,CAAhB;AACAkE,yBAAuB,CAAC,IAAD,EAAOlE,KAAP,EAAcjjB,KAAd,EAAqBC,MAArB,CAAvB;AAEAqnB,oBAAkB,CAAC,IAAD,CAAlB;AAEAvmB,yBAAuB,CAAC,IAAD,EAAOH,EAAP,CAAvB;AACA,QAAMuR,GAAG,GAAGlR,uBAAuB,CAAC,IAAD,CAAnC;AACAkR,KAAG,CAAC8Q,KAAD,CAAH,CAAWjjB,KAAX,GAAmBA,KAAnB;AACAmS,KAAG,CAAC8Q,KAAD,CAAH,CAAWhjB,MAAX,GAAoBA,MAApB;AAEA,QAAM2nB,YAAY,GAAG;AACpB9nB,KAAC,EAAEc,EAAE,CAACqiB,KAAD,CAAF,CAAUnjB,CADO;AAEpBC,KAAC,EAAEa,EAAE,CAACqiB,KAAD,CAAF,CAAUljB,CAFO;AAGpBC,SAAK,EAAEA,KAHa;AAIpBC,UAAM,EAAEA;AAJY,GAArB;AAMA,QAAMuR,aAAa,GAAGwV,sBAAsB,CAAC,IAAD,EAAOY,YAAP,EAAqB3E,KAArB,CAA5C;AAEA,QAAMhR,QAAQ,GAAG,MAAMiK,aAAa,CACnC,IADmC,EAEnC1K,aAFmC,EAGnCoW,YAAY,CAAC7nB,CAAb,GAAiB6nB,YAAY,CAAC3nB,MAHK,EAInC2nB,YAAY,CAAC9nB,CAAb,GAAiB8nB,YAAY,CAAC5nB,KAJK,CAApC;AAOAW,iBAAe,CAAC,IAAD,EAAOwR,GAAP,CAAf;AAEAjJ,GAAC,CAAClG,oBAAF,CAAuBigB,KAAvB,EAA8B5Z,KAA9B,CAAoCrJ,KAApC,GAA6C,GAAEmS,GAAG,CAAC8Q,KAAD,CAAH,CAAWjjB,KAAM,IAAhE;AACAkJ,GAAC,CAAClG,oBAAF,CAAuBigB,KAAvB,EAA8B5Z,KAA9B,CAAoCpJ,MAApC,GAA8C,GAAEkS,GAAG,CAAC8Q,KAAD,CAAH,CAAWhjB,MAAO,IAAlE;AAEA,QAAM4nB,WAAW,GAAG9pB,MAAM,CAACD,IAAP,CAAYmU,QAAZ,CAApB;AACA,QAAMhT,GAAG,GAAG4oB,WAAW,CAAC7pB,MAAxB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgB,GAApB,EAAyBhB,CAAC,EAA1B,EAA8B;AAC7B,UAAM6pB,GAAG,GAAGD,WAAW,CAAC5pB,CAAD,CAAvB;AACA,UAAM4B,IAAI,GAAGoS,QAAQ,CAAC6V,GAAD,CAArB;AACA5e,KAAC,CAAClG,oBAAF,CACC8kB,GADD,EAEEze,KAFF,CAEQyD,SAFR,GAEqB,aAAYjN,IAAI,CAACC,CAAE,OAAMD,IAAI,CAACE,CAAE,KAFrD;AAGA;;AAED,MAAIyB,SAAS,CAACumB,cAAd,EAA8B;AAC7BvmB,aAAS,CAACumB,cAAV,CAAyB9E,KAAzB,EAAgCjjB,KAAhC,EAAuCC,MAAvC,EAA+C4nB,WAA/C;AACA;AACD,CAhDM;AAkDA,MAAMG,cAAc,GAAG,gBAAgB/E,KAAhB,EAAuBjjB,KAAvB,EAA8BC,MAA9B,EAAsC;AACnE,QAAMW,EAAE,GAAGE,eAAe,CAAC,IAAD,CAA1B;AACA,QAAMoI,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;AAEAuhB,OAAK,GAAGzX,QAAQ,CAACyX,KAAD,CAAhB;AACAkE,yBAAuB,CAAC,IAAD,EAAOlE,KAAP,EAAcjjB,KAAd,EAAqBC,MAArB,CAAvB;AAEAqnB,oBAAkB,CAAC,IAAD,CAAlB;AAEAvmB,yBAAuB,CAAC,IAAD,EAAOH,EAAP,CAAvB;AACA,QAAMuR,GAAG,GAAGlR,uBAAuB,CAAC,IAAD,CAAnC;AACAkR,KAAG,CAAC8Q,KAAD,CAAH,CAAWjjB,KAAX,GAAmBA,KAAnB;AACAmS,KAAG,CAAC8Q,KAAD,CAAH,CAAWhjB,MAAX,GAAoBA,MAApB;AAEA,QAAM2nB,YAAY,GAAG;AACpB9nB,KAAC,EAAEc,EAAE,CAACqiB,KAAD,CAAF,CAAUnjB,CADO;AAEpBC,KAAC,EAAEa,EAAE,CAACqiB,KAAD,CAAF,CAAUljB,CAFO;AAGpBC,SAAK,EAAEA,KAHa;AAIpBC,UAAM,EAAEA;AAJY,GAArB;AAMA,QAAMuR,aAAa,GAAGwV,sBAAsB,CAAC,IAAD,EAAOY,YAAP,EAAqB3E,KAArB,CAA5C;AAEA,QAAMhR,QAAQ,GAAG,MAAMiK,aAAa,CACnC,IADmC,EAEnC1K,aAFmC,EAGnCoW,YAAY,CAAC7nB,CAAb,GAAiB6nB,YAAY,CAAC3nB,MAHK,EAInC2nB,YAAY,CAAC9nB,CAAb,GAAiB8nB,YAAY,CAAC5nB,KAJK,EAKnC,IALmC,CAApC;AAQA,QAAM6nB,WAAW,GAAG9pB,MAAM,CAACD,IAAP,CAAYmU,QAAZ,CAApB;AACA,QAAMhT,GAAG,GAAG4oB,WAAW,CAAC7pB,MAAxB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgB,GAApB,EAAyBhB,CAAC,EAA1B,EAA8B;AAC7B,UAAM6pB,GAAG,GAAGD,WAAW,CAAC5pB,CAAD,CAAvB;AACA,UAAM4B,IAAI,GAAGoS,QAAQ,CAAC6V,GAAD,CAArB;AACA5e,KAAC,CAAClG,oBAAF,CACC8kB,GADD,EAEEze,KAFF,CAEQyD,SAFR,GAEqB,aAAYjN,IAAI,CAACC,CAAE,OAAMD,IAAI,CAACE,CAAE,KAFrD;AAGA;AACD,CAvCM;AAyCA,MAAMkoB,QAAQ,GAAG,gBAAgBhF,KAAhB,EAAuBoE,GAAvB,EAA4BzV,GAA5B,EAAiC;AACxD,QAAMhR,EAAE,GAAGE,eAAe,CAAC,IAAD,CAA1B;AACA,QAAMoI,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;AACA,QAAMF,SAAS,GAAGC,YAAY,CAAC,IAAD,CAA9B;AACA,QAAMjE,eAAe,GAAGC,yBAAkB,CAAC,IAAD,CAA1C;AAEAwlB,OAAK,GAAGzX,QAAQ,CAACyX,KAAD,CAAhB;;AACA,MAAIzlB,eAAe,CAAC0qB,gBAApB,EAAsC;AACrC;AACA;AACA;AACA,UAAMC,UAAU,GAAGZ,eAAe,CAAC,IAAD,EAAOF,GAAP,EAAYzV,GAAZ,CAAlC;AACAyV,OAAG,GAAGc,UAAU,CAACd,GAAjB;AACAzV,OAAG,GAAGuW,UAAU,CAACvW,GAAjB;AACA;;AAEDwV,uBAAqB,CAAC,IAAD,EAAOnE,KAAP,EAAcoE,GAAd,EAAmBzV,GAAnB,CAArB;AAEA0V,oBAAkB,CAAC,IAAD,CAAlB;AAEAvmB,yBAAuB,CAAC,IAAD,EAAOH,EAAP,CAAvB;AACA,QAAMuR,GAAG,GAAGlR,uBAAuB,CAAC,IAAD,CAAnC;AACAkR,KAAG,CAAC8Q,KAAD,CAAH,CAAWnjB,CAAX,GAAeunB,GAAf;AACAlV,KAAG,CAAC8Q,KAAD,CAAH,CAAWljB,CAAX,GAAe6R,GAAf;AAEA,QAAMgW,YAAY,GAAG;AACpB9nB,KAAC,EAAEunB,GADiB;AAEpBtnB,KAAC,EAAE6R,GAFiB;AAGpB5R,SAAK,EAAEY,EAAE,CAACqiB,KAAD,CAAF,CAAUjjB,KAHG;AAIpBC,UAAM,EAAEW,EAAE,CAACqiB,KAAD,CAAF,CAAUhjB;AAJE,GAArB;AAMA,QAAMuR,aAAa,GAAG0V,oBAAoB,CAAC,IAAD,EAAOU,YAAP,EAAqB3E,KAArB,CAA1C;AAEA,QAAMhR,QAAQ,GAAG,MAAMyH,WAAW,CACjC,IADiC,EAEjClI,aAFiC,EAGjCI,GAHiC,EAIjCA,GAAG,GAAGhR,EAAE,CAACqiB,KAAD,CAAF,CAAUhjB,MAJiB,CAAlC;AAOAU,iBAAe,CAAC,IAAD,EAAOwR,GAAP,CAAf;AAEAjJ,GAAC,CAAClG,oBAAF,CAAuBigB,KAAvB,EAA8BtW,SAA9B,CAAwCM,MAAxC,CAA+C,wBAA/C;AACA/D,GAAC,CAAClG,oBAAF,CACCigB,KADD,EAEE5Z,KAFF,CAEQyD,SAFR,GAEqB,aAAYqF,GAAG,CAAC8Q,KAAD,CAAH,CAAWnjB,CAAE,OAAMqS,GAAG,CAAC8Q,KAAD,CAAH,CAAWljB,CAAE,KAFjE;;AAGA,MAAI,CAACvC,eAAe,CAAC4qB,kBAArB,EAAyC;AACxC;AACAlf,KAAC,CAAClG,oBAAF,CAAuBigB,KAAvB,EAA8B5Z,KAA9B,CAAoCgf,UAApC,GAAiD,MAAjD;AACAtP,cAAU,CAAC,MAAM;AAChB7P,OAAC,CAAClG,oBAAF,CAAuBigB,KAAvB,EAA8B5Z,KAA9B,CAAoCgf,UAApC,GAAiD,EAAjD;AACA,KAFS,EAEP7qB,eAAe,CAAC8qB,YAFT,CAAV;AAGA;;AAED,QAAMT,WAAW,GAAG9pB,MAAM,CAACD,IAAP,CAAYmU,QAAZ,CAApB;AACA,QAAMhT,GAAG,GAAG4oB,WAAW,CAAC7pB,MAAxB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgB,GAApB,EAAyBhB,CAAC,EAA1B,EAA8B;AAC7B,UAAM6pB,GAAG,GAAGD,WAAW,CAAC5pB,CAAD,CAAvB;AACA,UAAM4B,IAAI,GAAGoS,QAAQ,CAAC6V,GAAD,CAArB;AACA5e,KAAC,CAAClG,oBAAF,CACC8kB,GADD,EAEEze,KAFF,CAEQyD,SAFR,GAEqB,aAAYjN,IAAI,CAACC,CAAE,OAAMD,IAAI,CAACE,CAAE,KAFrD;AAGA;;AAED,MAAIyB,SAAS,CAACumB,cAAd,EAA8B;AAC7BvmB,aAAS,CAAC+mB,YAAV,CAAuBtF,KAAvB,EAA8BoE,GAA9B,EAAmCzV,GAAnC,EAAwCiW,WAAxC;AACA;AACD,CAnEM;AAqEA,MAAMW,YAAY,GAAG,gBAAgBvF,KAAhB,EAAuBoE,GAAvB,EAA4BzV,GAA5B,EAAiC;AAC5D,QAAMhR,EAAE,GAAGE,eAAe,CAAC,IAAD,CAA1B;AACA,QAAMoI,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;AACA,QAAMlE,eAAe,GAAGC,yBAAkB,CAAC,IAAD,CAA1C;AAEAwlB,OAAK,GAAGzX,QAAQ,CAACyX,KAAD,CAAhB;;AACA,MAAIzlB,eAAe,CAAC0qB,gBAApB,EAAsC;AACrC;AACA;AACA,UAAMC,UAAU,GAAGZ,eAAe,CAAC,IAAD,EAAOF,GAAP,EAAYzV,GAAZ,CAAlC;AACAyV,OAAG,GAAGc,UAAU,CAACd,GAAjB;AACAzV,OAAG,GAAGuW,UAAU,CAACvW,GAAjB;;AAEA,QAAI,CAACvD,KAAK,CAAC8Z,UAAU,CAACT,mBAAZ,CAAV,EAA4C;AAC3Cxe,OAAC,CAAC5F,wBAAF,CAA2B+F,KAA3B,CAAiCyD,SAAjC,GACC,eAAeua,GAAf,GAAqB,MAArB,GAA8BzV,GAA9B,GAAoC,KADrC;AAEA1I,OAAC,CAAC5F,wBAAF,CAA2BqJ,SAA3B,CAAqCC,GAArC,CACC,oCADD;AAGA;AACD;;AAEDwa,uBAAqB,CAAC,IAAD,EAAOnE,KAAP,EAAcoE,GAAd,EAAmBzV,GAAnB,CAArB;AAEA0V,oBAAkB,CAAC,IAAD,CAAlB;AAEAvmB,yBAAuB,CAAC,IAAD,EAAOH,EAAP,CAAvB;AACA,QAAMuR,GAAG,GAAGlR,uBAAuB,CAAC,IAAD,CAAnC;AACAkR,KAAG,CAAC8Q,KAAD,CAAH,CAAWnjB,CAAX,GAAeunB,GAAf;AACAlV,KAAG,CAAC8Q,KAAD,CAAH,CAAWljB,CAAX,GAAe6R,GAAf;AAEA,QAAMgW,YAAY,GAAG;AACpB9nB,KAAC,EAAEunB,GADiB;AAEpBtnB,KAAC,EAAE6R,GAFiB;AAGpB5R,SAAK,EAAEY,EAAE,CAACqiB,KAAD,CAAF,CAAUjjB,KAHG;AAIpBC,UAAM,EAAEW,EAAE,CAACqiB,KAAD,CAAF,CAAUhjB;AAJE,GAArB;AAMA,QAAMuR,aAAa,GAAG0V,oBAAoB,CAAC,IAAD,EAAOU,YAAP,EAAqB3E,KAArB,CAA1C;AAEA,QAAMhR,QAAQ,GAAG,MAAMyH,WAAW,CACjC,IADiC,EAEjClI,aAFiC,EAGjCI,GAHiC,EAIjCA,GAAG,GAAGhR,EAAE,CAACqiB,KAAD,CAAF,CAAUhjB,MAJiB,EAKjC,IALiC,CAAlC;AAQAiJ,GAAC,CAAClG,oBAAF,CAAuBigB,KAAvB,EAA8BtW,SAA9B,CAAwCC,GAAxC,CAA4C,wBAA5C;AAEA,QAAMib,WAAW,GAAG9pB,MAAM,CAACD,IAAP,CAAYmU,QAAZ,CAApB;AACA,QAAMhT,GAAG,GAAG4oB,WAAW,CAAC7pB,MAAxB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgB,GAApB,EAAyBhB,CAAC,EAA1B,EAA8B;AAC7B,UAAM6pB,GAAG,GAAGD,WAAW,CAAC5pB,CAAD,CAAvB;AACA,UAAM4B,IAAI,GAAGoS,QAAQ,CAAC6V,GAAD,CAArB;AACA5e,KAAC,CAAClG,oBAAF,CACC8kB,GADD,EAEEze,KAFF,CAEQyD,SAFR,GAEqB,aAAYjN,IAAI,CAACC,CAAE,OAAMD,IAAI,CAACE,CAAE,KAFrD;AAGA;AACD,CA1DM,C;;AC9NP;;;;;;;;;;;;;;;;;;;;;;;;CA+BA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AAIA;AACA;AAQA;AASA;AACA;AAMA;CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,MAAM0W,eAAe,GAAG,UAAU3M,KAAV,EAAiB;AAC/C,QAAMZ,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;AACA,QAAMlE,eAAe,GAAGC,yBAAkB,CAAC,IAAD,CAA1C;AACA,QAAMmD,EAAE,GAAGE,eAAe,CAAC,IAAD,CAA1B;AAEA,QAAM2nB,GAAG,GAAGzR,sBAAsB,CAAC,IAAD,CAAlC;AACA,QAAMd,EAAE,GAAGN,kBAAkB,CAAC,IAAD,CAA7B;;AAEA,MAAI9L,KAAK,CAAC+B,KAAN,KAAgB,CAApB,EAAuB;AACtB6c,qBAAiB,CAACjG,IAAlB,CAAuB,IAAvB,EAA6B3Y,KAA7B;AACA;AACA;;AAED,QAAM6e,eAAe,GAAGrd,iBAAiB,CAAC,IAAD,EAAOxB,KAAP,CAAzC;;AAEA,MAAI,CAAC6e,eAAL,EAAsB;AACrB;AACA;;AAED5qB,QAAM,CAACqN,MAAP,CAAcqd,GAAG,CAAC/b,cAAlB,EAAkCic,eAAlC;;AAEA,MAAIF,GAAG,CAAC/b,cAAJ,CAAmBhC,IAAnB,KAA4B,MAAhC,EAAwC;AACvC+d,OAAG,CAAChE,eAAJ,GAAsB,KAAtB;AACAgE,OAAG,CAAC/D,sBAAJ,GAA6B,KAA7B;AAEA7B,YAAQ,CAACxM,gBAAT,CAA0B,WAA1B,EAAuCH,EAAE,CAAC0S,eAA1C;AACA/F,YAAQ,CAACxM,gBAAT,CAA0B,SAA1B,EAAqCH,EAAE,CAAC2S,aAAxC;AACAhG,YAAQ,CAACxM,gBAAT,CAA0B,aAA1B,EAAyCH,EAAE,CAACwS,iBAA5C;AAEA/D,gBAAY,CAAC8D,GAAG,CAAC7D,cAAL,CAAZ;AACA6D,OAAG,CAAC7D,cAAJ,GAAqB7L,UAAU,CAC9B8L,8BAAc,CAACC,IAAf,CAAoB,IAApB,EAA0Bhb,KAA1B,CAD8B,EAE9BtM,eAAe,CAACunB,eAFc,CAA/B;AAKAjb,SAAK,CAACkc,cAAN;AACA,GAfD,MAeO,IAAIyC,GAAG,CAAC/b,cAAJ,CAAmBhC,IAAnB,KAA4B,QAAhC,EAA0C;AAChD+d,OAAG,CAAChE,eAAJ,GAAsB,KAAtB;AACAgE,OAAG,CAAC/D,sBAAJ,GAA6B,IAA7B;AAEAxb,KAAC,CAACrG,eAAF,CAAkBwT,gBAAlB,CAAmC,WAAnC,EAAgDH,EAAE,CAAC0S,eAAnD;AACA/F,YAAQ,CAACxM,gBAAT,CAA0B,SAA1B,EAAqCH,EAAE,CAAC2S,aAAxC;AACAhG,YAAQ,CAACxM,gBAAT,CAA0B,aAA1B,EAAyCH,EAAE,CAACwS,iBAA5C;AAEAD,OAAG,CAAC/b,cAAJ,CAAmBK,KAAnB,GAA2BnM,EAAE,CAAC6nB,GAAG,CAAC/b,cAAJ,CAAmBnB,SAApB,CAAF,CAAiCzL,CAA5D;AACA2oB,OAAG,CAAC/b,cAAJ,CAAmBM,KAAnB,GAA2BpM,EAAE,CAAC6nB,GAAG,CAAC/b,cAAJ,CAAmBnB,SAApB,CAAF,CAAiCxL,CAA5D;AAEA0M,qBAAiB,CAAC,IAAD,EAAOgc,GAAG,CAAC/b,cAAX,CAAjB;AAEA5C,SAAK,CAACkc,cAAN;AACA,GAlD8C,CAoD/C;;;AACAlc,OAAK,CAAC0a,eAAN;AACA,CAtDM;AAwDA,MAAM9N,gBAAgB,GAAG,UAAU5M,KAAV,EAAiB;AAChD,QAAMZ,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;AACA,QAAMlE,eAAe,GAAGC,yBAAkB,CAAC,IAAD,CAA1C;AACA,QAAMmD,EAAE,GAAGE,eAAe,CAAC,IAAD,CAA1B;AAEA,QAAM2nB,GAAG,GAAGzR,sBAAsB,CAAC,IAAD,CAAlC;AACA,QAAMd,EAAE,GAAGN,kBAAkB,CAAC,IAAD,CAA7B;;AAEA,MAAI9L,KAAK,CAACc,OAAN,CAAc5M,MAAd,KAAyB,CAA7B,EAAgC;AAC/B8qB,0BAAsB,CAACrG,IAAvB,CAA4B,IAA5B,EAAkC3Y,KAAlC;AACA;AACA;;AAED,MAAIA,KAAK,CAAC+B,KAAN,KAAgB,CAApB,EAAuB;AACtBid,0BAAsB,CAACrG,IAAvB,CAA4B,IAA5B,EAAkC3Y,KAAlC;AACA;AACA;;AAED,QAAM4B,wBAAwB,GAAGX,uBAAuB,CAAC,IAAD,EAAOjB,KAAP,CAAxD;;AACA,MAAI4B,wBAAwB,KAAK,KAAjC,EAAwC;AACvC;AACA;;AAED,QAAMid,eAAe,GAAGrd,iBAAiB,CAAC,IAAD,EAAOxB,KAAP,CAAzC;;AACA,MAAI,CAAC6e,eAAL,EAAsB;AACrB;AACA;;AAED5qB,QAAM,CAACqN,MAAP,CAAcqd,GAAG,CAAC/b,cAAlB,EAAkCic,eAAlC;;AAEA,MAAIF,GAAG,CAAC/b,cAAJ,CAAmBhC,IAAnB,KAA4B,MAAhC,EAAwC;AACvC+d,OAAG,CAACM,eAAJ,GAAsB,KAAtB;AACAN,OAAG,CAACO,sBAAJ,GAA6B,KAA7B,CAFuC,CAIvC;;AACAnG,YAAQ,CAACxM,gBAAT,CAA0B,WAA1B,EAAuCH,EAAE,CAAC+S,eAA1C;AACApG,YAAQ,CAACxM,gBAAT,CAA0B,UAA1B,EAAsCH,EAAE,CAACgT,cAAzC;AACArG,YAAQ,CAACxM,gBAAT,CAA0B,aAA1B,EAAyCH,EAAE,CAACiT,iBAA5C;AACAtG,YAAQ,CAACxM,gBAAT,CAA0B,aAA1B,EAAyCH,EAAE,CAAC4S,sBAA5C;AAEAL,OAAG,CAAChD,cAAJ,GAAqB1M,UAAU,CAC9B2M,4BAAY,CAACZ,IAAb,CAAkB,IAAlB,EAAwBhb,KAAxB,CAD8B,EAE9BtM,eAAe,CAACmoB,eAFc,CAA/B;AAKA7b,SAAK,CAACkc,cAAN;AACA,GAhBD,MAgBO,IAAIyC,GAAG,CAAC/b,cAAJ,CAAmBhC,IAAnB,KAA4B,QAAhC,EAA0C;AAChD+d,OAAG,CAACM,eAAJ,GAAsB,KAAtB;AACAN,OAAG,CAACO,sBAAJ,GAA6B,IAA7B,CAFgD,CAIhD;;AACA9f,KAAC,CAACrG,eAAF,CAAkBwT,gBAAlB,CAAmC,WAAnC,EAAgDH,EAAE,CAAC+S,eAAnD;AACApG,YAAQ,CAACxM,gBAAT,CAA0B,UAA1B,EAAsCH,EAAE,CAACgT,cAAzC;AACArG,YAAQ,CAACxM,gBAAT,CAA0B,aAA1B,EAAyCH,EAAE,CAACiT,iBAA5C,EAPgD,CAQhD;;AACAtG,YAAQ,CAACxM,gBAAT,CAA0B,aAA1B,EAAyCH,EAAE,CAAC4S,sBAA5C;AAEAL,OAAG,CAAC/b,cAAJ,CAAmBK,KAAnB,GAA2BnM,EAAE,CAAC6nB,GAAG,CAAC/b,cAAJ,CAAmBnB,SAApB,CAAF,CAAiCzL,CAA5D;AACA2oB,OAAG,CAAC/b,cAAJ,CAAmBM,KAAnB,GAA2BpM,EAAE,CAAC6nB,GAAG,CAAC/b,cAAJ,CAAmBnB,SAApB,CAAF,CAAiCxL,CAA5D;AAEA0M,qBAAiB,CAAC,IAAD,EAAOgc,GAAG,CAAC/b,cAAX,CAAjB;AAEA5C,SAAK,CAACkc,cAAN;AACA;;AAEDlc,OAAK,CAAC0a,eAAN;AACA,CAlEM;AAoEA,MAAMK,8BAAc,GAAG,UAAU/a,KAAV,EAAiB;AAC9C,QAAM2e,GAAG,GAAGzR,sBAAsB,CAAC,IAAD,CAAlC;;AAEA,MAAIyR,GAAG,CAAChE,eAAJ,KAAwB,KAA5B,EAAmC;AAClCgE,OAAG,CAAC/D,sBAAJ,GAA6B,IAA7B;AAEAtX,iBAAa,CAAC,IAAD,EAAOqb,GAAG,CAAC/b,cAAX,EAA2B5C,KAA3B,CAAb;AACA;AACD,CARM;AAUA,MAAM4b,4BAAY,GAAG,UAAU5b,KAAV,EAAiB;AAC5C,QAAM2e,GAAG,GAAGzR,sBAAsB,CAAC,IAAD,CAAlC;;AAEA,MAAIyR,GAAG,CAACM,eAAJ,KAAwB,KAA5B,EAAmC;AAClCN,OAAG,CAACO,sBAAJ,GAA6B,IAA7B;AAEA5b,iBAAa,CAAC,IAAD,EAAOqb,GAAG,CAAC/b,cAAX,EAA2B5C,KAA3B,CAAb;AACA;AACD,CARM;AAUA,MAAM8e,eAAe,GAAG,UAAU9e,KAAV,EAAiB;AAC/C,QAAMZ,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;AACA,QAAMjH,gBAAgB,GAAGC,0BAAmB,CAAC,IAAD,CAA5C;AACA,QAAM8C,eAAe,GAAGC,yBAAkB,CAAC,IAAD,CAA1C;AAEA,QAAMgrB,GAAG,GAAGzR,sBAAsB,CAAC,IAAD,CAAlC;AACA,QAAMd,EAAE,GAAGN,kBAAkB,CAAC,IAAD,CAA7B;;AAEA,MAAI6S,GAAG,CAAC/D,sBAAJ,KAA+B,IAAnC,EAAyC;AACxC,QAAI+D,GAAG,CAAC/b,cAAJ,CAAmBhC,IAAnB,KAA4B,MAAhC,EAAwC;AACvC8C,qBAAe,CAAC,IAAD,EAAOib,GAAG,CAAC/b,cAAX,EAA2B5C,KAA3B,EAAkC,MAAlC,CAAf;AAEA6a,kBAAY,CAAC8D,GAAG,CAACW,2BAAL,CAAZ;AAEA,YAAMC,yBAAyB,GAAGxf,uBAAuB,CAAC,IAAD,EAAOC,KAAP,CAAzD;;AAEA,UAAIuf,yBAAyB,KAAK,KAAlC,EAAyC;AACxC,cAAMlD,cAAc,GAAGkD,yBAAyB,CAACtpB,CAAjD;AACAiJ,oBAAY,CAAC,IAAD,EAAOmd,cAAP,CAAZ;AAEAsC,WAAG,CAACW,2BAAJ,GAAkCrQ,UAAU,CAC3CuQ,YAAY,CAACxE,IAAb,CACC,IADD,EAEC2D,GAAG,CAAC/b,cAAJ,CAAmBnB,SAFpB,EAGC8d,yBAHD,CAD2C,EAM3C7rB,eAAe,CAAC8oB,cAN2B,CAA5C;AAQA;AACD,KApBD,MAoBO;AACN9Y,qBAAe,CAAC,IAAD,EAAOib,GAAG,CAAC/b,cAAX,EAA2B5C,KAA3B,EAAkC,QAAlC,CAAf;AAEA6a,kBAAY,CAAC8D,GAAG,CAACc,6BAAL,CAAZ;AAEA,YAAM7f,SAAS,GAAGR,CAAC,CAACrG,eAAF,CAAkB6G,SAApC;AACA,YAAMW,UAAU,GAAGnB,CAAC,CAACrG,eAAF,CAAkBwH,UAArC;AAEA,YAAMvK,CAAC,GAAG2oB,GAAG,CAAC/b,cAAJ,CAAmBK,KAA7B;AACA,YAAMhN,CAAC,GAAG0oB,GAAG,CAAC/b,cAAJ,CAAmBM,KAA7B;AAEA,YAAMiZ,QAAQ,GACbnc,KAAK,CAACiC,OAAN,GAAgBjM,CAAhB,GAAoBuK,UAApB,GAAiC5P,gBAAgB,CAACc,YADnD;AAEA,YAAM2qB,SAAS,GACdpc,KAAK,CAACkC,OAAN,GAAgBjM,CAAhB,GAAoB2J,SAApB,GAAgCjP,gBAAgB,CAACoB,WADlD;AAGA4sB,SAAG,CAAC/b,cAAJ,CAAmBuZ,QAAnB,GAA8BA,QAA9B;AACAwC,SAAG,CAAC/b,cAAJ,CAAmBwZ,SAAnB,GAA+BA,SAA/B;AAEA,YAAMC,cAAc,GAAGrc,KAAK,CAACkC,OAAN,GAAgBtC,SAAvC;AACAV,kBAAY,CAAC,IAAD,EAAOmd,cAAP,CAAZ;;AAEA,UAAIF,QAAQ,GAAG,CAAX,IAAgBC,SAAS,GAAG,CAAhC,EAAmC;AAClChd,SAAC,CAAC/F,yBAAF,CAA4BkG,KAA5B,CAAkCrJ,KAAlC,GAA0CimB,QAAQ,GAAG,IAArD;AACA/c,SAAC,CAAC/F,yBAAF,CAA4BkG,KAA5B,CAAkCpJ,MAAlC,GAA2CimB,SAAS,GAAG,IAAvD;AACAhd,SAAC,CAAC/F,yBAAF,CAA4B0J,YAA5B,CACC,YADD,EAEE,MAAKrB,QAAQ,CAACya,QAAD,CAAW,UAASza,QAAQ,CAAC0a,SAAD,CAAY,IAFvD;AAIA;;AAEDuC,SAAG,CAACc,6BAAJ,GAAoCxQ,UAAU,CAC7CyQ,cAAc,CAAC1E,IAAf,CACC,IADD,EAEC2D,GAAG,CAAC/b,cAAJ,CAAmBnB,SAFpB,EAGC0a,QAHD,EAICC,SAJD,CAD6C,EAO7C1oB,eAAe,CAAC8oB,cAP6B,CAA9C;AASA;AACD,GA9DD,MA8DO;AACNmC,OAAG,CAAChE,eAAJ,GAAsB,IAAtB;AAEAiE,qBAAiB,CAACjG,IAAlB,CAAuB,IAAvB,EAA6B3Y,KAA7B,EAHM,CAIN;AACA;AACA;AACA;AACA;AAEA;AACA;;AACDA,OAAK,CAACkc,cAAN;AACAlc,OAAK,CAAC0a,eAAN;AACA,CApFM;AAsFA,MAAMyE,eAAe,GAAG,UAAUnf,KAAV,EAAiB;AAC/C,QAAMZ,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;AACA,QAAMjH,gBAAgB,GAAGC,0BAAmB,CAAC,IAAD,CAA5C;AACA,QAAM8C,eAAe,GAAGC,yBAAkB,CAAC,IAAD,CAA1C;AAEA,QAAMgrB,GAAG,GAAGzR,sBAAsB,CAAC,IAAD,CAAlC;AACA,QAAMd,EAAE,GAAGN,kBAAkB,CAAC,IAAD,CAA7B;;AAEA,MAAI6S,GAAG,CAACO,sBAAJ,KAA+B,IAA/B,IAAuClf,KAAK,CAACc,OAAN,CAAc5M,MAAd,KAAyB,CAApE,EAAuE;AACtE,QAAIyqB,GAAG,CAAC/b,cAAJ,CAAmBhC,IAAnB,KAA4B,MAAhC,EAAwC;AACvC8C,qBAAe,CAAC,IAAD,EAAOib,GAAG,CAAC/b,cAAX,EAA2B5C,KAA3B,EAAkC,MAAlC,CAAf;AAEA6a,kBAAY,CAAC8D,GAAG,CAACW,2BAAL,CAAZ;AAEA,YAAMtD,yBAAyB,GAAGtb,uBAAuB,CAAC,IAAD,EAAOV,KAAP,CAAzD;;AAEA,UAAIgc,yBAAyB,KAAK,KAAlC,EAAyC;AACxC,cAAMpc,SAAS,GAAGR,CAAC,CAACrG,eAAF,CAAkB6G,SAApC;AACA,cAAMW,UAAU,GAAGnB,CAAC,CAACrG,eAAF,CAAkBwH,UAArC;AAEA,cAAMoc,gCAAgC,GAAGvd,CAAC,CAACrG,eAAF,CAAkBmH,qBAAlB,EAAzC;AACA,cAAM0c,+BAA+B,GACpCxd,CAAC,CAACrG,eAAF,CAAkBqJ,WAAlB,GAAgCua,gCAAgC,CAACvc,IADlE;AAEA,cAAMT,iCAAiC,GACtCP,CAAC,CAACrG,eAAF,CAAkBuJ,YAAlB,GAAiCqa,gCAAgC,CAACrc,GADnE;AAEA,cAAMuc,4BAA4B,GACjCb,yBAAyB,CAAChmB,CAA1B,GACArF,gBAAgB,CAACc,YADjB,GAEA8O,UAHD;AAIA,cAAMb,4BAA4B,GACjCsc,yBAAyB,CAAC/lB,CAA1B,GACAtF,gBAAgB,CAACoB,WADjB,GAEA6N,SAHD;AAKA,cAAMkd,cAAc,GAAGd,yBAAyB,CAAC/lB,CAAjD;AACAiJ,oBAAY,CAAC,IAAD,EAAO4d,cAAP,CAAZ;AAEA,cAAMjd,eAAe,GAAGJ,YAAY,CACnC,IADmC,EAEnCC,4BAFmC,EAGnCC,iCAHmC,CAApC;;AAMA,YAAIE,eAAe,KAAK,IAAxB,EAA8B;AAC7B8e,aAAG,CAACW,2BAAJ,GAAkCrQ,UAAU,CAC3CuQ,YAAY,CAACxE,IAAb,CACC,IADD,EAEC2D,GAAG,CAAC/b,cAAJ,CAAmBnB,SAFpB,EAGCua,yBAHD,CAD2C,EAM3CtoB,eAAe,CAAC8oB,cAN2B,CAA5C;AAQA;AACD;AACD,KA7CD,MA6CO;AACN9Y,qBAAe,CAAC,IAAD,EAAOib,GAAG,CAAC/b,cAAX,EAA2B5C,KAA3B,EAAkC,QAAlC,CAAf;AAEA6a,kBAAY,CAAC8D,GAAG,CAACc,6BAAL,CAAZ;AAEA,YAAMzpB,CAAC,GAAG2oB,GAAG,CAAC/b,cAAJ,CAAmBK,KAA7B;AACA,YAAMhN,CAAC,GAAG0oB,GAAG,CAAC/b,cAAJ,CAAmBM,KAA7B;AAEA,YAAM8Y,yBAAyB,GAAGtb,uBAAuB,CAAC,IAAD,EAAOV,KAAP,CAAzD;AAEA,YAAMmc,QAAQ,GAAGH,yBAAyB,CAAChmB,CAA1B,GAA8BA,CAA/C;AACA,YAAMomB,SAAS,GAAGJ,yBAAyB,CAAC/lB,CAA1B,GAA8BA,CAAhD;;AAEA,UAAI+lB,yBAAyB,KAAK,KAAlC,EAAyC;AACxC2C,WAAG,CAAC/b,cAAJ,CAAmBuZ,QAAnB,GAA8BA,QAA9B;AACAwC,WAAG,CAAC/b,cAAJ,CAAmBwZ,SAAnB,GAA+BA,SAA/B;;AAEA,YAAID,QAAQ,GAAG,CAAX,IAAgBC,SAAS,GAAG,CAAhC,EAAmC;AAClChd,WAAC,CAAC/F,yBAAF,CAA4BkG,KAA5B,CAAkCrJ,KAAlC,GAA0CimB,QAAQ,GAAG,IAArD;AACA/c,WAAC,CAAC/F,yBAAF,CAA4BkG,KAA5B,CAAkCpJ,MAAlC,GAA2CimB,SAAS,GAAG,IAAvD;AACAhd,WAAC,CAAC/F,yBAAF,CAA4B0J,YAA5B,CACC,YADD,EAEE,MAAKrB,QAAQ,CAACya,QAAD,CAAW,UAASza,QAAQ,CAAC0a,SAAD,CAAY,IAFvD;AAIA;AACD;;AAED,UAAIJ,yBAAyB,KAAK,KAAlC,EAAyC;AACxC,cAAMpc,SAAS,GAAGR,CAAC,CAACrG,eAAF,CAAkB6G,SAApC;AACA,cAAMW,UAAU,GAAGnB,CAAC,CAACrG,eAAF,CAAkBwH,UAArC;AAEA,cAAMoc,gCAAgC,GAAGvd,CAAC,CAACrG,eAAF,CAAkBmH,qBAAlB,EAAzC;AACA,cAAM0c,+BAA+B,GACpCxd,CAAC,CAACrG,eAAF,CAAkBqJ,WAAlB,GAAgCua,gCAAgC,CAACvc,IADlE;AAEA,cAAMT,iCAAiC,GACtCP,CAAC,CAACrG,eAAF,CAAkBuJ,YAAlB,GAAiCqa,gCAAgC,CAACrc,GADnE;AAEA,cAAMuc,4BAA4B,GACjCb,yBAAyB,CAAChmB,CAA1B,GACArF,gBAAgB,CAACc,YADjB,GAEA8O,UAHD;AAIA,cAAMb,4BAA4B,GACjCsc,yBAAyB,CAAC/lB,CAA1B,GACAtF,gBAAgB,CAACoB,WADjB,GAEA6N,SAHD;AAKA,cAAMkd,cAAc,GAAGd,yBAAyB,CAAC/lB,CAAjD;AACAiJ,oBAAY,CAAC,IAAD,EAAO4d,cAAP,CAAZ;AAEA,cAAMjd,eAAe,GAAGJ,YAAY,CACnC,IADmC,EAEnCC,4BAFmC,EAGnCC,iCAHmC,CAApC;;AAMA,YAAIE,eAAe,KAAK,IAAxB,EAA8B;AAC7B8e,aAAG,CAACc,6BAAJ,GAAoCxQ,UAAU,CAC7CyQ,cAAc,CAAC1E,IAAf,CACC,IADD,EAEC2D,GAAG,CAAC/b,cAAJ,CAAmBnB,SAFpB,EAGC0a,QAHD,EAICC,SAJD,CAD6C,EAO7C1oB,eAAe,CAAC8oB,cAP6B,CAA9C;AASA;AACD;AACD;AACD,GAjHD,MAiHO;AACNvK,WAAO,CAACC,GAAR,CAAY,MAAZ;AACAyM,OAAG,CAACM,eAAJ,GAAsB,IAAtB;AAEAD,0BAAsB,CAACrG,IAAvB,CAA4B,IAA5B,EAAkC3Y,KAAlC,EAJM,CAKN;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;;AAEDA,OAAK,CAAC0a,eAAN;AACA,CA9IM;AAgJA,MAAMqE,aAAa,GAAG,gBAAgB/e,KAAhB,EAAuB;AACnD,QAAMZ,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;AACA,QAAMd,EAAE,GAAGE,eAAe,CAAC,IAAD,CAA1B;AAEA,QAAM2nB,GAAG,GAAGzR,sBAAsB,CAAC,IAAD,CAAlC;AACA,QAAMd,EAAE,GAAGN,kBAAkB,CAAC,IAAD,CAA7B;AAEA+O,cAAY,CAAC8D,GAAG,CAACW,2BAAL,CAAZ;AACAzE,cAAY,CAAC8D,GAAG,CAACc,6BAAL,CAAZ;;AAEA,MAAId,GAAG,CAAC/D,sBAAJ,KAA+B,IAAnC,EAAyC;AACxC,QAAI+D,GAAG,CAAC/b,cAAJ,CAAmBhC,IAAnB,KAA4B,MAAhC,EAAwC;AACvC;AACA;AAEA,YAAM2e,yBAAyB,GAAGxf,uBAAuB,CAAC,IAAD,EAAOC,KAAP,CAAzD;AACA,UAAI2f,kBAAkB,GAAG,EAAzB;;AACA,UAAI;AACH,YAAIJ,yBAAyB,KAAK,KAAlC,EAAyC;AACxC,gBAAMpB,QAAQ,CAACxF,IAAT,CACL,IADK,EAELgG,GAAG,CAAC/b,cAAJ,CAAmBnB,SAFd,EAGL8d,yBAAyB,CAACvpB,CAHrB,EAILupB,yBAAyB,CAACtpB,CAJrB,CAAN;AAMA0pB,4BAAkB,CAAC3pB,CAAnB,GAAuBupB,yBAAyB,CAACvpB,CAAjD;AACA2pB,4BAAkB,CAAC1pB,CAAnB,GAAuBspB,yBAAyB,CAACtpB,CAAjD;AACA,SATD,MASO;AACN,gBAAM,mCAAN;AACA;AACD,OAbD,CAaE,OAAO+jB,KAAP,EAAc;AACf/H,eAAO,CAAC+H,KAAR,CAAcA,KAAd;AACA4F,kCAA0B,CAAC,IAAD,CAA1B;AACA;AACD,KAvBD,MAuBO;AACN;AACA;AAEA,UAAI;AACH,YAAIzD,QAAQ,GAAGwC,GAAG,CAAC/b,cAAJ,CAAmBuZ,QAAlC;AACA,YAAIC,SAAS,GAAGuC,GAAG,CAAC/b,cAAJ,CAAmBwZ,SAAnC;AAEA,cAAMyB,UAAU,CAAClF,IAAX,CACL,IADK,EAELgG,GAAG,CAAC/b,cAAJ,CAAmBnB,SAFd,EAGL0a,QAHK,EAILC,SAJK,CAAN;AAMA,OAVD,CAUE,OAAOpC,KAAP,EAAc;AACf4F,kCAA0B,CAAC,IAAD,CAA1B;AACA;AACD;AACD,GA1CD,MA0CO;AACNjB,OAAG,CAAChE,eAAJ,GAAsB,IAAtB,CADM,CAEN;AACA;AACA;;AAEDiE,mBAAiB,CAACjG,IAAlB,CAAuB,IAAvB,EAA6B3Y,KAA7B,EA1DmD,CA4DnD;AACA;AACA;AACA;AAEA;AACA;;AAEA2e,KAAG,CAAC/b,cAAJ,GAAqB,EAArB;AACA,CArEM;AAuEA,MAAMwc,cAAc,GAAG,gBAAgBpf,KAAhB,EAAuB;AACpDiS,SAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,QAAM9S,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;AACA,QAAMd,EAAE,GAAGE,eAAe,CAAC,IAAD,CAA1B;AAEA,QAAM2nB,GAAG,GAAGzR,sBAAsB,CAAC,IAAD,CAAlC;AACA,QAAMd,EAAE,GAAGN,kBAAkB,CAAC,IAAD,CAA7B;AAEA+O,cAAY,CAAC8D,GAAG,CAACW,2BAAL,CAAZ;AACAzE,cAAY,CAAC8D,GAAG,CAACc,6BAAL,CAAZ;;AAEA,MAAId,GAAG,CAACO,sBAAJ,KAA+B,IAA/B,IAAuClf,KAAK,CAACc,OAAN,CAAc5M,MAAd,KAAyB,CAApE,EAAuE;AACtE,QAAIyqB,GAAG,CAAC/b,cAAJ,CAAmBhC,IAAnB,KAA4B,MAAhC,EAAwC;AACvC;AACA;AAEA,YAAMob,yBAAyB,GAAGtb,uBAAuB,CAAC,IAAD,EAAOV,KAAP,CAAzD;AACA,UAAI2f,kBAAkB,GAAG,EAAzB;;AACA,UAAI;AACH,YAAI3D,yBAAyB,KAAK,KAAlC,EAAyC;AACxC,gBAAMmC,QAAQ,CAACxF,IAAT,CACL,IADK,EAELgG,GAAG,CAAC/b,cAAJ,CAAmBnB,SAFd,EAGLua,yBAAyB,CAAChmB,CAHrB,EAILgmB,yBAAyB,CAAC/lB,CAJrB,CAAN;AAMA0pB,4BAAkB,CAAC3pB,CAAnB,GAAuBgmB,yBAAyB,CAAChmB,CAAjD;AACA2pB,4BAAkB,CAAC1pB,CAAnB,GAAuB+lB,yBAAyB,CAAC/lB,CAAjD;AACA,SATD,MASO;AACN,gBAAM,mCAAN;AACA;AACD,OAbD,CAaE,OAAO+jB,KAAP,EAAc;AACf/H,eAAO,CAAC+H,KAAR,CAAcA,KAAd;AACA4F,kCAA0B,CAAC,IAAD,CAA1B;AACA;AACD,KAvBD,MAuBO;AACN;AACA;AAEA,UAAI;AACH,YAAIzD,QAAQ,GAAGwC,GAAG,CAAC/b,cAAJ,CAAmBuZ,QAAlC;AACA,YAAIC,SAAS,GAAGuC,GAAG,CAAC/b,cAAJ,CAAmBwZ,SAAnC;AAEA,cAAMyB,UAAU,CAAClF,IAAX,CACL,IADK,EAELgG,GAAG,CAAC/b,cAAJ,CAAmBnB,SAFd,EAGL0a,QAHK,EAILC,SAJK,CAAN;AAMA,OAVD,CAUE,OAAOpC,KAAP,EAAc;AACf4F,kCAA0B,CAAC,IAAD,CAA1B;AACA;AACD;AACD,GA1CD,MA0CO;AACNjB,OAAG,CAACM,eAAJ,GAAsB,IAAtB,CADM,CAEN;AACA;AACA;;AAEDD,wBAAsB,CAACrG,IAAvB,CAA4B,IAA5B,EAAkC3Y,KAAlC,EA3DoD,CA4DpD;AAEA;AACA;AACA;AACA;AACA;AAEA;;AAEAA,OAAK,CAAC0a,eAAN;AAEAiE,KAAG,CAAC/b,cAAJ,GAAqB,EAArB;AACA,CAzEM;AA2EA,MAAMgc,iBAAiB,GAAG,UAAU5e,KAAV,EAAiB;AACjD,QAAMZ,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;AAEA,QAAM+mB,GAAG,GAAGzR,sBAAsB,CAAC,IAAD,CAAlC;AACA,QAAMd,EAAE,GAAGN,kBAAkB,CAAC,IAAD,CAA7B;AAEA+O,cAAY,CAAC8D,GAAG,CAACW,2BAAL,CAAZ;AACAzE,cAAY,CAAC8D,GAAG,CAACc,6BAAL,CAAZ;AACA5E,cAAY,CAAC8D,GAAG,CAAC7D,cAAL,CAAZ;AACAD,cAAY,CAAC8D,GAAG,CAAChD,cAAL,CAAZ;AAEAtY,qBAAmB,CAAC,IAAD,EAAOsb,GAAG,CAAC/b,cAAX,CAAnB;AACAa,iBAAe,CAAC,IAAD,EAAOkb,GAAG,CAAC/b,cAAX,CAAf;AACAe,mBAAiB,CAAC,IAAD,CAAjB;AACAic,4BAA0B,CAAC,IAAD,CAA1B;AAEA7G,UAAQ,CAAChM,mBAAT,CAA6B,WAA7B,EAA0CX,EAAE,CAAC0S,eAA7C;AACA1f,GAAC,CAACrG,eAAF,CAAkBgU,mBAAlB,CAAsC,WAAtC,EAAmDX,EAAE,CAAC0S,eAAtD;AACA/F,UAAQ,CAAChM,mBAAT,CAA6B,SAA7B,EAAwCX,EAAE,CAAC2S,aAA3C;AACAhG,UAAQ,CAAChM,mBAAT,CAA6B,aAA7B,EAA4CX,EAAE,CAACwS,iBAA/C;AAEA7F,UAAQ,CAAChM,mBAAT,CAA6B,WAA7B,EAA0CX,EAAE,CAAC+S,eAA7C;AACA/f,GAAC,CAACrG,eAAF,CAAkBgU,mBAAlB,CAAsC,WAAtC,EAAmDX,EAAE,CAAC+S,eAAtD;AACApG,UAAQ,CAAChM,mBAAT,CAA6B,UAA7B,EAAyCX,EAAE,CAACgT,cAA5C;AACArG,UAAQ,CAAChM,mBAAT,CAA6B,aAA7B,EAA4CX,EAAE,CAAC4S,sBAA/C;AACAjG,UAAQ,CAAChM,mBAAT,CAA6B,aAA7B,EAA4CX,EAAE,CAACiT,iBAA/C;AAEAV,KAAG,CAAC/b,cAAJ,GAAqB,EAArB,CA3BiD,CA4BjD;AACA;AACA;AAEA;;AAEA5C,OAAK,CAACkc,cAAN;AACAlc,OAAK,CAAC0a,eAAN;AACA,CApCM;AAsCA,MAAMsE,sBAAsB,GAAG,UAAUhf,KAAV,EAAiB;AACtD;AACA4e,mBAAiB,CAACjG,IAAlB,CAAuB,IAAvB,EAA6B3Y,KAA7B;AACA,CAHM;AAKA,MAAMqf,iBAAiB,GAAG,UAAUrf,KAAV,EAAiB;AACjD;AAEA;AACA;AAEA4e,mBAAiB,CAACjG,IAAlB,CAAuB,IAAvB,EAA6B3Y,KAA7B,EANiD,CAOjD;AACA;AACA,CATM;AAWA,MAAMwf,YAAY,GAAG,gBAAgBrG,KAAhB,EAAuB0G,aAAvB,EAAsC;AACjE,QAAMzgB,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;;AAEA,MAAI;AACH,QAAIioB,aAAa,KAAK,KAAtB,EAA6B;AAC5B,YAAMnB,YAAY,CAAC/F,IAAb,CAAkB,IAAlB,EAAwBQ,KAAxB,EAA+B0G,aAAa,CAAC7pB,CAA7C,EAAgD6pB,aAAa,CAAC5pB,CAA9D,CAAN,CAD4B,CAG5B;AACA;AACA;AACA;AACA;;AAEAmJ,OAAC,CAAC9G,oBAAF,CAAuBuK,SAAvB,CAAiCM,MAAjC,CACC,sDADD;AAGA/D,OAAC,CAAC9G,oBAAF,CAAuBuK,SAAvB,CAAiCC,GAAjC,CACC,mDADD;AAGA,KAfD,MAeO;AACN,YAAM,yBAAN;AACA;AACD,GAnBD,CAmBE,OAAOkX,KAAP,EAAc;AACf/H,WAAO,CAAC+H,KAAR,CAAcA,KAAd;AACA5a,KAAC,CAAC9G,oBAAF,CAAuBuK,SAAvB,CAAiCM,MAAjC,CACC,mDADD;AAGA/D,KAAC,CAAC9G,oBAAF,CAAuBuK,SAAvB,CAAiCC,GAAjC,CACC,sDADD;AAGA;AACD,CA/BM;AAiCA,MAAM4c,cAAc,GAAG,gBAAgBvG,KAAhB,EAAuBjjB,KAAvB,EAA8BC,MAA9B,EAAsC;AACnE,QAAMiJ,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;;AAEA,MAAI;AACH,UAAMsmB,cAAc,CAACvF,IAAf,CAAoB,IAApB,EAA0BQ,KAA1B,EAAiCjjB,KAAjC,EAAwCC,MAAxC,CAAN;AACAiJ,KAAC,CAAC/F,yBAAF,CAA4BwJ,SAA5B,CAAsCC,GAAtC,CACC,2CADD;AAGA,GALD,CAKE,OAAOkX,KAAP,EAAc;AACf/H,WAAO,CAAC+H,KAAR,CAAcA,KAAd;AACA5a,KAAC,CAAC/F,yBAAF,CAA4BwJ,SAA5B,CAAsCC,GAAtC,CACC,8CADD;AAGA;AACD,CAdM;AAgBA,MAAM8c,0BAA0B,GAAG,UAAUrvB,OAAV,EAAmB;AAC5D,QAAM6O,CAAC,GAAGxH,kBAAW,CAACrH,OAAD,CAArB;AACA,QAAMuG,EAAE,GAAGE,eAAe,CAACzG,OAAD,CAA1B;AAEA,QAAM4E,GAAG,GAAGiK,CAAC,CAAClG,oBAAF,CAAuBhF,MAAnC;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgB,GAApB,EAAyBhB,CAAC,EAA1B,EAA8B;AAC7BiL,KAAC,CAAClG,oBAAF,CACC/E,CADD,EAEEoL,KAFF,CAEQyD,SAFR,GAEqB,aAAYlM,EAAE,CAAC3C,CAAD,CAAF,CAAM6B,CAAE,OAAMc,EAAE,CAAC3C,CAAD,CAAF,CAAM8B,CAAE,KAFvD;AAGA;AACD,CAVM,C;;AClsBP;;;;;;;;;;;;;;;;;;;;;;;;AAyBO,MAAMsR,qBAAqB,GAAG;AAAEuY,KAAG,EAAE,IAAP;AAAaC,UAAQ,EAAE;AAAvB,CAA9B;AAEA,MAAM3B,gBAAgB,GAAG;AAAE4B,MAAI,EAAE,IAAR;AAAcC,OAAK,EAAE;AAArB,CAAzB,C;;AC3BP;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AAQA;AAYA;AAgBA;AAGA;AACA;AACA;AACA;AAEO,MAAMC,IAAI,GAAG,gBAAgB3vB,OAAhB,EAAyB4vB,QAAzB,EAAmCC,WAAnC,EAAgD;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,QAAMhhB,CAAC,GAAGxH,kBAAW,CAACrH,OAAD,CAArB;AACA,QAAMI,gBAAgB,GAAGC,0BAAmB,CAACL,OAAD,CAA5C;AACA,QAAMmD,eAAe,GAAGC,yBAAkB,CAACpD,OAAD,CAA1C;AACA,QAAMuG,EAAE,GAAGE,eAAe,CAACzG,OAAD,CAA1B;;AAEA,MAAI6vB,WAAW,KAAK,IAAhB,IAAwB,CAAC9H,iBAAiB,CAACxhB,EAAD,CAA9C,EAAoD;AACnDmb,WAAO,CAACoO,IAAR,CAAa,gBAAb;AAEAppB,2BAAuB,CAAC1G,OAAD,EAAUuG,EAAV,CAAvB;AACA,UAAMuR,GAAG,GAAGlR,uBAAuB,CAAC5G,OAAD,CAAnC;AACA,UAAM4E,GAAG,GAAG2B,EAAE,CAAC5C,MAAf;AACA,UAAMgB,GAAG,GAAG,IAAIG,KAAJ,CAAUF,GAAV,CAAZ;;AACA,SAAK,IAAIhB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgB,GAApB,EAAyBhB,CAAC,EAA1B,EAA8B;AAC7Be,SAAG,CAACf,CAAD,CAAH,GAASA,CAAT;AACAkU,SAAG,CAAClU,CAAD,CAAH,CAAO6B,CAAP,GAAWT,SAAX;AACA8S,SAAG,CAAClU,CAAD,CAAH,CAAO8B,CAAP,GAAWV,SAAX;AAEAuB,QAAE,CAAC3C,CAAD,CAAF,CAAM6B,CAAN,IAAWrF,gBAAgB,CAAC0B,kBAA5B;AACAyE,QAAE,CAAC3C,CAAD,CAAF,CAAM8B,CAAN,IAAWtF,gBAAgB,CAAC0B,kBAA5B;AACAyE,QAAE,CAAC3C,CAAD,CAAF,CAAM+B,KAAN,IAAevF,gBAAgB,CAAC0B,kBAAhC;AACAyE,QAAE,CAAC3C,CAAD,CAAF,CAAMgC,MAAN,IAAgBxF,gBAAgB,CAAC0B,kBAAjC;AACA;;AAEDnB,YAAQ,CAACX,OAAD,EAAUI,gBAAgB,CAACmC,UAA3B,CAAR;AACAzB,aAAS,CAACd,OAAD,EAAUI,gBAAgB,CAACsC,WAA3B,CAAT;AACAV,aAAS,CAAChC,OAAD,EAAUI,gBAAgB,CAACyC,WAA3B,CAAT;AACAhB,uBAAmB,CAAC7B,OAAD,EAAU,CAAV,CAAnB;AACAmC,+BAA2B,CAACnC,OAAD,EAAUI,gBAAgB,CAAC4C,oBAA3B,CAA3B;AAEA,UAAMuf,iBAAiB,CAACviB,OAAD,EAAU2E,GAAV,EAAevE,gBAAgB,CAAC6B,MAAhC,CAAvB;AACAqE,mBAAe,CAACtG,OAAD,EAAU8X,GAAV,CAAf;AACA;;AAED7W,gBAAc,CACbjB,OADa,EAEbmR,QAAQ,CACPlN,MAAM,CACJ8rB,gBADF,CACmBlhB,CAAC,CAACrG,eADrB,EACsC,IADtC,EAEEwnB,gBAFF,CAEmB,cAFnB,CADO,CAFK,CAAd;AAQA5uB,iBAAe,CACdpB,OADc,EAEdmR,QAAQ,CACPlN,MAAM,CACJ8rB,gBADF,CACmBlhB,CAAC,CAACrG,eADrB,EACsC,IADtC,EAEEwnB,gBAFF,CAEmB,eAFnB,CADO,CAFM,CAAf;AAQAzuB,eAAa,CACZvB,OADY,EAEZmR,QAAQ,CACPlN,MAAM,CACJ8rB,gBADF,CACmBlhB,CAAC,CAACrG,eADrB,EACsC,IADtC,EAEEwnB,gBAFF,CAEmB,aAFnB,CADO,CAFI,CAAb;AAQAtuB,kBAAgB,CACf1B,OADe,EAEfmR,QAAQ,CACPlN,MAAM,CACJ8rB,gBADF,CACmBlhB,CAAC,CAACrG,eADrB,EACsC,IADtC,EAEEwnB,gBAFF,CAEmB,gBAFnB,CADO,CAFO,CAAhB;AASArvB,UAAQ,CACPX,OADO,EAEP6O,CAAC,CAACrG,eAAF,CAAkBynB,WAAlB,GACC7vB,gBAAgB,CAACc,YADlB,GAECd,gBAAgB,CAACiB,aAJX,CAAR;AAOAP,WAAS,CACRd,OADQ,EAER6O,CAAC,CAACrG,eAAF,CAAkB0nB,YAAlB,GACC9vB,gBAAgB,CAACoB,WADlB,GAECpB,gBAAgB,CAACuB,cAJV,CAAT,CA9GmE,CAqHnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAIiuB,QAAJ,EAAc;AACb;AACA,UAAMhrB,GAAG,GAAG2B,EAAE,CAAC5C,MAAf;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgB,GAApB,EAAyBhB,CAAC,EAA1B,EAA8B;AAC7B2C,QAAE,CAAC3C,CAAD,CAAF,CAAM6B,CAAN,IAAWrF,gBAAgB,CAAC0B,kBAA5B;AACAyE,QAAE,CAAC3C,CAAD,CAAF,CAAM8B,CAAN,IAAWtF,gBAAgB,CAAC0B,kBAA5B;AACAyE,QAAE,CAAC3C,CAAD,CAAF,CAAM+B,KAAN,IAAevF,gBAAgB,CAAC0B,kBAAhC;AACAyE,QAAE,CAAC3C,CAAD,CAAF,CAAMgC,MAAN,IAAgBxF,gBAAgB,CAAC0B,kBAAjC;AACA;;AAED1B,oBAAgB,CAAC6B,MAAjB,IAA2B7B,gBAAgB,CAAC0B,kBAA5C;AACA1B,oBAAgB,CAACgC,4BAAjB,IACChC,gBAAgB,CAAC0B,kBADlB;AAEA;;AAEDD,qBAAmB,CAClB7B,OADkB,EAElBI,gBAAgB,CAACQ,KAAjB,GAAyBR,gBAAgB,CAACmC,UAFxB,CAAnB;AAIAP,WAAS,CACRhC,OADQ,EAERI,gBAAgB,CAAC6B,MAAjB,GAA0B7B,gBAAgB,CAAC0B,kBAFnC,CAAT;AAIAK,6BAA2B,CAC1BnC,OAD0B,EAE1BI,gBAAgB,CAACgC,4BAAjB,GACChC,gBAAgB,CAAC0B,kBAHQ,CAA3B;AAKA,CA1JM;AA4JA,MAAMquB,qBAAqB,GAAG,UAAUpsB,OAAV,EAAmB;AAAA;;AACvD;AACA,MAAI,CAAAA,OAAO,SAAP,IAAAA,OAAO,WAAP,iCAAAA,OAAO,CAAEgD,QAAT,wEAAmBnG,KAAnB,KAA4B,CAACoT,KAAK,CAACjQ,OAAO,CAACgD,QAAR,CAAiBnG,KAAlB,CAAtC,EAAgE;AAC/D0B,gBAAY,CAAC,IAAD,EAAOyB,OAAO,CAACgD,QAAR,CAAiBnG,KAAxB,CAAZ;AACA;;AAED,MAAI,CAAAmD,OAAO,SAAP,IAAAA,OAAO,WAAP,kCAAAA,OAAO,CAAEgD,QAAT,0EAAmBhG,MAAnB,KAA6B,CAACiT,KAAK,CAACjQ,OAAO,CAACgD,QAAR,CAAiBhG,MAAlB,CAAvC,EAAkE;AACjE0B,iBAAa,CAAC,IAAD,EAAOsB,OAAO,CAACgD,QAAR,CAAiBhG,MAAxB,CAAb;AACA;;AAED,MAAI,CAAAgD,OAAO,SAAP,IAAAA,OAAO,WAAP,kCAAAA,OAAO,CAAEgD,QAAT,0EAAmB9E,MAAnB,KAA6B,CAAC+R,KAAK,CAACjQ,OAAO,CAACgD,QAAR,CAAiB9E,MAAlB,CAAvC,EAAkE;AACjEW,iBAAa,CAAC,IAAD,EAAOmB,OAAO,CAACgD,QAAR,CAAiB9E,MAAxB,CAAb;AACA;;AAED,MACC,CAAA8B,OAAO,SAAP,IAAAA,OAAO,WAAP,kCAAAA,OAAO,CAAEgD,QAAT,0EAAmB/D,oBAAnB,KACA,CAACgR,KAAK,CAACjQ,OAAO,CAACgD,QAAR,CAAiB/D,oBAAlB,CAFP,EAGE;AACDD,wBAAoB,CAAC,KAAKgB,OAAL,CAAagD,QAAb,CAAsB/D,oBAAvB,CAApB;AACA,GAnBsD,CAoBvD;AAEA;;;AACA,MACC,CAAAe,OAAO,SAAP,IAAAA,OAAO,WAAP,qCAAAA,OAAO,CAAEZ,eAAT,gFAA0BitB,iBAA1B,KACA,CAACpc,KAAK,CAACjQ,OAAO,CAACZ,eAAR,CAAwBitB,iBAAzB,CAFP,EAGE;AACD/sB,2BAAuB,CACtB,IADsB,EAEtB,qBAFsB,EAGtBU,OAAO,CAACZ,eAAR,CAAwBitB,iBAHF,CAAvB;AAKA;;AAED,MACC,CAAArsB,OAAO,SAAP,IAAAA,OAAO,WAAP,sCAAAA,OAAO,CAAEZ,eAAT,kFAA0BktB,eAA1B,KACA,CAACrc,KAAK,CAACjQ,OAAO,CAACZ,eAAR,CAAwBktB,eAAzB,CAFP,EAGE;AACDhtB,2BAAuB,CACtB,IADsB,EAEtB,mBAFsB,EAGtBU,OAAO,CAACZ,eAAR,CAAwBktB,eAHF,CAAvB;AAKA;;AAED,MACC,CAAAtsB,OAAO,SAAP,IAAAA,OAAO,WAAP,sCAAAA,OAAO,CAAEZ,eAAT,kFAA0BmtB,uBAA1B,KACA,CAACtc,KAAK,CAACjQ,OAAO,CAACZ,eAAR,CAAwBmtB,uBAAzB,CAFP,EAGE;AACDjtB,2BAAuB,CACtB,IADsB,EAEtB,4BAFsB,EAGtBU,OAAO,CAACZ,eAAR,CAAwBmtB,uBAHF,CAAvB;AAKA;;AAED,MACC,CAAAvsB,OAAO,SAAP,IAAAA,OAAO,WAAP,sCAAAA,OAAO,CAAEZ,eAAT,kFAA0BotB,4BAA1B,KACA,CAACvc,KAAK,CAACjQ,OAAO,CAACZ,eAAR,CAAwBotB,4BAAzB,CAFP,EAGE;AACDltB,2BAAuB,CACtB,IADsB,EAEtB,kCAFsB,EAGtBU,OAAO,CAACZ,eAAR,CAAwBotB,4BAHF,CAAvB;AAKA;;AAED,MACC,CAAAxsB,OAAO,SAAP,IAAAA,OAAO,WAAP,sCAAAA,OAAO,CAAEZ,eAAT,kFAA0BqtB,kBAA1B,KACA,CAACxc,KAAK,CAACjQ,OAAO,CAACZ,eAAR,CAAwBqtB,kBAAzB,CAFP,EAGE;AACDntB,2BAAuB,CACtB,IADsB,EAEtB,sBAFsB,EAGtBU,OAAO,CAACZ,eAAR,CAAwBqtB,kBAHF,CAAvB;AAKA;;AAED,MACC,CAAAzsB,OAAO,SAAP,IAAAA,OAAO,WAAP,sCAAAA,OAAO,CAAEZ,eAAT,kFAA0BstB,eAA1B,KACA,CAACzc,KAAK,CAACjQ,OAAO,CAACZ,eAAR,CAAwBstB,eAAzB,CAFP,EAGE;AACDptB,2BAAuB,CACtB,IADsB,EAEtB,mBAFsB,EAGtBU,OAAO,CAACZ,eAAR,CAAwBstB,eAHF,CAAvB;AAKA;;AAED,MACC,CAAA1sB,OAAO,SAAP,IAAAA,OAAO,WAAP,sCAAAA,OAAO,CAAEZ,eAAT,kFAA0ButB,4BAA1B,KACA,CAAC1c,KAAK,CAACjQ,OAAO,CAACZ,eAAR,CAAwButB,4BAAzB,CAFP,EAGE;AACDrtB,2BAAuB,CACtB,IADsB,EAEtB,kCAFsB,EAGtBU,OAAO,CAACZ,eAAR,CAAwButB,4BAHF,CAAvB;AAKA;;AAED,MACC,CAAA3sB,OAAO,SAAP,IAAAA,OAAO,WAAP,sCAAAA,OAAO,CAAEZ,eAAT,kFAA0BwtB,aAA1B,KACA,CAAC3c,KAAK,CAACjQ,OAAO,CAACZ,eAAR,CAAwBwtB,aAAzB,CAFP,EAGE;AACDttB,2BAAuB,CACtB,IADsB,EAEtB,iBAFsB,EAGtBU,OAAO,CAACZ,eAAR,CAAwBwtB,aAHF,CAAvB;AAKA;;AAED,MACC,CAAA5sB,OAAO,SAAP,IAAAA,OAAO,WAAP,sCAAAA,OAAO,CAAEZ,eAAT,kFAA0BytB,aAA1B,KACA,CAAC5c,KAAK,CAACjQ,OAAO,CAACZ,eAAR,CAAwBytB,aAAzB,CAFP,EAGE;AACDvtB,2BAAuB,CACtB,IADsB,EAEtB,iBAFsB,EAGtBU,OAAO,CAACZ,eAAR,CAAwBytB,aAHF,CAAvB;AAKA;;AAED,MACC,CAAA7sB,OAAO,SAAP,IAAAA,OAAO,WAAP,uCAAAA,OAAO,CAAEZ,eAAT,oFAA0B0tB,YAA1B,KACA,CAAC7c,KAAK,CAACjQ,OAAO,CAACZ,eAAR,CAAwB0tB,YAAzB,CAFP,EAGE;AACDxtB,2BAAuB,CACtB,IADsB,EAEtB,gBAFsB,EAGtBU,OAAO,CAACZ,eAAR,CAAwB0tB,YAHF,CAAvB;AAKA;;AAED,MACC,CAAA9sB,OAAO,SAAP,IAAAA,OAAO,WAAP,uCAAAA,OAAO,CAAEZ,eAAT,oFAA0B2tB,oBAA1B,KACA,CAAC9c,KAAK,CAACjQ,OAAO,CAACZ,eAAR,CAAwB2tB,oBAAzB,CAFP,EAGE;AACDztB,2BAAuB,CACtB,IADsB,EAEtB,yBAFsB,EAGtBU,OAAO,CAACZ,eAAR,CAAwB2tB,oBAHF,CAAvB;AAKA;;AAED,MACC,CAAA/sB,OAAO,SAAP,IAAAA,OAAO,WAAP,uCAAAA,OAAO,CAAEZ,eAAT,oFAA0B4tB,mBAA1B,KACA/Z,qBAAqB,CAACjT,OAAO,CAACZ,eAAR,CAAwB4tB,mBAAzB,CAFtB,EAGE;AACD1tB,2BAAuB,CACtB,IADsB,EAEtB,uBAFsB,EAGtBU,OAAO,CAACZ,eAAR,CAAwB4tB,mBAHF,CAAvB;AAKA;;AAED,MAAI,QAAOhtB,OAAP,aAAOA,OAAP,kDAAOA,OAAO,CAAEZ,eAAhB,4DAAO,wBAA0B6tB,cAAjC,MAAoD,SAAxD,EAAmE;AAClE3tB,2BAAuB,CACtB,IADsB,EAEtB,kBAFsB,EAGtBU,OAAO,CAACZ,eAAR,CAAwB6tB,cAHF,CAAvB;AAKA;;AAED,MAAI,QAAOjtB,OAAP,aAAOA,OAAP,kDAAOA,OAAO,CAAEZ,eAAhB,4DAAO,wBAA0B8tB,gBAAjC,MAAsD,SAA1D,EAAqE;AACpE5tB,2BAAuB,CACtB,IADsB,EAEtB,oBAFsB,EAGtBU,OAAO,CAACZ,eAAR,CAAwB8tB,gBAHF,CAAvB;AAKA;;AAED,MACC,CAAAltB,OAAO,SAAP,IAAAA,OAAO,WAAP,uCAAAA,OAAO,CAAEZ,eAAT,oFAA0B+tB,WAA1B,KACA,CAACld,KAAK,CAACjQ,OAAO,CAACZ,eAAR,CAAwB+tB,WAAzB,CAFP,EAGE;AACD7tB,2BAAuB,CACtB,IADsB,EAEtB,cAFsB,EAGtBU,OAAO,CAACZ,eAAR,CAAwB+tB,WAHF,CAAvB;AAKA,GApLsD,CAsLvD;AAEA;AAEA;;AACA,CA3LM;AA6LA,MAAMC,UAAU,GAAG,YAAY;AACrC,QAAMtiB,CAAC,GAAGxH,kBAAW,CAAC,IAAD,CAArB;AACA,QAAMtD,OAAO,GAAGiN,UAAU,CAAC,IAAD,CAA1B;AAEAzJ,UAAQ,CAAC,IAAD,EAAOihB,QAAQ,CAAC4I,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAP,CAAR;AAEA,MAAIhrB,iBAAJ;;AACA,KAAG;AACFA,qBAAiB,GAChB,uCAAuClB,eAAe,EADvD;AAEA,GAHD,QAGSsjB,QAAQ,CAAC6I,cAAT,CAAwBjrB,iBAAxB,MAA+C,IAHxD;;AAIAF,sBAAoB,CAAC,IAAD,EAAOE,iBAAP,CAApB;AAEA,QAAMkrB,eAAe,GAAG9I,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAxB;AACA6I,iBAAe,CAAC9e,YAAhB,CAA6B,OAA7B,EAAsC,mCAAtC;AACA8e,iBAAe,CAAC9e,YAAhB,CAA6B,IAA7B,EAAmCpM,iBAAnC;AACAuB,qBAAmB,CAAC,IAAD,EAAO2pB,eAAP,CAAnB,CAhBqC,CAkBrC;;AACA,MAAIvtB,OAAO,CAACwtB,sBAAZ,EAAoC;AACnC,QAAIC,uBAAJ;;AACA,QAAI,OAAOztB,OAAO,CAACwtB,sBAAf,KAA0C,QAA9C,EAAwD;AACvDC,6BAAuB,GAAGhJ,QAAQ,CAAC6I,cAAT,CACzBttB,OAAO,CAACwtB,sBADiB,CAA1B;AAGA,KAJD,MAIO,IAAIxtB,OAAO,CAACwtB,sBAAR,YAA0CzH,OAA9C,EAAuD;AAC7D0H,6BAAuB,GAAGztB,OAAO,CAACwtB,sBAAlC;AACA;;AACDC,2BAAuB,CAAC1I,WAAxB,CAAoCwI,eAApC;AACA,GAVD,MAUO;AACNziB,KAAC,CAACpH,KAAF,CAAQqhB,WAAR,CAAoBwI,eAApB;AACA;;AAEDziB,GAAC,CAAC3G,GAAF,CAAM2hB,SAAN,GAAmB,kYAAnB;AACAzhB,6BAA2B,CAC1B,IAD0B,EAE1ByG,CAAC,CAAC3G,GAAF,CAAMghB,sBAAN,CAA6B,4BAA7B,EAA2D,CAA3D,CAF0B,CAA3B;AAIA3gB,oBAAkB,CAAC,IAAD,EAAOsG,CAAC,CAAC3G,GAAF,CAAMghB,sBAAN,CAA6B,kBAA7B,EAAiD,CAAjD,CAAP,CAAlB;AAEA,QAAMuI,mBAAmB,GAAGjJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAA5B;AACA,QAAMiJ,wBAAwB,GAAGlJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAjC;AACA,QAAMkJ,uBAAuB,GAAGnJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAhC,CA1CqC,CA0C0B;;AAC/D,QAAMmJ,+BAA+B,GAAGpJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAxC;AACA,QAAMoJ,yBAAyB,GAAGrJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAlC,CA5CqC,CA4C4B;;AACjE,QAAMqJ,4BAA4B,GAAGtJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAArC,CA7CqC,CA6C+B;;AACpEqJ,8BAA4B,CAACjI,SAA7B,GAAyC,aAAzC;AAEA4H,qBAAmB,CAACjf,YAApB,CACC,OADD,EAEC,wCAFD;AAIAkf,0BAAwB,CAAClf,YAAzB,CACC,OADD,EAEC,8BAFD;AAIAmf,yBAAuB,CAACnf,YAAxB,CAAqC,OAArC,EAA8C,6BAA9C;AACAof,iCAA+B,CAACpf,YAAhC,CACC,OADD,EAEC,sCAFD;AAIAqf,2BAAyB,CAACrf,YAA1B,CACC,OADD,EAEC,gCAFD;AAIAsf,8BAA4B,CAACtf,YAA7B,CACC,OADD,EAEC,mCAFD;AAKA3D,GAAC,CAACjH,gBAAF,CAAmBkhB,WAAnB,CAA+B2I,mBAA/B;AACA5iB,GAAC,CAACrG,eAAF,CAAkBsgB,WAAlB,CAA8B4I,wBAA9B;AACA7iB,GAAC,CAACrG,eAAF,CAAkBsgB,WAAlB,CAA8B6I,uBAA9B;AACA9iB,GAAC,CAACrG,eAAF,CAAkBsgB,WAAlB,CAA8B8I,+BAA9B;AACA/iB,GAAC,CAACrG,eAAF,CAAkBsgB,WAAlB,CAA8B+I,yBAA9B;AACAhjB,GAAC,CAACrG,eAAF,CAAkBsgB,WAAlB,CAA8BgJ,4BAA9B;AAEAhqB,yBAAuB,CAAC,IAAD,EAAO2pB,mBAAP,CAAvB;AACA5oB,8BAA4B,CAAC,IAAD,EAAO6oB,wBAAP,CAA5B;AACA1oB,6BAA2B,CAAC,IAAD,EAAO2oB,uBAAP,CAA3B;AACAxoB,qCAAmC,CAAC,IAAD,EAAOyoB,+BAAP,CAAnC;AACAtoB,+BAA6B,CAAC,IAAD,EAAOuoB,yBAAP,CAA7B;AACApoB,kCAAgC,CAAC,IAAD,EAAOqoB,4BAAP,CAAhC;AACA,CAnFM,C;;AC/ZP;;;;;;;;;;;;;;;;;;;;;;;;CA0BA;;AACA;AACA;AACA;AACA;AACA;AAEO,MAAMC,cAAc,GAAG,UAAUtiB,KAAV,EAAiB;AAC9C,QAAMtM,eAAe,GAAGC,yBAAkB,CAAC,IAAD,CAA1C;AAEAsb,YAAU,CACTnD,kBAAkB,CAAC,IAAD,CAAlB,CAAyByW,2BADhB,EAET;AACA7uB,iBAAe,CAAC8uB,uBAHP,CAIT;AAJS,GAAV;AAMAhuB,QAAM,CAACuY,mBAAP,CAA2B,QAA3B,EAAqCjB,kBAAkB,CAAC,IAAD,CAAlB,CAAyBwW,cAA9D;AACA,CAVM;AAYA,MAAMC,2BAA2B,GAAG,gBAAgBviB,KAAhB,EAAuB;AACjE,QAAMkgB,IAAI,CAAC,IAAD,EAAO,IAAP,EAAa,KAAb,CAAV;AACAzH,QAAM,CAAC,IAAD,CAAN;AAEA,QAAMnkB,OAAO,GAAGiN,iBAAU,CAAC,IAAD,CAA1B;;AAEA,MAAIjN,OAAO,CAACmuB,gBAAR,KAA6B,KAAjC,EAAwC;AACvCjuB,UAAM,CAAC+X,gBAAP,CAAwB,QAAxB,EAAkCT,kBAAkB,CAAC,IAAD,CAAlB,CAAyBwW,cAA3D;AACA;AACD,CATM;AAWA,MAAMxV,WAAW,GAAG,UAAU9M,KAAV,EAAiB;AAC3C,QAAMtI,SAAS,GAAGC,YAAY,CAAC,IAAD,CAA9B;AAEAD,WAAS,CAACmV,mBAAV,CAA8B7M,KAA9B;AACA,CAJM,C;;ACxDP;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AAEA;AAWA;AAWA;AAKA;AACA;AAIA;AAOA;AAEA;AAQA;AAcA;AAIA;CAOA;;AACA;AAMA0iB,cAAc,CAAC7U,SAAf,CAAyBC,WAAzB,GAAuC4U,cAAvC,C,CAEA;AAEA;AAEA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA;;AAEA,SAASA,cAAT,CAAwBpuB,OAAxB,EAAiC;AAChC,OAAKquB,eAAL;AACAthB,YAAU,CAAC,IAAD,EAAO/M,OAAP,CAAV;AACAuC,iBAAe,CAAC,IAAD,EAAOvC,OAAO,CAACyC,YAAf,CAAf;AACAS,cAAY,CAAC,IAAD,EAAOlD,OAAO,CAACoD,SAAf,CAAZ,CAJgC,CAMhC;;AACA,MAAI,OAAOpD,OAAO,CAACsuB,EAAf,KAAsB,QAA1B,EAAoC;AACnC,UAAMA,EAAE,GAAG7J,QAAQ,CAAC6I,cAAT,CAAwBttB,OAAO,CAACsuB,EAAhC,CAAX;;AACA,QAAI,CAACA,EAAL,EAAS;AACR,YAAO,+BAA8BtuB,OAAO,CAACsuB,EAAG,EAAhD;AACA;;AACDpqB,UAAM,CAAC,IAAD,EAAOoqB,EAAP,CAAN;AACA,GAND,MAMO,IAAItuB,OAAO,CAACsuB,EAAR,YAAsBvI,OAA1B,EAAmC;AACzC7hB,UAAM,CAAC,IAAD,EAAOlE,OAAO,CAACsuB,EAAf,CAAN;AACA,GAFM,MAEA;AACN,UAAM,kCAAN;AACA;;AAEDlC,uBAAqB,CAAC/H,IAAtB,CAA2B,IAA3B,EAAiCrkB,OAAjC;AACAotB,YAAU,CAAC/I,IAAX,CAAgB,IAAhB,EApBgC,CAsBhC;;AAEA,MAAI,KAAKrkB,OAAL,CAAamuB,gBAAb,KAAkC,IAAtC,EAA4C;AAC3CjuB,UAAM,CAAC+X,gBAAP,CAAwB,QAAxB,EAAkCT,kBAAkB,CAAC,IAAD,CAAlB,CAAyBwW,cAA3D;AACA;;AAEDrT,YAAU,CACT,kBAAkB;AACjB,UAAMiR,IAAI,CAAC,IAAD,EAAO,KAAP,EAAc5rB,OAAO,CAAC8rB,WAAtB,CAAV;AACA3H,UAAM,CAAC,IAAD,EAAO,IAAP,CAAN;AACA,GAHD,CAGEuC,IAHF,CAGO,IAHP,CADS,CAAV;AAMA;;AAED0H,cAAc,CAAC7U,SAAf,CAAyB8U,eAAzB,GAA2C,YAAY;AACtD,OAAKruB,OAAL,GAAe;AACd+X,YAAQ,EAAE,IADI;AAEdoW,oBAAgB,EAAE,IAFJ;AAGdnW,8BAA0B,EAAE,IAHd;AAIdG,0BAAsB,EAAE;AAJV,GAAf;AAMA,OAAKhc,KAAL,GAAa;AACZ6F,aAAS,EAAE;AACVuB,cAAQ,EAAE;AACTG,aAAK,EAAEzC,SADE;AAET4C,wBAAgB,EAAE5C,SAFT;AAGT+C,4BAAoB,EAAE/C,SAHb;AAITkD,WAAG,EAAElD,SAJI;AAKTqD,gCAAwB,EAAErD,SALjB;AAMTwD,uBAAe,EAAExD,SANR;AAOT2D,4BAAoB,EAAE,EAPb;AAQTG,iCAAyB,EAAE9D,SARlB;AASTiE,gCAAwB,EAAEjE,SATjB;AAUToE,wCAAgC,EAAEpE,SAVzB;AAWTuE,kCAA0B,EAAEvE,SAXnB;AAW8B;AACvC0E,qCAA6B,EAAE1E,SAZtB;AAYiC;AAC1C;AACA6E,2CAAmC,EAAE,EAd5B;AAeTG,wCAAgC,EAAEhF,SAfzB;AAgBTmF,2CAAmC,EAAEnF,SAhB5B;AAiBTsF,sCAA8B,EAAEtF,SAjBvB;AAkBTyF,mCAA2B,EAAEzF,SAlBpB;AAmBT+F,4CAAoC,EAAE,EAnB7B;AAoBTH,sCAA8B,EAAE,EApBvB;AAqBTM,yCAAiC,EAAE,EArB1B;AAsBTG,2CAAmC,EAAE;AAtB5B,OADA;AAyBVrF,gBAAU,EAAE;AACXI,yBAAiB,EAAEpB,SADR;AAEXwB,oBAAY,EAAE,EAFH;AAGXG,4BAAoB,EAAE,EAHX;AAIXI,gBAAQ,EAAE,EAJC;AAKXI,iBAAS,EAAE;AALA,OAzBF;AAgCVqU,qBAAe,EAAE;AAChBY,uBAAe,EAAEA,eAAe,CAACqO,IAAhB,CAAqB,IAArB,CADD;AAEhBpO,wBAAgB,EAAEA,gBAAgB,CAACoO,IAAjB,CAAsB,IAAtB,CAFF;AAGhB8D,uBAAe,EAAEA,eAAe,CAAC9D,IAAhB,CAAqB,IAArB,CAHD;AAIhBmE,uBAAe,EAAEA,eAAe,CAACnE,IAAhB,CAAqB,IAArB,CAJD;AAKhB+D,qBAAa,EAAEA,aAAa,CAAC/D,IAAd,CAAmB,IAAnB,CALC;AAMhBoE,sBAAc,EAAEA,cAAc,CAACpE,IAAf,CAAoB,IAApB,CANA;AAOhB4D,yBAAiB,EAAEA,iBAAiB,CAAC5D,IAAlB,CAAuB,IAAvB,CAPH;AAQhBgE,8BAAsB,EAAEA,sBAAsB,CAAChE,IAAvB,CAA4B,IAA5B,CARR;AAShBqE,yBAAiB,EAAEA,iBAAiB,CAACrE,IAAlB,CAAuB,IAAvB,CATH;AAUhB;AACAxO,uBAAe,EAAEA,eAAe,CAACwO,IAAhB,CAAqB,IAArB,CAXD;AAYhBtO,wBAAgB,EAAEA,gBAAgB,CAACsO,IAAjB,CAAsB,IAAtB,CAZF;AAahBE,uBAAe,EAAEA,eAAe,CAACF,IAAhB,CAAqB,IAArB,CAbD;AAchBO,uBAAe,EAAEA,eAAe,CAACP,IAAhB,CAAqB,IAArB,CAdD;AAehBG,qBAAa,EAAEA,aAAa,CAACH,IAAd,CAAmB,IAAnB,CAfC;AAgBhBQ,sBAAc,EAAEA,cAAc,CAACR,IAAf,CAAoB,IAApB,CAhBA;AAiBhBS,yBAAiB,EAAEA,iBAAiB,CAACT,IAAlB,CAAuB,IAAvB,CAjBH;AAkBhBU,8BAAsB,EAAEA,sBAAsB,CAACV,IAAvB,CAA4B,IAA5B,CAlBR;AAmBhBI,yBAAiB,EAAEA,iBAAiB,CAACJ,IAAlB,CAAuB,IAAvB,CAnBH;AAqBhB;AACAsH,sBAAc,EAAEA,cAAc,CAACtH,IAAf,CAAoB,IAApB,CAtBA;AAuBhBuH,mCAA2B,EAAEA,2BAA2B,CAACvH,IAA5B,CAAiC,IAAjC;AAvBb,OAhCP;AAyDV7N,mBAAa,EAAE;AACdC,uBAAe,EAAE;AAChBxK,wBAAc,EAAE,EADA;AAEhB+X,yBAAe,EAAE,KAFD;AAGhBC,gCAAsB,EAAE,IAHR;AAIhBqE,yBAAe,EAAE,KAJD;AAKhBC,gCAAsB,EAAE,KALR;AAMhBpE,wBAAc,EAAEvlB,SANA;AAOhBomB,wBAAc,EAAEpmB,SAPA;AAQhBkqB,uCAA6B,EAAElqB,SARf;AAShB+pB,qCAA2B,EAAE/pB;AATb,SADH;AAYdgY,uBAAe,EAAE;AAChB3K,wBAAc,EAAE,EADA;AAEhB+X,yBAAe,EAAE,KAFD;AAGhBC,gCAAsB,EAAE,KAHR;AAIhBS,uBAAa,EAAE,KAJC;AAKhBC,8BAAoB,EAAE,KALN;AAMhBR,wBAAc,EAAEvlB,SANA;AAOhBomB,wBAAc,EAAEpmB,SAPA;AAQhB+mB,0CAAgC,EAAE/mB,SARlB;AAShBknB,2CAAiC,EAAElnB;AATnB;AAZH;AAzDL,KADC;AAmFZ7E,aAAS,EAAE;AACVC,sBAAgB,EAAE;AACjB;AACAQ,aAAK,EAAE,CAFU;AAGjBG,cAAM,EAAE,CAHS;AAKjBG,oBAAY,EAAE,CALG;AAMjBG,qBAAa,EAAE,CANE;AAOjBG,mBAAW,EAAE,CAPI;AAQjBG,sBAAc,EAAE,CARC;AAUjBG,0BAAkB,EAAE,CAVH;AAYjBG,cAAM,EAAE,CAZS;AAajBG,oCAA4B,EAAE,GAbb;AAcjB;AAEA;AACAG,kBAAU,EAAE,IAjBK;AAkBjBG,mBAAW,EAAE,IAlBI;AAmBjBG,mBAAW,EAAE,CAnBI;AAoBjBG,4BAAoB,EAAE;AApBL,OADR;AAuBVG,qBAAe,EAAE;AAChBwlB,2BAAmB,EAAE,IAAI,CADT;AAGhBzW,yBAAiB,EAAE,EAHH;AAIhBJ,kCAA0B,EAAE,EAJZ;AAKhBE,wCAAgC,EAAE,CALlB;AAMhBzC,4BAAoB,EAAE,EANN;AAOhBR,yBAAiB,EAAE,EAPH;AAQhBE,wCAAgC,EAAE,EARlB;AAUhByb,uBAAe,EAAE,GAVD;AAWhBY,uBAAe,EAAE,GAXD;AAYhBW,sBAAc,EAAE,GAZA;AAahBgG,+BAAuB,EAAE,IAbT;AAehBjb,6BAAqB,EAAE,KAfP;AAiBhB6W,wBAAgB,EAAE,IAjBF;AAmBhBE,0BAAkB,EAAE,KAnBJ;AAoBhBE,oBAAY,EAAE;AApBE;AAvBP;AAnFC,GAAb;AAkIA,CAzID;;AA2IAkE,cAAc,CAAC7U,SAAf,CAAyB8L,UAAzB,GAAsC,UAAUR,KAAV,EAAiB;AACtD0J,YAAW,CAAC,IAAD,EAAO1J,KAAP,CAAX;AACA,CAFD;;AAIAuJ,cAAc,CAAC7U,SAAf,CAAyBtW,WAAzB,GAAuC,YAAY;AAClD,QAAM5G,gBAAgB,GAAGC,mBAAmB,CAAC,IAAD,CAA5C;AACA,QAAMkG,EAAE,GAAGE,eAAe,CAAC,IAAD,CAA1B;AAEA,QAAM7B,GAAG,GAAG2B,EAAE,CAAC5C,MAAf;AACA,QAAMgB,GAAG,GAAG,IAAIG,KAAJ,CAAUF,GAAV,CAAZ;;AACA,OAAK,IAAIhB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgB,GAApB,EAAyBhB,CAAC,EAA1B,EAA8B;AAC7Be,OAAG,CAACf,CAAD,CAAH,GAAS;AACR6B,OAAC,EAAErB,KAAK,CAACmC,EAAE,CAAC3C,CAAD,CAAF,CAAM6B,CAAN,GAAUrF,gBAAgB,CAAC0B,kBAA5B,CADA;AAER4D,OAAC,EAAEtB,KAAK,CAACmC,EAAE,CAAC3C,CAAD,CAAF,CAAM8B,CAAN,GAAUtF,gBAAgB,CAAC0B,kBAA5B,CAFA;AAGR6D,WAAK,EAAEvB,KAAK,CAACmC,EAAE,CAAC3C,CAAD,CAAF,CAAM+B,KAAN,GAAcvF,gBAAgB,CAAC0B,kBAAhC,CAHJ;AAIR8D,YAAM,EAAExB,KAAK,CAACmC,EAAE,CAAC3C,CAAD,CAAF,CAAMgC,MAAN,GAAexF,gBAAgB,CAAC0B,kBAAjC;AAJL,KAAT;AAMA,GAbiD,CAelD;AACA;;;AACA,SAAO;AACNiF,YAAQ,EAAE;AACTnB,YAAM,EAAExF,gBAAgB,CAACsC,WADhB;AAETiD,WAAK,EAAEvF,gBAAgB,CAACmC,UAFf;AAGTgwB,YAAM,EAAEnyB,gBAAgB,CAACyC,WAHhB;AAITG,0BAAoB,EAAE5C,gBAAgB,CAAC4C;AAJ9B,KADJ;AAONwD,gBAAY,EAAE7B;AAPR,GAAP;AASA,CA1BD;;AA4BAwtB,cAAc,CAAC7U,SAAf,CAAyBkV,mBAAzB,GAA+C,UAAUC,IAAV,EAAgB;AAC9D,MAAIzb,qBAAqB,CAACyb,IAAD,CAAzB,EAAiC;AAChCpvB,2BAAuB,CAAC,IAAD,EAAO,uBAAP,EAAgCovB,IAAhC,CAAvB;AACA;AACD,CAJD;;AAMAN,cAAc,CAAC7U,SAAf,CAAyBoV,iBAAzB,GAA6C,UAAUD,IAAV,EAAgB;AAC5D,MAAI5E,gBAAgB,CAAC4E,IAAD,CAApB,EAA4B;AAC3BpvB,2BAAuB,CAAC,IAAD,EAAO,kBAAP,EAA2BovB,IAA3B,CAAvB;AACA;AACD,CAJD;;AAMAN,cAAc,CAAC7U,SAAf,CAAyB+L,OAAzB,GAAmC,UAAU7jB,IAAV,EAAgB;AAClD,MAAI,CAACA,IAAL,EAAW;AACV,UAAMpF,gBAAgB,GAAGC,mBAAmB,CAAC,IAAD,CAA5C;AACAmF,QAAI,GAAG;AACNG,WAAK,EAAEvF,gBAAgB,CAACgC,4BADlB;AAENwD,YAAM,EAAExF,gBAAgB,CAACgC;AAFnB,KAAP;AAIA;;AAEDuwB,SAAQ,CAAC,IAAD,EAAOntB,IAAP,CAAR;AACA,CAVD;;AAYA2sB,cAAc,CAAC7U,SAAf,CAAyBsV,gBAAzB,GAA4C,UAAUC,CAAV,EAAa;AACxD,OAAK9uB,OAAL,CAAaC,aAAb,GAA6B6uB,CAA7B;AACA,CAFD;;AAIeV,yFAAf,E","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"LimberGridView\"] = factory();\n\telse\n\t\troot[\"LimberGridView\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"assets\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"IntervalTreeJS\"] = factory();\n\telse\n\t\troot[\"IntervalTreeJS\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"assets\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"IntervalTreesRecursive\", function() { return /* reexport */ intervalTreesRecursive; });\n__webpack_require__.d(__webpack_exports__, \"IntervalTreesIterative\", function() { return /* reexport */ intervalTreesIterative; });\n\n// CONCATENATED MODULE: ./src/utils/utils.js\n/*\n\nIntervalTreeJS, a JavaScript Binary Search Tree library that helps to query, insert and delete intervals in the binary search tree.\n\nCopyright © 2019-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of IntervalTreeJS.\n\nIntervalTreeJS is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nIntervalTreeJS is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with IntervalTreeJS.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\nvar inOrder = function inOrder(node, parent, length) {\n  var current = node;\n  var currentParent = parent;\n  var path = new Array(length);\n  var pathIter = -1;\n  path[++pathIter] = current;\n\n  while (current.left !== null) {\n    currentParent = current;\n    current = current.left;\n    path[++pathIter] = current;\n  }\n\n  var leafLow = current.interval.low;\n  var copyPathIter = pathIter;\n  var top = null;\n  var currentToTopArr = new Array(pathIter + 1);\n  var currentToTopArrIter = -1;\n\n  while (copyPathIter >= 0 && path[copyPathIter].interval.low === leafLow) {\n    top = path[copyPathIter];\n    copyPathIter--;\n    currentToTopArr[++currentToTopArrIter] = top;\n  }\n\n  if (copyPathIter >= 0) {\n    // make the immediate left node of parent of top (or current if top === current) to null\n    //  OR right child of top (or current if top === current)\n    if (top.right !== null) {\n      path[copyPathIter].left = top.right;\n      top.right = null;\n    } else {\n      path[copyPathIter].left = null;\n    }\n  }\n\n  pathIter = copyPathIter;\n\n  while (pathIter >= 0) {\n    // update min, max of all the nodes above top.\n    var newMinMax = getNewMinMax(path[pathIter]);\n    path[pathIter].min = newMinMax.min;\n    path[pathIter].max = newMinMax.max;\n    pathIter--;\n  }\n\n  var right = null;\n\n  if (top !== current) {\n    if (top === node) {\n      right = top.right;\n    } else {\n      right = node;\n    }\n  } else {\n    if (current === node) {\n      right = current.right;\n    } else {\n      right = node;\n    }\n  }\n\n  currentToTopArr = removeTrailingEmptyFromArray(currentToTopArr);\n  return {\n    top: top,\n    current: current,\n    right: right,\n    currentToTopArr: currentToTopArr\n  };\n};\nvar fixMinMaxFromCurrentToTop = function fixMinMaxFromCurrentToTop(currentToTopArr) {\n  var iter = 0;\n  var len = currentToTopArr.length;\n\n  while (iter < len) {\n    var newMinMax = getNewMinMax(currentToTopArr[iter]);\n    currentToTopArr[iter].min = newMinMax.min;\n    currentToTopArr[iter].max = newMinMax.max;\n    iter++;\n  }\n};\nvar getNewMinMax = function getNewMinMax(root) {\n  var _root$left, _root$right, _root$right2, _root$left2, _root$left3, _root$right3, _root$right4;\n\n  var min = root.interval.low;\n  var max = root.interval.high;\n  var leftMin = !isNaN((_root$left = root.left) === null || _root$left === void 0 ? void 0 : _root$left.min) ? root.left.min : null;\n  var rightMin = !isNaN((_root$right = root.right) === null || _root$right === void 0 ? void 0 : _root$right.min) ? (_root$right2 = root.right) === null || _root$right2 === void 0 ? void 0 : _root$right2.min : null;\n  var leftMax = !isNaN((_root$left2 = root.left) === null || _root$left2 === void 0 ? void 0 : _root$left2.max) ? (_root$left3 = root.left) === null || _root$left3 === void 0 ? void 0 : _root$left3.max : null;\n  var rightMax = !isNaN((_root$right3 = root.right) === null || _root$right3 === void 0 ? void 0 : _root$right3.max) ? (_root$right4 = root.right) === null || _root$right4 === void 0 ? void 0 : _root$right4.max : null;\n\n  if (leftMin < min && leftMin !== null) {\n    min = leftMin;\n  }\n\n  if (rightMin < min && rightMin !== null) {\n    min = rightMin;\n  }\n\n  if (leftMax > max && leftMax !== null) {\n    max = leftMax;\n  }\n\n  if (rightMax > max && rightMax !== null) {\n    max = rightMax;\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n};\nvar removeTrailingEmptyFromArray = function removeTrailingEmptyFromArray(source) {\n  var count = 0;\n  var len = source.length;\n\n  for (var i = 0; i < len; i++) {\n    if (source[i]) count++;\n  }\n\n  var dest = new Array(count);\n\n  for (var _i = 0; _i < count; _i++) {\n    dest[_i] = source[_i];\n  }\n\n  return dest;\n};\n// CONCATENATED MODULE: ./src/utils/printUtils.js\n/*\n\nIntervalTreeJS, a JavaScript Binary Search Tree library that helps to query, insert and delete intervals in the binary search tree.\n\nCopyright © 2019-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of IntervalTreeJS.\n\nIntervalTreeJS is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nIntervalTreeJS is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with IntervalTreeJS.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\nvar getNodelevel = function getNodelevel(root, node) {\n  var level = 0;\n\n  while (root !== node) {\n    if (root.interval.low >= node.interval.low) {\n      root = root.left;\n    } else {\n      root = root.right;\n    }\n\n    level++;\n  }\n\n  if (root === node) {\n    level++;\n  } else if (root === null) {\n    level = 0;\n  }\n\n  return level;\n};\nvar printBinaryTree = function printBinaryTree(root, length) {\n  var _root = JSON.parse(JSON.stringify(root));\n\n  var s = new Array(length);\n  var sIter = -1;\n  var totalLevels = 0;\n  var count = -1;\n  s[++sIter] = _root;\n\n  while (sIter >= 0) {\n    var t = s[sIter];\n    t.id = ++count;\n    sIter--;\n    var level = getNodelevel(_root, t) - 1;\n\n    if (level > totalLevels) {\n      totalLevels = level;\n    }\n\n    t.level = level;\n\n    if (t.right !== null) {\n      t.right.parentId = t.id;\n      t.right.branched = \"right\";\n      t.right.parent = t;\n      s[++sIter] = t.right;\n    }\n\n    if (t.left !== null) {\n      t.left.parentId = t.id;\n      t.left.branched = \"left\";\n      t.left.parent = t;\n      s[++sIter] = t.left;\n    }\n  }\n\n  var html = [];\n  var arrowsHtml = [];\n  var WIDTH = 60;\n  var HEIGHT = 60;\n  var BORDER = 1;\n  var MARGIN = 5;\n  var TOTAL_WIDTH = WIDTH + 2 * BORDER + 2 * MARGIN;\n  var TOTAL_HEIGHT = HEIGHT + 2 * BORDER + 2 * MARGIN;\n  var leafNodesNum = Math.pow(2, totalLevels);\n  var maxLevelWidth = leafNodesNum * TOTAL_WIDTH;\n  var stack = new Array(length);\n  var stackIter = -1;\n  stack[++stackIter] = _root;\n\n  while (stackIter >= 0) {\n    var top = stack[stackIter];\n    stackIter--;\n\n    if (top.level === 0) {\n      top.pos = {\n        c: maxLevelWidth / 2,\n        x: maxLevelWidth / 2 - TOTAL_WIDTH / 2,\n        y: MARGIN\n      };\n    } else {\n      var distanceBetnChildren = (Math.pow(2, totalLevels - top.level) - 1) / 2 * TOTAL_WIDTH;\n\n      if (top.branched === \"left\") {\n        top.pos = {\n          c: top.parent.pos.c - distanceBetnChildren - TOTAL_WIDTH / 2,\n          x: top.parent.pos.c - distanceBetnChildren - TOTAL_WIDTH,\n          y: MARGIN\n        };\n      } else {\n        top.pos = {\n          c: top.parent.pos.c + distanceBetnChildren + TOTAL_WIDTH / 2,\n          x: top.parent.pos.c + distanceBetnChildren,\n          y: MARGIN\n        };\n      }\n    }\n\n    if (!html[top.level]) {\n      html[top.level] = \"<g class=\\\"interval-tree-print-level\\\" data-attr=\\\"level-\".concat(top.level, \"\\\" transform=\\\"translate(\", 0, \", \").concat(top.level * TOTAL_HEIGHT, \")\\\">\");\n    }\n\n    html[top.level] += \"<g class=\\\"interval-tree-print-node\\\" transform=\\\"translate(\".concat(top.pos.x, \", \").concat(top.pos.y, \")\\\">\\n\\t\\t\\t<text class=\\\"interval-tree-print-node-id\\\" dx=\\\"5\\\" dy=\\\"0\\\">id: \").concat(top.id, \"</text>\\n\\t\\t\\t<text class=\\\"interval-tree-print-node-parentId\\\" dx=\\\"5\\\" dy=\\\"15\\\">pId: \").concat(!isNaN(top.parentId) ? top.parentId : \"none\", \"</text>\\n\\t\\t\\t<text class=\\\"interval-tree-print-node-interval\\\" dx=\\\"5\\\" dy=\\\"30\\\">l: \").concat(top.interval.low, \", h: \").concat(top.interval.high, \"</text>\\n\\t\\t\\t<text class=\\\"interval-tree-print-node-minmax\\\" dx=\\\"5\\\" dy=\\\"45\\\">m: \").concat(top.min, \", x: \").concat(top.max, \"</text></g>\");\n\n    if (top.parent) {\n      var line = \"<line x1=\\\"\".concat(top.parent.pos.c, \"\\\" y1=\\\"\").concat(top.parent.level * TOTAL_HEIGHT + MARGIN + BORDER + HEIGHT + BORDER, \"\\\" x2=\\\"\").concat(top.pos.c, \"\\\" y2=\\\"\").concat(top.level * TOTAL_HEIGHT + MARGIN + BORDER, \"\\\" class=\\\"interval-tree-print-arrow\\\" stroke=\\\"black\\\"/>\");\n      arrowsHtml.push(line);\n    }\n\n    if (top.right !== null) {\n      stack[++stackIter] = top.right;\n    }\n\n    if (top.left !== null) {\n      stack[++stackIter] = top.left;\n    }\n  }\n\n  for (var i = 0; i < html.length; i++) {\n    html[i] += \"</g>\";\n  }\n\n  return \"<svg class=\\\"interval-tree-print\\\" width=\\\"\".concat(maxLevelWidth + 40, \"\\\" height=\\\"\").concat((totalLevels + 1) * TOTAL_HEIGHT + 40, \"\\\"><g class=\\\"interval-tree-print-container\\\" transform=\\\"translate(20, 20)\\\">\").concat(html.join(\"\")).concat(arrowsHtml.join(\"\"), \"</g></svg>\");\n};\n// CONCATENATED MODULE: ./src/intervalTreesRecursive.js\n/*\n\nIntervalTreeJS, a JavaScript Binary Search Tree library that helps to query, insert and delete intervals in the binary search tree.\n\nCopyright © 2019-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of IntervalTreeJS.\n\nIntervalTreeJS is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nIntervalTreeJS is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with IntervalTreeJS.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\n // var IntervalTreeRecursive = (function() {\n\n/**\n\t\tnode = {\n\t\t\tmax: 0,\n\t\t\tmin: 0,\n\t\t\tinterval: {\n\t\t\t\tlow: null,\n\t\t\t\thigh: null\n\t\t\t},\n\t\t\td: <type> user data\n\t\t\tleft: null,\n\t\t\tright: null\n\t\t}\n\t*/\n\nfunction IntervalTreeRecursive(options) {\n  this.root = null;\n  this.data = [];\n  this.length = 0;\n\n  if (options && Array.isArray(options.data)) {\n    this.data = JSON.parse(JSON.stringify(options.data));\n    this.constructTree();\n  }\n}\n\nIntervalTreeRecursive.prototype.constructor = IntervalTreeRecursive;\n\nIntervalTreeRecursive.prototype.constructNode = function (interval) {\n  return {\n    max: interval.high,\n    min: interval.low,\n    interval: {\n      low: interval.low,\n      high: interval.high\n    },\n    d: interval.d,\n    left: null,\n    right: null\n  };\n};\n\nIntervalTreeRecursive.prototype.constructTree = function () {\n  var length = this.data.length;\n\n  for (var i = 0; i < length; i++) {\n    this.root = this.insert(this.data[i], this.root);\n  }\n};\n\nIntervalTreeRecursive.prototype.insertRoot = function (interval) {\n  // this function is deprecated\n  this.root = this.constructNode(interval);\n  return this.root;\n};\n\nIntervalTreeRecursive.prototype.getRoot = function () {\n  return this.root;\n};\n\nIntervalTreeRecursive.prototype.insert = function (interval) {\n  this.root = this._insert(this.root, interval);\n  return this.root;\n};\n\nIntervalTreeRecursive.prototype._insert = function (root, interval) {\n  if (root === null) {\n    this.length++;\n    return this.constructNode(interval);\n  }\n\n  if (root.interval.low > interval.low) {\n    root.left = this._insert(root.left, interval);\n  } else if (root.interval.low === interval.low) {\n    this.length++;\n    var tempLeftSubtree = root.left;\n    root.left = this.constructNode(interval);\n    root.left.left = tempLeftSubtree;\n    var newMinMax = getNewMinMax(root.left);\n    root.left.min = newMinMax.min;\n    root.left.max = newMinMax.max;\n  } else {\n    root.right = this._insert(root.right, interval);\n  }\n\n  if (root.max < interval.high) {\n    root.max = interval.high;\n  }\n\n  if (root.min > interval.low) {\n    root.min = interval.low;\n  }\n\n  return root;\n};\n\nIntervalTreeRecursive.prototype.find = function (interval, d) {\n  return this._find(this.root, interval, d);\n};\n\nIntervalTreeRecursive.prototype._find = function (root, interval, d) {\n  if (root === null) return null;\n\n  if (this.doOverlap(root.interval, interval) && (d !== null && d !== undefined ? root.d === d ? true : false : true)) {\n    return root;\n  }\n\n  if (root.left !== null && root.left.max >= interval.low) {\n    // go left\n    return find(root.left, interval);\n  } else {\n    // go right\n    return find(root.right, interval);\n  }\n};\n\nIntervalTreeRecursive.prototype.findAll = function (interval, d) {\n  var stack = [];\n\n  this._findAll(this.root, interval, d, stack);\n\n  return stack;\n};\n\nIntervalTreeRecursive.prototype._findAll = function (root, interval, d, stack) {\n  if (root === null) return null;\n\n  if (this.doOverlap(root.interval, interval) && (d !== null && d !== undefined ? root.d === d ? true : false : true)) {\n    stack.push(root);\n  }\n\n  if (root.left !== null && root.left.max >= interval.low) {\n    // go left\n    this._findAll(root.left, interval, stack);\n  }\n\n  if (root.right !== null && root.right.min <= interval.high) {\n    // go right\n    this._findAll(root.right, interval, stack);\n  }\n};\n\nIntervalTreeRecursive.prototype.remove = function (interval, d) {\n  var removed = null;\n\n  this._remove(this.root, interval, d, removed);\n\n  return removed;\n};\n\nIntervalTreeRecursive.prototype._remove = function (root, interval, d, removed) {\n  if (root === null) return root;\n\n  if (root.interval.low === interval.low && root.interval.high === interval.high && (d !== null && d !== undefined ? root.d === d ? true : false : true)) {\n    removed = {\n      low: root.interval.low,\n      high: root.interval.high,\n      d: root.d\n    };\n    this.length--;\n\n    if (root.left === null) {\n      return root.right;\n    } else if (root.right === null) {\n      return root.left;\n    }\n\n    var obj = inOrder(root.right, root);\n    root.interval = obj.top.interval;\n    root.d = obj.top.d;\n    var temp = root.left;\n    root.left = obj.top.left;\n    root.right = obj.right;\n\n    if (obj.current === obj.top) {\n      root.left = temp;\n    } else {\n      obj.current.left = temp;\n    }\n\n    fixMinMaxFromCurrentToTop(obj.currentToTopArr);\n    return root;\n  }\n\n  if (root.interval.low >= interval.low) {\n    // go left\n    root.left = this._remove(root.left, interval, d, removed);\n    var newMinMax = getNewMinMax(root);\n    root.min = newMinMax.min;\n    root.max = newMinMax.max;\n  } else if (root.right !== null && root.interval.low < interval.low) {\n    // new condition: root.right !== null && root.interval.low < interval.low\n    // old condition: root.right !== null && root.right.min <= interval.high\n    // go right\n    root.right = this._remove(root.right, interval, d, removed);\n\n    var _newMinMax = getNewMinMax(root);\n\n    root.min = _newMinMax.min;\n    root.max = _newMinMax.max;\n  }\n\n  return root;\n};\n\nIntervalTreeRecursive.prototype.removeAll = function (interval, d) {\n  var removed = [];\n\n  this._removeAll(this.root, interval, d, removed);\n\n  return removed;\n};\n\nIntervalTreeRecursive.prototype._removeAll = function (root, interval, d, removed) {\n  if (root === null) return root;\n\n  if (root.interval.low >= interval.low) {\n    // go left\n    root.left = this._removeAll(root.left, interval, d, removed);\n    var newMinMax = getNewMinMax(root);\n    root.min = newMinMax.min;\n    root.max = newMinMax.max;\n  } else if (root.right !== null && root.interval.low < interval.low) {\n    // new condition: root.right !== null && root.interval.low < interval.low\n    // old condition: root.right !== null && root.right.min <= interval.high\n    // go right\n    root.right = this._removeAll(root.right, interval, d, removed);\n\n    var _newMinMax2 = getNewMinMax(root);\n\n    root.min = _newMinMax2.min;\n    root.max = _newMinMax2.max;\n  }\n\n  if (root.interval.low === interval.low && root.interval.high === interval.high && (d !== null && d !== undefined ? root.d === d ? true : false : true)) {\n    removed.push({\n      low: root.interval.low,\n      high: root.interval.high,\n      d: root.d\n    });\n    this.length--;\n\n    if (root.left === null) {\n      return root.right;\n    } else if (root.right === null) {\n      return root.left;\n    }\n\n    var obj = inOrder(root.right, root);\n    root.interval = obj.top.interval;\n    root.d = obj.top.d;\n    var temp = root.left;\n    root.left = obj.top.left;\n    root.right = obj.right;\n\n    if (obj.current === obj.top) {\n      root.left = temp;\n    } else {\n      obj.current.left = temp;\n    }\n\n    fixMinMaxFromCurrentToTop(obj.currentToTopArr);\n  }\n\n  return root;\n};\n\nIntervalTreeRecursive.prototype.getDataInArray = function () {\n  var elements = new Array(this.length);\n  var iter = {\n    iter: 0\n  };\n  this.getArray(this.root, elements, iter);\n  return elements;\n};\n\nIntervalTreeRecursive.prototype.getArray = function (root, elements, iter) {\n  if (root === null) return null;\n\n  if (root.left !== null) {\n    this.getArray(root.left, elements, iter);\n  }\n\n  if (root !== null) {\n    elements[iter.iter++] = {\n      interval: {\n        low: root.interval.low,\n        high: root.interval.high\n      },\n      d: root.d\n    };\n  }\n\n  if (root.right !== null) {\n    this.getArray(root.right, elements, iter);\n  }\n};\n\nIntervalTreeRecursive.prototype.doOverlap = function (interval, _interval) {\n  if (interval.low <= _interval.high && _interval.low <= interval.high) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nIntervalTreeRecursive.prototype.isExact = function (interval, _interval) {\n  if (interval.low === _interval.low && interval.high === _interval.high) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nIntervalTreeRecursive.prototype.printHtmlTree = function () {\n  return printBinaryTree(this.root, this.length);\n};\n\n/* harmony default export */ var intervalTreesRecursive = (IntervalTreeRecursive);\n// CONCATENATED MODULE: ./src/intervalTreesIterative.js\n/*\n\nIntervalTreeJS, a JavaScript Binary Search Tree library that helps to query, insert and delete intervals in the binary search tree.\n\nCopyright © 2019-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of IntervalTreeJS.\n\nIntervalTreeJS is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nIntervalTreeJS is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with IntervalTreeJS.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\n // var IntervalTreeIterative = (function() {\n\n/**\n\t\tnode = {\n\t\t\tmax: 0,\n\t\t\tmin: 0,\n\t\t\tinterval: {\n\t\t\t\tlow: null,\n\t\t\t\thigh: null\n\t\t\t},\n\t\t\td: <type> user data\n\t\t\tleft: null,\n\t\t\tright: null\n\t\t}\n\t*/\n\nfunction IntervalTreeIterative(options) {\n  this.root = null;\n  this.data = [];\n  this.length = 0;\n\n  if (options && Array.isArray(options.data)) {\n    this.data = JSON.parse(JSON.stringify(options.data));\n    this.constructTree();\n  }\n}\n\nIntervalTreeIterative.prototype.constructor = IntervalTreeIterative;\n\nIntervalTreeIterative.prototype.constructNode = function (interval) {\n  return {\n    max: interval.high,\n    min: interval.low,\n    interval: {\n      low: interval.low,\n      high: interval.high\n    },\n    d: interval.d,\n    left: null,\n    right: null\n  };\n};\n\nIntervalTreeIterative.prototype.constructTree = function () {\n  var length = this.data.length;\n\n  for (var i = 0; i < length; i++) {\n    this.insert(this.data[i]);\n  }\n};\n\nIntervalTreeIterative.prototype.insertRoot = function (interval) {\n  // this function is deprecated\n  this.root = this.constructNode(interval);\n  return this.root;\n};\n\nIntervalTreeIterative.prototype.getRoot = function () {\n  return this.root;\n};\n\nIntervalTreeIterative.prototype.insert = function (interval) {\n  return this._insert(this.root, interval);\n};\n\nIntervalTreeIterative.prototype._insert = function (root, interval) {\n  var newNode = this.constructNode(interval);\n  var iter = root;\n  var temp = null;\n\n  while (iter !== null) {\n    temp = iter;\n\n    if (iter.max < interval.high) {\n      iter.max = interval.high;\n    }\n\n    if (iter.min > interval.low) {\n      iter.min = interval.low;\n    }\n\n    if (iter.interval.low > interval.low) {\n      iter = iter.left;\n    } else if (iter.interval.low === interval.low) {\n      break;\n    } else {\n      iter = iter.right;\n    }\n  }\n\n  if (temp === null) {\n    temp = newNode;\n    this.root = newNode;\n  } else if (temp.interval.low > interval.low) {\n    temp.left = newNode;\n  } else if (temp.interval.low === interval.low) {\n    var tempLeftSubtree = temp.left;\n    temp.left = newNode;\n    temp.left.left = tempLeftSubtree;\n    var newMinMax = getNewMinMax(temp.left);\n    temp.left.min = newMinMax.min;\n    temp.left.max = newMinMax.max;\n  } else {\n    temp.right = newNode;\n  }\n\n  this.length++;\n  return newNode;\n};\n\nIntervalTreeIterative.prototype.find = function (interval, d, findType) {\n  return this._find(this.root, interval, d, findType);\n};\n\nIntervalTreeIterative.prototype._find = function (root, interval, d, findType) {\n  findType = findType || false;\n\n  if (findType === true) {\n    findType = this.isExact;\n  } else if (findType === false) {\n    findType = this.doOverlap;\n  }\n\n  if (root === null) return null;\n\n  while (root != null) {\n    if (findType(root.interval, interval) && (d !== null && d !== undefined ? root.d === d ? true : false : true)) {\n      return root;\n    }\n\n    if (root.left !== null && root.left.max >= interval.low) {\n      // go left\n      root = root.left;\n    } else {\n      // go right\n      root = root.right;\n    }\n  }\n\n  return null;\n};\n\nIntervalTreeIterative.prototype.findAll = function (interval, d, findType) {\n  return this._findAll(this.root, interval, d, findType);\n};\n\nIntervalTreeIterative.prototype._findAll = function (root, interval, d, findType) {\n  findType = findType || false;\n\n  if (findType === true) {\n    findType = this.isExact;\n  } else if (findType === false) {\n    findType = this.doOverlap;\n  }\n\n  var stack = new Array(this.length);\n  var stackIter = 0;\n  var queue = new Array(this.length);\n  var queueFront = -1;\n  var queueRear = 0;\n  queue[++queueFront] = root;\n  if (root === null) return null;\n\n  while (queueFront <= queueRear) {\n    //check to see if queue is not empty\n    var front = queue[queueFront];\n    queueFront++;\n\n    if (findType(front.interval, interval) && (d !== null && d !== undefined ? front.d === d ? true : false : true)) {\n      stack[stackIter++] = front;\n    }\n\n    if (front.left !== null && front.left.max >= interval.low) {\n      // go left\n      queue[++queueRear] = front.left;\n    }\n\n    if (front.right !== null && front.right.min <= interval.high) {\n      // go right\n      queue[++queueRear] = front.right;\n    }\n  }\n\n  var finalStack = new Array(stackIter);\n\n  for (var i = 0; i < stackIter; i++) {\n    finalStack[i] = stack[i];\n  }\n\n  return finalStack;\n};\n\nIntervalTreeIterative.prototype.remove = function (interval, d) {\n  return this._remove(this.root, interval, d);\n};\n\nIntervalTreeIterative.prototype._remove = function (root, interval, d) {\n  var parent = null;\n  var branched = null;\n  var removed = null;\n  var stack = new Array(this.length);\n  var stackIter = -1;\n  var path = new Array(this.length);\n  var pathIter = -1;\n  stack[++stackIter] = root;\n  if (root === null) return null;\n\n  while (stackIter >= 0) {\n    //check to see if stack is not empty\n    // pop top most item\n    var top = stack[stackIter];\n    stack[stackIter] = null;\n    stackIter--;\n\n    if (top.interval.low === interval.low && top.interval.high === interval.high && (d !== null && d !== undefined ? top.d === d ? true : false : true)) {\n      removed = {\n        low: top.interval.low,\n        high: top.interval.high,\n        d: top.d\n      };\n      this.length--;\n\n      if (top.left === null) {\n        if (parent) {\n          parent[branched] = top.right;\n          top = top.right;\n        } else {\n          this.root = top.right;\n        }\n      } else if (top.right === null) {\n        if (parent) {\n          parent[branched] = top.left;\n          top = top.left;\n        } else {\n          this.root = top.left;\n        }\n      } else {\n        var obj = inOrder(top.right, top);\n        top.interval = obj.top.interval;\n        top.d = obj.top.d;\n        var temp = top.left;\n        top.left = obj.top.left;\n        top.right = obj.right;\n\n        if (obj.current === obj.top) {\n          top.left = temp;\n        } else {\n          obj.current.left = temp;\n        }\n\n        fixMinMaxFromCurrentToTop(obj.currentToTopArr);\n      }\n\n      if (top) path[++pathIter] = top;\n      break;\n    }\n\n    path[++pathIter] = top;\n\n    if (top.right !== null && top.interval.low < interval.low) {\n      // new condition: top.right !== null && top.interval.low < interval.low\n      // old condition: top.right !== null && top.right.min <= interval.high\n      // go right\n      parent = top;\n      branched = \"right\";\n      stack[++stackIter] = top.right;\n    } else if (top.left !== null && top.interval.low >= interval.low) {\n      // go left\n      parent = top;\n      branched = \"left\";\n      stack[++stackIter] = top.left;\n    }\n  }\n\n  while (pathIter >= 0) {\n    var newMinMax = getNewMinMax(path[pathIter]);\n    path[pathIter].min = newMinMax.min;\n    path[pathIter].max = newMinMax.max;\n    pathIter--;\n  }\n\n  return removed;\n};\n\nIntervalTreeIterative.prototype.removeAll = function (interval, d) {\n  return this._removeAll(this.root, interval, d);\n};\n\nIntervalTreeIterative.prototype._removeAll = function (root, interval, d) {\n  var parent = null;\n  var branched = null;\n  var removeList = new Array(this.length);\n  var removeListIter = 0;\n  var stack = new Array(this.length);\n  var stackIter = -1;\n  var path = new Array(this.length);\n  var pathIter = -1;\n  stack[++stackIter] = root;\n  if (root === null) return null;\n\n  while (stackIter >= 0) {\n    //check to see if stack is not empty\n    // pop top most item\n    var top = stack[stackIter];\n    stack[stackIter] = null;\n    stackIter--;\n\n    if (top.interval.low === interval.low && top.interval.high === interval.high && (d !== null && d !== undefined ? top.d === d ? true : false : true)) {\n      removeList[removeListIter++] = {\n        low: top.interval.low,\n        high: top.interval.high,\n        d: top.d\n      };\n      this.length--;\n\n      if (top.left === null) {\n        if (parent) {\n          parent[branched] = top.right;\n          top = top.right;\n        } else {\n          this.root = top.right;\n        }\n      } else if (top.right === null) {\n        if (parent) {\n          parent[branched] = top.left;\n          top = top.left;\n        } else {\n          this.root = top.left;\n        }\n      } else {\n        var obj = inOrder(top.right, top);\n        top.interval = obj.top.interval;\n        top.d = obj.top.d;\n        var temp = top.left;\n        top.left = obj.top.left;\n        top.right = obj.right;\n\n        if (obj.current === obj.top) {\n          top.left = temp;\n        } else {\n          obj.current.left = temp;\n        }\n\n        fixMinMaxFromCurrentToTop(obj.currentToTopArr);\n      }\n\n      if (top) stack[++stackIter] = top;\n      continue;\n    }\n\n    path[++pathIter] = top;\n\n    if (top.right !== null && top.interval.low < interval.low) {\n      // new condition: top.right !== null && top.interval.low < interval.low\n      // old condition: top.right !== null && top.right.min <= interval.high\n      // go right\n      parent = top;\n      branched = \"right\";\n      stack[++stackIter] = top.right;\n    } else if (top.left !== null && top.interval.low >= interval.low) {\n      // go left\n      parent = top;\n      branched = \"left\";\n      stack[++stackIter] = top.left;\n    }\n  }\n\n  while (pathIter >= 0) {\n    var newMinMax = getNewMinMax(path[pathIter]);\n    path[pathIter].min = newMinMax.min;\n    path[pathIter].max = newMinMax.max;\n    pathIter--;\n  }\n\n  var finalRemoveList = new Array(removeListIter);\n\n  for (var i = 0; i < removeListIter; i++) {\n    finalRemoveList[i] = removeList[i];\n  }\n\n  return finalRemoveList;\n}; // IntervalTreeIterative.prototype.getDataInArray = function() {\n// pre order\n// \tif (this.root === null) return [];\n// \tconst elements = new Array(this.length);\n// \tlet iter = 0;\n// \tconst stack = new Array(this.length);\n// \tlet stackIter = -1;\n// \tstack[++stackIter] = this.root;\n// \tlet top;\n// \tlet curr = this.root;\n// \twhile (stackIter >= 0) {\n// \t\ttop = stack[stackIter--];\n// \t\telements[iter++] = top;\n// \t\tif (top.right !== null) {\n// \t\t\tstack[++stackIter] = top.right;\n// \t\t}\n// \t\tif (top.left !== null) {\n// \t\t\tstack[++stackIter] = top.left;\n// \t\t}\n// \t}\n// \treturn elements;\n// };\n\n\nIntervalTreeIterative.prototype.getSortedData = function () {\n  // inorder\n  if (this.root === null) return [];\n  var elements = new Array(this.length);\n  var iter = 0;\n  var stack = new Array(this.length);\n  var stackIter = -1;\n  var curr = this.root;\n\n  while (curr !== null || stackIter >= 0) {\n    while (curr !== null) {\n      stack[++stackIter] = curr;\n      curr = curr.left;\n    }\n\n    curr = stack[stackIter--];\n    elements[iter++] = {\n      interval: {\n        low: curr.interval.low,\n        high: curr.interval.high\n      },\n      d: curr.d\n    };\n    curr = curr.right;\n  }\n\n  return elements;\n};\n\nIntervalTreeIterative.prototype.doOverlap = function (interval, _interval) {\n  if (interval.low <= _interval.high && _interval.low <= interval.high) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nIntervalTreeIterative.prototype.isExact = function (interval, _interval) {\n  if (interval.low === _interval.low && interval.high === _interval.high) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nIntervalTreeIterative.prototype.printHtmlTree = function () {\n  return printBinaryTree(this.root, this.length);\n};\n\n/* harmony default export */ var intervalTreesIterative = (IntervalTreeIterative);\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/index.js\n/*\n\nIntervalTreeJS, a JavaScript Binary Search Tree library that helps to query, insert and delete intervals in the binary search tree.\n\nCopyright © 2019-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of IntervalTreeJS.\n\nIntervalTreeJS is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nIntervalTreeJS is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with IntervalTreeJS.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\n\n\n\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=index.js.map","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ClosestBST\"] = factory();\n\telse\n\t\troot[\"ClosestBST\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"assets\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"ClosestBST\", function() { return /* reexport */ src_ClosestBST; });\n\n// CONCATENATED MODULE: ./src/utils/utils.js\n/*\n\nClosestBST, a JavaScript Binary Search Tree library that helps to find the closest number in the binary search tree.\n\nCopyright © 2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of ClosestBST.\n\nClosestBST is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nClosestBST is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with ClosestBST.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\nconst inOrder = (node, parent, length) => {\n  var current = node;\n  var currentParent = parent;\n  let path = new Array(length);\n  let pathIter = -1;\n  path[++pathIter] = current;\n\n  while (current.l !== null) {\n    currentParent = current;\n    current = current.l;\n    path[++pathIter] = current;\n  }\n\n  const leafV = current.v;\n  let copyPathIter = pathIter;\n  let top = null;\n  let currentToTopArr = new Array(pathIter + 1);\n  let currentToTopArrIter = -1;\n\n  while (copyPathIter >= 0 && path[copyPathIter].v === leafV) {\n    top = path[copyPathIter];\n    copyPathIter--;\n    currentToTopArr[++currentToTopArrIter] = top;\n  }\n\n  if (copyPathIter >= 0) {\n    // make the immediate left node of parent of top (or current if top === current) to null\n    //  OR right child of top (or current if top === current)\n    if (top.r !== null) {\n      path[copyPathIter].l = top.r;\n      top.r = null;\n    } else {\n      path[copyPathIter].l = null;\n    }\n  }\n\n  pathIter = copyPathIter;\n\n  while (pathIter >= 0) {\n    // update min, max of all the nodes above top.\n    const newMinMax = getNewMinMax(path[pathIter]);\n    path[pathIter].m = newMinMax.m;\n    path[pathIter].x = newMinMax.x;\n    pathIter--;\n  }\n\n  let r = null;\n\n  if (top !== current) {\n    if (top === node) {\n      r = top.r;\n    } else {\n      r = node;\n    }\n  } else {\n    if (current === node) {\n      r = current.r;\n    } else {\n      r = node;\n    }\n  }\n\n  currentToTopArr = removeTrailingEmptyFromArray(currentToTopArr);\n  return {\n    top,\n    current,\n    r,\n    currentToTopArr\n  };\n};\nconst fixMinMaxFromCurrentToTop = function (currentToTopArr) {\n  let iter = 0;\n  let len = currentToTopArr.length;\n\n  while (iter < len) {\n    const newMinMax = getNewMinMax(currentToTopArr[iter]);\n    currentToTopArr[iter].m = newMinMax.m;\n    currentToTopArr[iter].x = newMinMax.x;\n    iter++;\n  }\n};\nconst getNewMinMax = function (root) {\n  var _root$l, _root$r, _root$r2, _root$l2, _root$l3, _root$r3, _root$r4;\n\n  let min = root.v;\n  let max = root.v;\n  let leftMin = !isNaN((_root$l = root.l) === null || _root$l === void 0 ? void 0 : _root$l.m) ? root.l.m : null;\n  let rightMin = !isNaN((_root$r = root.r) === null || _root$r === void 0 ? void 0 : _root$r.m) ? (_root$r2 = root.r) === null || _root$r2 === void 0 ? void 0 : _root$r2.m : null;\n  let leftMax = !isNaN((_root$l2 = root.l) === null || _root$l2 === void 0 ? void 0 : _root$l2.x) ? (_root$l3 = root.l) === null || _root$l3 === void 0 ? void 0 : _root$l3.x : null;\n  let rightMax = !isNaN((_root$r3 = root.r) === null || _root$r3 === void 0 ? void 0 : _root$r3.x) ? (_root$r4 = root.r) === null || _root$r4 === void 0 ? void 0 : _root$r4.x : null;\n\n  if (leftMin < min && leftMin !== null) {\n    min = leftMin;\n  }\n\n  if (rightMin < min && rightMin !== null) {\n    min = rightMin;\n  }\n\n  if (leftMax > max && leftMax !== null) {\n    max = leftMax;\n  }\n\n  if (rightMax > max && rightMax !== null) {\n    max = rightMax;\n  }\n\n  return {\n    m: min,\n    x: max\n  };\n};\nconst removeTrailingEmptyFromArray = source => {\n  let count = 0;\n  let len = source.length;\n\n  for (let i = 0; i < len; i++) {\n    if (source[i]) count++;\n  }\n\n  let dest = new Array(count);\n\n  for (let i = 0; i < count; i++) {\n    dest[i] = source[i];\n  }\n\n  return dest;\n};\n// CONCATENATED MODULE: ./src/utils/printUtils.js\n/*\n\nClosestBST, a JavaScript Binary Search Tree library that helps to find the closest number in the binary search tree.\n\nCopyright © 2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of ClosestBST.\n\nClosestBST is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nClosestBST is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with ClosestBST.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\nconst getNodelevel = (root, node) => {\n  let level = 0;\n\n  while (root !== node) {\n    if (root.v >= node.v) {\n      root = root.l;\n    } else {\n      root = root.r;\n    }\n\n    level++;\n  }\n\n  if (root === node) {\n    level++;\n  } else if (root === null) {\n    level = 0;\n  }\n\n  return level;\n};\nconst printBinaryTree = (root, length) => {\n  let _root = JSON.parse(JSON.stringify(root));\n\n  let s = new Array(length);\n  let sIter = -1;\n  let totalLevels = 0;\n  let count = -1;\n  s[++sIter] = _root;\n\n  while (sIter >= 0) {\n    let t = s[sIter];\n    t.id = ++count;\n    sIter--;\n    const level = getNodelevel(_root, t) - 1;\n\n    if (level > totalLevels) {\n      totalLevels = level;\n    }\n\n    t.level = level;\n\n    if (t.r !== null) {\n      t.r.parentId = t.id;\n      t.r.branched = \"r\";\n      t.r.parent = t;\n      s[++sIter] = t.r;\n    }\n\n    if (t.l !== null) {\n      t.l.parentId = t.id;\n      t.l.branched = \"l\";\n      t.l.parent = t;\n      s[++sIter] = t.l;\n    }\n  }\n\n  const html = [];\n  const arrowsHtml = [];\n  const WIDTH = 60;\n  const HEIGHT = 60;\n  const BORDER = 1;\n  const MARGIN = 5;\n  const TOTAL_WIDTH = WIDTH + 2 * BORDER + 2 * MARGIN;\n  const TOTAL_HEIGHT = HEIGHT + 2 * BORDER + 2 * MARGIN;\n  const leafNodesNum = Math.pow(2, totalLevels);\n  const maxLevelWidth = leafNodesNum * TOTAL_WIDTH;\n  let stack = new Array(length);\n  let stackIter = -1;\n  stack[++stackIter] = _root;\n\n  while (stackIter >= 0) {\n    const top = stack[stackIter];\n    stackIter--;\n\n    if (top.level === 0) {\n      top.pos = {\n        c: maxLevelWidth / 2,\n        x: maxLevelWidth / 2 - TOTAL_WIDTH / 2,\n        y: MARGIN\n      };\n    } else {\n      const distanceBetnChildren = (Math.pow(2, totalLevels - top.level) - 1) / 2 * TOTAL_WIDTH;\n\n      if (top.branched === \"l\") {\n        top.pos = {\n          c: top.parent.pos.c - distanceBetnChildren - TOTAL_WIDTH / 2,\n          x: top.parent.pos.c - distanceBetnChildren - TOTAL_WIDTH,\n          y: MARGIN\n        };\n      } else {\n        top.pos = {\n          c: top.parent.pos.c + distanceBetnChildren + TOTAL_WIDTH / 2,\n          x: top.parent.pos.c + distanceBetnChildren,\n          y: MARGIN\n        };\n      }\n    }\n\n    if (!html[top.level]) {\n      html[top.level] = `<g class=\"closest-bst-print-level\" data-attr=\"level-${top.level}\" transform=\"translate(${0}, ${top.level * TOTAL_HEIGHT})\">`;\n    }\n\n    html[top.level] += `<g class=\"closest-bst-print-node\" transform=\"translate(${top.pos.x}, ${top.pos.y})\">\n\t\t\t<text class=\"closest-bst-print-node-id\" dx=\"5\" dy=\"0\">id: ${top.id}</text>\n\t\t\t<text class=\"closest-bst-print-node-parentId\" dx=\"5\" dy=\"15\">pId: ${!isNaN(top.parentId) ? top.parentId : \"none\"}</text>\n\t\t\t<text class=\"closest-bst-print-node-value\" dx=\"5\" dy=\"30\">v: ${top.v}</text>\n\t\t\t<text class=\"closest-bst-print-node-minmax\" dx=\"5\" dy=\"45\">m: ${top.m}, x: ${top.x}</text>\n\t\t\t</g>`;\n\n    if (top.parent) {\n      const line = `<line x1=\"${top.parent.pos.c}\" y1=\"${top.parent.level * TOTAL_HEIGHT + MARGIN + BORDER + HEIGHT + BORDER}\" x2=\"${top.pos.c}\" y2=\"${top.level * TOTAL_HEIGHT + MARGIN + BORDER}\" class=\"closest-bst-print-arrow\" stroke=\"black\"/>`;\n      arrowsHtml.push(line);\n    }\n\n    if (top.r !== null) {\n      stack[++stackIter] = top.r;\n    }\n\n    if (top.l !== null) {\n      stack[++stackIter] = top.l;\n    }\n  }\n\n  for (let i = 0; i < html.length; i++) {\n    html[i] += `</g>`;\n  }\n\n  return `<svg class=\"closest-bst-print\" width=\"${maxLevelWidth + 40}\" height=\"${(totalLevels + 1) * TOTAL_HEIGHT + 40}\"><g class=\"closest-bst-print-container\" transform=\"translate(20, 20)\">${html.join(\"\")}${arrowsHtml.join(\"\")}</g></svg>`;\n};\n// CONCATENATED MODULE: ./src/ClosestBST.js\n/*\n\nClosestBST, a JavaScript Binary Search Tree library that helps to find the closest number in the binary search tree.\n\nCopyright © 2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of ClosestBST.\n\nClosestBST is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nClosestBST is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with ClosestBST.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\n\n/*\n\tnode = {\n\t\tm: number min,\n\t\tx: number max,\n\t\tv: number\n\t\td: <type> user data\n\t\tl: null,\n\t\tr: null\n\t}\n\n*/\n\nfunction ClosestBST(options) {\n  this.root = null;\n  this.data = [];\n  this.length = 0;\n\n  if (options && Array.isArray(options.data)) {\n    this.data = options.data;\n    this.constructTree();\n  }\n}\n\nClosestBST.prototype.constructor = ClosestBST;\n\nClosestBST.prototype.constructNode = function (data) {\n  return {\n    m: data.v,\n    x: data.v,\n    v: data.v,\n    d: data.d,\n    l: null,\n    r: null\n  };\n};\n\nClosestBST.prototype.constructTree = function () {\n  let length = this.data.length;\n\n  for (let i = 0; i < length; i++) {\n    this.insert(this.data[i]);\n  }\n};\n\nClosestBST.prototype.getRoot = function () {\n  return this.root;\n};\n\nClosestBST.prototype.insert = function (data) {\n  this._insert(this.root, data);\n};\n\nClosestBST.prototype._insert = function (root, data) {\n  let newNode = this.constructNode(data);\n  let iter = root;\n  let temp = null;\n\n  while (iter !== null) {\n    temp = iter;\n\n    if (iter.x < data.v) {\n      iter.x = data.v;\n    }\n\n    if (iter.m > data.v) {\n      iter.m = data.v;\n    }\n\n    if (iter.v > data.v) {\n      iter = iter.l;\n    } else if (iter.v === data.v) {\n      break;\n    } else {\n      iter = iter.r;\n    }\n  }\n\n  if (temp === null) {\n    this.root = newNode;\n  } else if (temp.v > data.v) {\n    temp.l = newNode;\n  } else if (temp.v === data.v) {\n    const tempLeftSubtree = temp.l;\n    temp.l = newNode;\n    temp.l.l = tempLeftSubtree;\n    const newMinMax = getNewMinMax(temp.l);\n    temp.l.m = newMinMax.m;\n    temp.l.x = newMinMax.x;\n  } else {\n    temp.r = newNode;\n  }\n\n  this.length++;\n  return newNode;\n};\n\nClosestBST.prototype.find = function (v, comp, d) {\n  return this._find(this.root, v, comp, d);\n};\n\nClosestBST.prototype._find = function (root, v, comp, d) {\n  if (root === null) return {};\n  let lm = {};\n  let um = {};\n\n  while (root !== null) {\n    if (root.v === v && (comp ? comp(root, v, d) : true) && (d !== null && d !== undefined ? root.d === d ? true : false : true)) {\n      return {\n        m: root,\n        lm: !isNaN(lm.v) ? lm : undefined,\n        um: !isNaN(um.v) ? um : undefined\n      };\n    }\n\n    if (root.v >= v) {\n      // go left\n      um = root;\n      root = root.l;\n    } else {\n      // go right\n      lm = root;\n      root = root.r;\n    }\n  }\n\n  return {\n    lm: !isNaN(lm.v) ? lm : undefined,\n    um: !isNaN(um.v) ? um : undefined,\n    m: undefined\n  };\n};\n\nClosestBST.prototype.findUsingComparator = function (comp, lcomp, rcomp) {\n  return this._findUsingComparator(this.root, comp, lcomp, rcomp);\n};\n\nClosestBST.prototype._findUsingComparator = function (root, comp, lcomp, rcomp) {\n  if (root === null) return [];\n  const result = new Array(this.length);\n  let count = 0;\n  const stack = new Array(this.length);\n  let stackIter = -1;\n  let top;\n  stack[++stackIter] = root;\n\n  while (stackIter >= 0) {\n    top = stack[stackIter];\n    stackIter--;\n\n    if (comp(top)) {\n      result[count++] = top;\n    }\n\n    if (top.r !== null && rcomp(top)) {\n      stack[++stackIter] = top.r;\n    }\n\n    if (top.l !== null && lcomp(top)) {\n      stack[++stackIter] = top.l;\n    }\n  }\n\n  const filteredResult = new Array(count);\n\n  for (let i = 0; i < count; i++) {\n    filteredResult[i] = result[i];\n  }\n\n  return filteredResult;\n};\n\nClosestBST.prototype.remove = function (v, d) {\n  return this._remove(this.root, v, d);\n};\n\nClosestBST.prototype._remove = function (root, v, d) {\n  let parent = null;\n  let branched = null;\n  let removed = null;\n  let stack = new Array(this.length);\n  let stackIter = -1;\n  let path = new Array(this.length);\n  let pathIter = -1;\n  stack[++stackIter] = root;\n  if (root === null) return null;\n\n  while (stackIter >= 0) {\n    // check to see if stack is not empty\n    // pop top most item\n    var top = stack[stackIter];\n    stack[stackIter] = null;\n    stackIter--;\n\n    if (top.v === v && (d !== null && d !== undefined ? top.d === d ? true : false : true)) {\n      removed = top;\n      this.length--;\n\n      if (top.l === null) {\n        if (parent) {\n          parent[branched] = top.r;\n          top = top.r;\n        } else {\n          this.root = top.r;\n        }\n      } else if (top.r === null) {\n        if (parent) {\n          parent[branched] = top.l;\n          top = top.l;\n        } else {\n          this.root = top.l;\n        }\n      } else {\n        var obj = inOrder(top.r, top);\n        top.v = obj.top.v;\n        top.d = obj.top.d;\n        const temp = top.l;\n        top.l = obj.top.l;\n        top.r = obj.r;\n\n        if (obj.current === obj.top) {\n          top.l = temp;\n        } else {\n          obj.current.l = temp;\n        }\n\n        fixMinMaxFromCurrentToTop(obj.currentToTopArr);\n      }\n\n      if (top) stack[++stackIter] = top;\n      break;\n    }\n\n    path[++pathIter] = top;\n\n    if (top.r !== null && top.v < v) {\n      parent = top;\n      branched = \"r\";\n      stack[++stackIter] = top.r;\n    } else if (top.l !== null && top.v >= v) {\n      // go left\n      parent = top;\n      branched = \"l\";\n      stack[++stackIter] = top.l;\n    }\n  }\n\n  while (pathIter >= 0) {\n    const newMinMax = getNewMinMax(path[pathIter]);\n    path[pathIter].m = newMinMax.m;\n    path[pathIter].x = newMinMax.x;\n    pathIter--;\n  }\n\n  return removed;\n};\n\nClosestBST.prototype.getSortedData = function () {\n  // inorder\n  if (this.root === null) return [];\n  const elements = new Array(this.length);\n  let iter = 0;\n  const stack = new Array(this.length);\n  let stackIter = -1;\n  let curr = this.root;\n\n  while (curr !== null || stackIter >= 0) {\n    while (curr !== null) {\n      stack[++stackIter] = curr;\n      curr = curr.l;\n    }\n\n    curr = stack[stackIter--];\n    elements[iter++] = {\n      v: curr.v,\n      d: curr.d\n    };\n    curr = curr.r;\n  }\n\n  return elements;\n};\n\nClosestBST.prototype.printHtmlTree = function () {\n  return printBinaryTree(this.root, this.length);\n};\n\n/* harmony default export */ var src_ClosestBST = (ClosestBST);\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/index.js\n/*\n\nClosestBST, a JavaScript Binary Search Tree library that helps to find the closest number in the binary search tree.\n\nCopyright © 2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of ClosestBST.\n\nClosestBST is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nClosestBST is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with ClosestBST.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\n\n\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=index.js.map","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\n// const constants = {\n// \tWIDTH: 0,\n// \tHEIGHT: 0,\n\n// \tPADDING_LEFT: 0,\n// \tPADDING_RIGHT: 0,\n// \tPADDING_TOP: 0,\n// \tPADDING_BOTTOM: 0,\n\n// \tWIDTH_SCALE_FACTOR: 0,\n\n// \tGRID_WIDTH: 1080,\n// \tGRID_HEIGHT: 1920,\n// \tGRID_MARGIN: 5,\n// \tMARGIN: 5,\n\n// \tMIN_HEIGHT_AND_WIDTH: 150,\n// };\n\nconst setPrivateConstants = function (context, val) {\n\tcontext.store.constants.privateConstants = val;\n};\n\nconst getPrivateConstants = function (context) {\n\treturn context.store.constants.privateConstants;\n};\n\nconst setPrivateConstantByName = function (context, name, value) {\n\tif (context.store.constants.privateConstants.hasOwnProperty(name)) {\n\t\tcontext.store.constants.privateConstants[name] = value;\n\t}\n};\n\nconst getPrivateConstantByName = function (context, name) {\n\treturn context.store.constants.privateConstants[name];\n};\n\nconst setWidth = function (context, val) {\n\tcontext.store.constants.privateConstants.WIDTH = val;\n};\n\nconst getWidth = function (context) {\n\treturn context.store.constants.privateConstants.WIDTH;\n};\n\nconst setHeight = function (context, val) {\n\tcontext.store.constants.privateConstants.HEIGHT = val;\n};\n\nconst getHeight = function (context) {\n\treturn context.store.constants.privateConstants.HEIGHT;\n};\n\nconst setPaddingLeft = function (context, val) {\n\tcontext.store.constants.privateConstants.PADDING_LEFT = val;\n};\n\nconst getPaddingLeft = function (context) {\n\treturn context.store.constants.privateConstants.PADDING_LEFT;\n};\n\nconst setPaddingRight = function (context, val) {\n\tcontext.store.constants.privateConstants.PADDING_RIGHT = val;\n};\n\nconst getPaddingRight = function (context) {\n\treturn context.store.constants.privateConstants.PADDING_RIGHT;\n};\n\nconst setPaddingTop = function (context, val) {\n\tcontext.store.constants.privateConstants.PADDING_TOP = val;\n};\n\nconst getPaddingTop = function (context) {\n\treturn context.store.constants.privateConstants.PADDING_TOP;\n};\n\nconst setPaddingBottom = function (context, val) {\n\tcontext.store.constants.privateConstants.PADDING_BOTTOM = val;\n};\n\nconst getPaddingBottom = function (context) {\n\treturn context.store.constants.privateConstants.PADDING_BOTTOM;\n};\n\nconst setWidthScaleFactor = function (context, val) {\n\tcontext.store.constants.privateConstants.WIDTH_SCALE_FACTOR = val;\n};\n\nconst getWidthScaleFactor = function (context) {\n\treturn context.store.constants.privateConstants.WIDTH_SCALE_FACTOR;\n};\n\nconst setMargin = function (context, val) {\n\tcontext.store.constants.privateConstants.MARGIN = val;\n};\n\nconst getMargin = function (context) {\n\treturn context.store.constants.privateConstants.MARGIN;\n};\n\nconst setDefinedMinHeightAndWidth = function (context, val) {\n\tcontext.store.constants.privateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH = val;\n};\n\nconst getDefinedMinHeightAndWidth = function (context) {\n\treturn context.store.constants.privateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH;\n};\n\n//\nconst setGridWidth = function (context, val) {\n\tcontext.store.constants.privateConstants.GRID_WIDTH = val;\n};\n\nconst getGridWidth = function (context) {\n\treturn context.store.constants.privateConstants.GRID_WIDTH;\n};\n\nconst setGridHeight = function (context, val) {\n\tcontext.store.constants.privateConstants.GRID_HEIGHT = val;\n};\n\nconst getGridHeight = function (context) {\n\treturn context.store.constants.privateConstants.GRID_HEIGHT;\n};\n\nconst setGridMargin = function (context, val) {\n\tcontext.store.constants.privateConstants.GRID_MARGIN = val;\n};\n\nconst getGridMargin = function (context) {\n\treturn context.store.constants.privateConstants.GRID_MARGIN;\n};\n\nconst setMinHeightAndWidth = function (context, val) {\n\tcontext.store.constants.privateConstants.MIN_HEIGHT_AND_WIDTH = val;\n};\n\nconst getMinHeightAndWidth = function (context) {\n\treturn context.store.constants.privateConstants.MIN_HEIGHT_AND_WIDTH;\n};\n\nexport default getPrivateConstants;\nexport {\n\tsetPrivateConstants,\n\tgetPrivateConstants,\n\tsetPrivateConstantByName,\n\tgetPrivateConstantByName,\n\tsetWidth,\n\tgetWidth,\n\tsetHeight,\n\tgetHeight,\n\tsetPaddingLeft,\n\tgetPaddingLeft,\n\tsetPaddingRight,\n\tgetPaddingRight,\n\tsetPaddingTop,\n\tgetPaddingTop,\n\tsetPaddingBottom,\n\tgetPaddingBottom,\n\tsetWidthScaleFactor,\n\tgetWidthScaleFactor,\n\tsetMargin,\n\tgetMargin,\n\tsetDefinedMinHeightAndWidth,\n\tgetDefinedMinHeightAndWidth,\n\tsetGridWidth,\n\tgetGridWidth,\n\tsetGridHeight,\n\tgetGridHeight,\n\tsetGridMargin,\n\tgetGridMargin,\n\tsetMinHeightAndWidth,\n\tgetMinHeightAndWidth,\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport { getPrivateConstantByName } from \"./privateConstants\";\n\n// const constants = {\n// \tMOVE_GUIDE_RADIUS: 10,\n// \tRESIZE_SQUARE_GUIDE_LENGTH: 10,\n// \tRESIZE_SQUARE_BORDER_GUIDE_WIDTH: 3,\n// \tAUTO_SCROLL_DISTANCE: 50,\n// \tAUTO_SCROLL_POINT: 50,\n// \tMOVE_OR_RESIZE_HEIGHT_INCREMENTS: 50,\n\n// \tMOUSE_DOWN_TIME: 500,\n// \tTOUCH_HOLD_TIME: 300,\n// \tDEMO_WAIT_TIME: 500,\n// \tWINDOW_RESIZE_WAIT_TIME: 1000,\n// \tMARGIN: 5,\n\n// \tMOBILE_ASPECT_RATIO: 16 / 9,\n\n// \tADD_OR_CUTSPACE_TOGGLE: \"ADD\",\n\n// \tDEFINED_MIN_HEIGHT_AND_WIDTH: 150,\n// };\n\nconst setPublicConstants = function (context, val) {\n\tcontext.store.constants.publicConstants = val;\n};\n\nconst getPublicConstants = function (context) {\n\treturn context.store.constants.publicConstants;\n};\n\nconst setPublicConstantByName = function (context, name, value) {\n\tif (context.store.constants.publicConstants.hasOwnProperty(name)) {\n\t\tcontext.store.constants.publicConstants[name] = value;\n\t}\n};\n\nconst getPublicConstantByName = function (context, name) {\n\treturn context.store.constants.publicConstants[name];\n};\n\nexport default getPublicConstants;\nexport {\n\tsetPublicConstants,\n\tgetPublicConstants,\n\tsetPublicConstantByName,\n\tgetPublicConstantByName,\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport getPublicConstants from \"../../store/constants/publicConstants\";\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\n\nexport const emptyObject = function (obj) {\n\tlet keys = Object.keys(obj);\n\tlet length = keys.length;\n\tfor (let i = 0; i < length; i++) {\n\t\tdelete obj[keys[i]];\n\t}\n};\n\nexport let isMobile = function (context) {\n\tconst isMobileFunction = context.options.isMobileCheck;\n\n\tif (isMobileFunction) {\n\t\treturn isMobileFunction();\n\t}\n\n\t// production\n\treturn window.matchMedia(\n\t\t// \"only screen and (max-width: 1033px) and (min-width : 1px)\"\n\t\t\"only screen and (max-width: 979px) and (min-width : 1px)\"\n\t).matches;\n};\n\nexport const fixTo = (num, to = 6) => {\n\treturn Math.trunc(num * Math.pow(10, to)) / Math.pow(10, to);\n};\n\nexport const filter = (arr) => {\n\tconst len = arr.length;\n\tconst temp = new Array(len);\n\tlet count = 0;\n\tfor (let i = 0; i < len; i++) {\n\t\tif (arr[i] !== null && arr[i] !== undefined) {\n\t\t\ttemp[count++] = arr[i];\n\t\t}\n\t}\n\n\tconst res = new Array(count);\n\tfor (let i = 0; i < count; i++) {\n\t\tres[i] = temp[i];\n\t}\n\n\treturn res;\n};\n\nexport const getRandomString = (len = 22) => {\n\tconst alpNum = \"0123456789abcdefghijklmnopqrstuvwxyz\";\n\n\tconst arr = new Array(len);\n\tfor (let i = 0; i < len; i++) {\n\t\tarr[i] = alpNum[Math.floor(Math.random() * 36)];\n\t}\n\treturn arr.join(\"\");\n};\n\nexport const getItemDimenWithMargin = (MARGIN, item) => {\n\treturn {\n\t\tx: item.x - MARGIN,\n\t\ty: item.y - MARGIN,\n\t\twidth: item.width + MARGIN * 2,\n\t\theight: item.height + MARGIN * 2,\n\t};\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport { emptyObject } from \"../../libs/utils/utils\";\n\n// const ev = {\n// \t// elementID: \"\",\n// \tpseudoElementId: \"\",\n// };\n// const positionData = [];\n// const modifiedPositionData = [];\n// const initialPositionData = [];\n// const initialGridData = {};\n// let callbacks = {};\n// const serializedPositionData = {};\n\n// const setElementId = function (id) {\n// \tev.elementID = id;\n// };\n\nconst setEssentialVariables = function (context, ev) {\n\tcontext.store.variables.essentials = ev;\n};\n\nconst getEssentialVariables = function (context) {\n\treturn context.store.variables.essentials;\n};\n\nconst setPseudoContainerId = function (context, id) {\n\tcontext.store.variables.essentials.pseudoContainerId = id;\n};\n\nconst getPseudoContainerId = function (context) {\n\treturn context.store.variables.essentials.pseudoContainerId;\n};\n\nconst setPositionData = function (context, pd) {\n\tconst len = pd.length;\n\tconst arr = new Array(len);\n\tfor (let i = 0; i < len; i++) {\n\t\tarr[i] = { ...pd[i] };\n\t}\n\n\tcontext.store.variables.essentials.positionData = arr;\n};\n\nconst getPositionData = function (context) {\n\treturn context.store.variables.essentials.positionData;\n};\n\nconst setModifiedPositionData = function (context, pd) {\n\tconst len = pd.length;\n\tconst arr = new Array(len);\n\tfor (let i = 0; i < len; i++) {\n\t\tarr[i] = { ...pd[i] };\n\t}\n\n\tcontext.store.variables.essentials.modifiedPositionData = arr;\n};\n\nconst getModifiedPositionData = function (context) {\n\treturn context.store.variables.essentials.modifiedPositionData;\n};\n\n// const setInitialPositionData = function (context, pos) {\n// \tcontext.store.variables.essentials.initialPositionData.length = 0;\n// \tObject.assign(\n// \t\tcontext.store.variables.essentials.initialPositionData,\n// \t\tJSON.parse(JSON.stringify(pos))\n// \t);\n// };\n\n// const getInitialPositionData = function (context) {\n// \treturn context.store.variables.essentials.initialPositionData;\n// };\n\nconst setGridData = function (context, grid) {\n\tcontext.store.variables.essentials.gridData = grid;\n};\n\nconst getGridData = function (context) {\n\treturn context.store.variables.essentials.gridData;\n};\n\nconst setCallbacks = function (context, cbs) {\n\tcontext.store.variables.essentials.callbacks = cbs;\n};\n\nconst getCallbacks = function (context) {\n\treturn context.store.variables.essentials.callbacks;\n};\n\nexport default getEssentialVariables;\nexport {\n\t// setElementId,\n\tsetEssentialVariables,\n\tgetEssentialVariables,\n\tsetPseudoContainerId,\n\tgetPseudoContainerId,\n\tsetPositionData,\n\tgetPositionData,\n\tsetModifiedPositionData,\n\tgetModifiedPositionData,\n\tsetGridData,\n\tgetGridData,\n\tsetCallbacks,\n\tgetCallbacks,\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\n// import { emptyObject } from \"../libs/utils/utils\";\n\n// const e = {\n// \t$body: [],\n// \t$bodyPseudoEl: {},\n// \t$limberGridViewBodyPseudoItem: [],\n// \t$el: {},\n// \t$limberGridView: [],\n// \t$limberGridViewItems: [],\n// \t$limberGridViewDebugMergedTempRects: [],\n// \t$limberGridViewDebugStackTopRect: undefined,\n// \t$limberGridViewDebugStackTopAdjRect: undefined,\n// \t$limberGridViewDebugMergedRect: undefined,\n// \t$limberGridViewDebugAdjRect: undefined,\n// \t$limberGridViewDebugResultStackRects: [],\n// \t$limberGridViewDebugStackRects: [],\n// \t$limberGridViewDebugUnmergedRects: [],\n// \t$limberGridViewDebugMergedFreeRects: [],\n// \t$limberGridViewContainer: undefined,\n// \t$limberGridViewStyle: [],\n// \t$limberGridViewGridPseudoItem: undefined,\n// \t$limberGridViewMoveGuide: [],\n// \t$limberGridViewHeightAdjustGuide: [],\n// \t$limberGridViewAddItemGuide: [],\n// \t$limberGridViewAddItemOnTouchHoldGuide: [],\n// };\n\nconst getElements = function (context) {\n\treturn context.store.variables.elements;\n};\n\nconst set$body = function (context, elm) {\n\tcontext.store.variables.elements.$body = elm;\n};\n\nconst get$body = function (context) {\n\treturn context.store.variables.elements.$body;\n};\n\n// outside pseudos BEGIN\nconst set$pseudoContainer = function (context, elm) {\n\tcontext.store.variables.elements.$pseudoContainer = elm;\n};\n\nconst get$pseudoContainer = function (context) {\n\treturn context.store.variables.elements.$pseudoContainer;\n};\n\nconst set$pseudoContainerItem = function (context, elm) {\n\tcontext.store.variables.elements.$pseudoContainerItem = elm;\n};\n\nconst get$pseudoContainerItem = function (context) {\n\treturn context.store.variables.elements.$pseudoContainerItem;\n};\n// outside pseudos ENDED\n\n// Grid Elements BEGIN\nconst set$el = function (context, elm) {\n\tcontext.store.variables.elements.$el = elm;\n};\n\nconst get$el = function (context) {\n\treturn context.store.variables.elements.$el;\n};\n\nconst set$limberGridViewContainer = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewContainer = elm;\n};\n\nconst get$limberGridViewContainer = function (context) {\n\treturn context.store.variables.elements.$limberGridViewContainer;\n};\n\nconst set$limberGridView = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridView = elm;\n};\n\nconst get$limberGridView = function (context) {\n\treturn context.store.variables.elements.$limberGridView;\n};\n\nconst set$limberGridViewItems = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewItems = elm;\n};\n\nconst get$limberGridViewItems = function (context) {\n\treturn context.store.variables.elements.$limberGridViewItems;\n};\n\nconst set$limberGridViewPseudoItem = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewPseudoItem = elm;\n};\n\nconst get$limberGridViewPseudoItem = function (context) {\n\treturn context.store.variables.elements.$limberGridViewPseudoItem;\n};\n\nconst set$limberGridViewMoveGuide = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewMoveGuide = elm;\n};\n\nconst get$limberGridViewMoveGuide = function (context) {\n\treturn context.store.variables.elements.$limberGridViewMoveGuide;\n};\n\nconst set$limberGridViewHeightAdjustGuide = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewHeightAdjustGuide = elm;\n};\n\nconst get$limberGridViewHeightAdjustGuide = function (context) {\n\treturn context.store.variables.elements.$limberGridViewHeightAdjustGuide;\n};\n\nconst set$limberGridViewAddCutGuide = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewAddCutGuide = elm;\n};\n\nconst get$limberGridViewAddCutGuide = function (context) {\n\treturn context.store.variables.elements.$limberGridViewAddCutGuide;\n};\n\nconst set$limberGridViewTouchHoldGuide = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewTouchHoldGuide = elm;\n};\n\nconst get$limberGridViewTouchHoldGuide = function (context) {\n\treturn context.store.variables.elements.$limberGridViewTouchHoldGuide;\n};\n// Grid Elements ENDED\n\n// DEBUG Elements\nconst set$limberGridViewDebugMergedTempRects = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewDebugMergedTempRects = elm;\n};\n\nconst get$limberGridViewDebugMergedTempRects = function (context) {\n\treturn context.store.variables.elements.$limberGridViewDebugMergedTempRects;\n};\n\nconst set$limberGridViewDebugStackTopRect = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewDebugStackTopRect = elm;\n};\n\nconst get$limberGridViewDebugStackTopRect = function (context) {\n\treturn context.store.variables.elements.$limberGridViewDebugStackTopRect;\n};\n\nconst set$limberGridViewDebugStackTopAdjRect = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewDebugStackTopAdjRect = elm;\n};\n\nconst get$limberGridViewDebugStackTopAdjRect = function (context) {\n\treturn context.store.variables.elements.$limberGridViewDebugStackTopAdjRect;\n};\n\nconst set$limberGridViewDebugMergedRect = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewDebugMergedRect = elm;\n};\n\nconst get$limberGridViewDebugMergedRect = function (context) {\n\treturn context.store.variables.elements.$limberGridViewDebugMergedRect;\n};\n\nconst set$limberGridViewDebugAdjRect = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewDebugAdjRect = elm;\n};\n\nconst get$limberGridViewDebugAdjRect = function (context) {\n\treturn context.store.variables.elements.$limberGridViewDebugAdjRect;\n};\n\nconst set$limberGridViewDebugStackRects = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewDebugStackRects = elm;\n};\n\nconst get$limberGridViewDebugStackRects = function (context) {\n\treturn context.store.variables.elements.$limberGridViewDebugStackRects;\n};\n\nconst set$limberGridViewDebugResultStackRects = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewDebugResultStackRects = elm;\n};\n\nconst get$limberGridViewDebugResultStackRects = function (context) {\n\treturn context.store.variables.elements.$limberGridViewDebugResultStackRects;\n};\n\nconst set$limberGridViewDebugUnmergedRects = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewDebugUnmergedRects = elm;\n};\n\nconst get$limberGridViewDebugUnmergedRects = function (context) {\n\treturn context.store.variables.elements.$limberGridViewDebugUnmergedRects;\n};\n\nconst set$limberGridViewDebugMergedFreeRects = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewDebugMergedFreeRects = elm;\n};\n\nconst get$limberGridViewDebugMergedFreeRects = function (context) {\n\treturn context.store.variables.elements.$limberGridViewDebugMergedFreeRects;\n};\n\nexport default getElements;\nexport {\n\tgetElements,\n\tset$body,\n\tget$body,\n\t// outside pseudo\n\tset$pseudoContainer,\n\tget$pseudoContainer,\n\tset$pseudoContainerItem,\n\tget$pseudoContainerItem,\n\t// Grid Elements\n\tset$el,\n\tget$el,\n\tset$limberGridView,\n\tget$limberGridView,\n\tset$limberGridViewItems,\n\tget$limberGridViewItems,\n\tset$limberGridViewContainer,\n\tget$limberGridViewContainer,\n\tset$limberGridViewPseudoItem,\n\tget$limberGridViewPseudoItem,\n\tset$limberGridViewMoveGuide,\n\tget$limberGridViewMoveGuide,\n\tset$limberGridViewHeightAdjustGuide,\n\tget$limberGridViewHeightAdjustGuide,\n\tset$limberGridViewAddCutGuide,\n\tget$limberGridViewAddCutGuide,\n\tset$limberGridViewTouchHoldGuide,\n\tget$limberGridViewTouchHoldGuide,\n\t// DEBUG Elements\n\tset$limberGridViewDebugMergedTempRects,\n\tget$limberGridViewDebugMergedTempRects,\n\tset$limberGridViewDebugStackTopRect,\n\tget$limberGridViewDebugStackTopRect,\n\tset$limberGridViewDebugStackTopAdjRect,\n\tget$limberGridViewDebugStackTopAdjRect,\n\tset$limberGridViewDebugMergedRect,\n\tget$limberGridViewDebugMergedRect,\n\tset$limberGridViewDebugAdjRect,\n\tget$limberGridViewDebugAdjRect,\n\tset$limberGridViewDebugStackRects,\n\tget$limberGridViewDebugStackRects,\n\tset$limberGridViewDebugResultStackRects,\n\tget$limberGridViewDebugResultStackRects,\n\tset$limberGridViewDebugUnmergedRects,\n\tget$limberGridViewDebugUnmergedRects,\n\tset$limberGridViewDebugMergedFreeRects,\n\tget$limberGridViewDebugMergedFreeRects,\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport getPublicConstants from \"../../store/constants/publicConstants\";\nimport { getPositionData } from \"../../store/variables/essentials\";\nimport getElements from \"../../store/variables/elements\";\n\nexport const getPlainFrom4Points = function (pointsArray) {\n\tvar minX = -1;\n\tvar minY = -1;\n\tvar maxX = -1;\n\tvar maxY = -1;\n\tvar length_0 = pointsArray.length;\n\tfor (var i = 0; i < length_0; i++) {\n\t\tif (pointsArray[i][0] < minX || minX < 0) {\n\t\t\tminX = pointsArray[i][0];\n\t\t}\n\t\tif (pointsArray[i][0] > maxX) {\n\t\t\tmaxX = pointsArray[i][0];\n\t\t}\n\t\tif (pointsArray[i][1] < minY || minY < 0) {\n\t\t\tminY = pointsArray[i][1];\n\t\t}\n\t\tif (pointsArray[i][1] > maxY) {\n\t\t\tmaxY = pointsArray[i][1];\n\t\t}\n\t}\n\n\tvar plane = {};\n\tplane.x = minX;\n\tplane.y = minY;\n\tplane.width = maxX - minX;\n\tplane.height = maxY - minY;\n\n\treturn plane;\n};\n\nexport const getCoordinates = function (item) {\n\tvar itemTopLeft = [item.x, item.y];\n\tvar itemTopRight = [item.x + item.width, item.y];\n\tvar itemBottomLeft = [item.x, item.y + item.height];\n\tvar itemBottomRight = [item.x + item.width, item.y + item.height];\n\n\tvar itemCoordinatesArr = [\n\t\titemTopLeft,\n\t\titemTopRight,\n\t\titemBottomRight,\n\t\titemBottomLeft,\n\t];\n\n\treturn itemCoordinatesArr;\n};\n\nexport const getLines = function (item) {\n\tvar itemTopLeft = JSON.parse(JSON.stringify([item.x, item.y]));\n\tvar itemTopRight = JSON.parse(JSON.stringify([item.x + item.width, item.y]));\n\tvar itemBottomLeft = JSON.parse(\n\t\tJSON.stringify([item.x, item.y + item.height])\n\t);\n\tvar itemBottomRight = JSON.parse(\n\t\tJSON.stringify([item.x + item.width, item.y + item.height])\n\t);\n\n\tvar topLine = [itemTopLeft, itemTopRight];\n\tvar rightLine = [itemTopRight, itemBottomRight];\n\tvar bottomLine = [itemBottomLeft, itemBottomRight];\n\tvar leftLine = [itemTopLeft, itemBottomLeft];\n\n\tvar allLines = [topLine, rightLine, bottomLine, leftLine];\n\n\treturn allLines;\n};\n\nexport const arePlainsSame = function (A, B) {\n\tif (A.x == B.x && A.y == B.y && A.width == B.width && A.height == B.height) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\nexport const arePlainsIdentical = function (A, B) {\n\tif (A.width == B.width && A.height == B.height) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\nexport const isValidPlane = function (plane) {\n\tif (plane.x >= 0 && plane.y >= 0 && plane.width > 0 && plane.height > 0) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\nexport const sortPlainsByArea = function (planes, order = \"dec\") {\n\tif (order == \"asc\") {\n\t\tplanes.sort(function (a, b) {\n\t\t\treturn (\n\t\t\t\t(a.x + a.width) * (a.y + a.height) - (b.x + b.width) * (b.y + b.height)\n\t\t\t);\n\t\t});\n\t} else {\n\t\tplanes.sort(function (a, b) {\n\t\t\treturn (\n\t\t\t\t(b.x + b.width) * (b.y + b.height) - (a.x + a.width) * (a.y + a.height)\n\t\t\t);\n\t\t});\n\t}\n\n\treturn planes;\n};\n\nexport const sortPlainsByHeight = function (planes, order = \"dec\") {\n\tif (order == \"asc\") {\n\t\tplanes.sort(function (a, b) {\n\t\t\treturn a.height - b.height;\n\t\t});\n\t} else {\n\t\tplanes.sort(function (a, b) {\n\t\t\treturn b.height - a.height;\n\t\t});\n\t}\n\n\treturn planes;\n};\n\nexport const sortPlainsByDepth = function (planes, order = \"dec\") {\n\tif (order == \"asc\") {\n\t\tplanes.sort(function (a, b) {\n\t\t\treturn a.y + a.height - (b.y + b.height);\n\t\t});\n\t} else {\n\t\tplanes.sort(function (a, b) {\n\t\t\treturn b.y + b.height - (a.y + a.height);\n\t\t});\n\t}\n\n\treturn planes;\n};\n\nexport const divideEqualNumber = function (a, DEFAULT = 0) {\n\tvar res = a / a;\n\tif (res == NaN) {\n\t\treturn 0;\n\t} else {\n\t\treturn 1;\n\t}\n};\n\nexport const getMarginAtPoint = function (a) {\n\tif (a == 0) {\n\t\treturn 0;\n\t} else {\n\t\treturn publicConstants.MARGIN;\n\t}\n};\n\nexport const getRowSequence = function (serialize) {\n\tvar rows = {};\n\tvar rowsArr = [];\n\tvar columns = {};\n\n\tvar length_0 = positionData.length;\n\n\tfor (var i = 0; i < length_0; i++) {\n\t\tif (rows.hasOwnProperty(positionData[i].y)) {\n\t\t\trows[positionData[i].y].push(i);\n\t\t} else {\n\t\t\trows[positionData[i].y] = [];\n\t\t\trowsArr.push(Number(positionData[i].y));\n\t\t\trows[positionData[i].y].push(i);\n\t\t}\n\t}\n\n\trowsArr.sort(function (a, b) {\n\t\treturn a - b;\n\t});\n\n\tvar length_0 = rowsArr.length;\n\tfor (var i = 0; i < length_0; i++) {\n\t\trows[rowsArr[i]].sort(function (a, b) {\n\t\t\treturn positionData[a].x - positionData[b].x;\n\t\t});\n\t}\n\n\tif (serialize != true) {\n\t\treturn { rowOrder: rowsArr, rows: rows };\n\t} else {\n\t\tvar arr = [];\n\t\tvar map = {};\n\t\tvar count = 0;\n\n\t\tvar length_0 = rowsArr.length;\n\t\tfor (var i = 0; i < length_0; i++) {\n\t\t\tvar length_1 = rows[rowsArr[i]].length;\n\t\t\tfor (var j = 0; j < length_1; j++) {\n\t\t\t\tarr.push(rows[rowsArr[i]][j]);\n\t\t\t\tmap[rows[rowsArr[i]][j]] = count++;\n\t\t\t}\n\t\t}\n\n\t\treturn { list: arr, map: map };\n\t}\n};\n\nexport const adjustHeight = function (context, yMouseOrTouchPosition) {\n\tconst e = getElements(context);\n\tconst publicConstants = getPublicConstants(context);\n\n\tconst scrollHeight = e.$limberGridView.scrollHeight;\n\tif (\n\t\tscrollHeight - yMouseOrTouchPosition <=\n\t\tpublicConstants.AUTO_SCROLL_POINT\n\t) {\n\t\te.$limberGridViewHeightAdjustGuide.style.height =\n\t\t\tyMouseOrTouchPosition +\n\t\t\tpublicConstants.MOVE_OR_RESIZE_HEIGHT_INCREMENTS +\n\t\t\t\"px\";\n\t}\n};\n\nexport const adjustScroll = function (\n\tcontext,\n\tlimberGridViewOnVisibleAreaY,\n\tlimberGridViewHeightVisibleHeight\n) {\n\tconst e = getElements(context);\n\tconst publicConstants = getPublicConstants(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tconst scrollTop = e.$limberGridView.scrollTop;\n\t// var scrollLeft = this.$limberGridView[0].scrollLeft;\n\tlet programScrolled = false;\n\tif (limberGridViewOnVisibleAreaY > 0) {\n\t\tif (\n\t\t\tlimberGridViewHeightVisibleHeight - limberGridViewOnVisibleAreaY <\n\t\t\tpublicConstants.AUTO_SCROLL_POINT\n\t\t) {\n\t\t\te.$limberGridView.scrollTop =\n\t\t\t\tscrollTop + publicConstants.AUTO_SCROLL_DISTANCE;\n\t\t\tprogramScrolled = true;\n\t\t}\n\t\tif (\n\t\t\tlimberGridViewOnVisibleAreaY < privateConstants.HEIGHT / 10 &&\n\t\t\tscrollTop !== 0\n\t\t) {\n\t\t\te.$limberGridView.scrollTop =\n\t\t\t\tscrollTop - publicConstants.AUTO_SCROLL_DISTANCE;\n\t\t\tprogramScrolled = true;\n\t\t}\n\t}\n\n\t// if(limberGridViewOnVisibleAreaX > 0){\n\t// \tif((limberGridViewWidthVisibleWidth - limberGridViewOnVisibleAreaX) < (this.WIDTH/10)){\n\t// \t\tthis.$limberGridView[0].scrollLeft = scrollLeft + 100;\n\t// \t\tvar programScrolled = true;\n\t// \t}\n\t// \tif((limberGridViewOnVisibleAreaX) < (this.WIDTH/10) && scrollLeft != 0){\n\t// \t\tthis.$limberGridView[0].scrollLeft = scrollLeft - 100;\n\t// \t\tvar programScrolled = true;\n\t// \t}\n\t// }\n\treturn programScrolled;\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport getElements from \"../../store/variables/elements\";\nimport { getPositionData } from \"../../store/variables/essentials\";\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport getPublicConstants from \"../../store/constants/publicConstants\";\n\nexport const calculateMousePosOnDesk = function (context, event) {\n\tconst e = getElements(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tconst limberGridViewPosition = e.$limberGridView.getBoundingClientRect();\n\tif (\n\t\tevent.clientX >= limberGridViewPosition.left &&\n\t\tevent.clientX <=\n\t\t\tlimberGridViewPosition.left + limberGridViewPosition.width &&\n\t\tevent.clientY >= limberGridViewPosition.top &&\n\t\tevent.clientY <= limberGridViewPosition.top + limberGridViewPosition.height\n\t) {\n\t\tconst scrollTop = e.$limberGridView.scrollTop;\n\t\tconst scrollLeft = e.$limberGridView.scrollLeft;\n\n\t\tconst mouseXOnLimberGridView =\n\t\t\tevent.clientX -\n\t\t\tlimberGridViewPosition.left -\n\t\t\tprivateConstants.PADDING_LEFT +\n\t\t\tscrollLeft;\n\t\tconst mouseYOnLimberGridView =\n\t\t\tevent.clientY -\n\t\t\tlimberGridViewPosition.top -\n\t\t\tprivateConstants.PADDING_TOP +\n\t\t\tscrollTop;\n\n\t\tif (mouseXOnLimberGridView < 0 || mouseYOnLimberGridView < 0) {\n\t\t\treturn false;\n\t\t}\n\t\treturn { x: mouseXOnLimberGridView, y: mouseYOnLimberGridView };\n\t} else {\n\t\t// mouse pointer NOT inside limberGridView\n\t\treturn false;\n\t}\n};\n\nexport const calculateTouchPosOnDesk = function (context, event) {\n\tconst e = getElements(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tconst limberGridViewPosition = e.$limberGridView.getBoundingClientRect();\n\tlet touch;\n\n\tif (event.type === \"touchend\") {\n\t\ttouch = {\n\t\t\tclientX: event.changedTouches[0].clientX,\n\t\t\tclientY: event.changedTouches[0].clientY,\n\t\t};\n\t} else {\n\t\ttouch = {\n\t\t\tclientX: event.touches[0].clientX,\n\t\t\tclientY: event.touches[0].clientY,\n\t\t};\n\t}\n\tif (\n\t\ttouch.clientX >= limberGridViewPosition.left &&\n\t\ttouch.clientX <=\n\t\t\tlimberGridViewPosition.left + limberGridViewPosition.width &&\n\t\ttouch.clientY >= limberGridViewPosition.top &&\n\t\ttouch.clientY <= limberGridViewPosition.top + limberGridViewPosition.height\n\t) {\n\t\tconst scrollTop = e.$limberGridView.scrollTop;\n\t\tconst scrollLeft = e.$limberGridView.scrollLeft;\n\n\t\tconst touchXOnLimberGridView =\n\t\t\ttouch.clientX -\n\t\t\tlimberGridViewPosition.left -\n\t\t\tprivateConstants.PADDING_LEFT +\n\t\t\tscrollLeft;\n\t\tconst touchYOnLimberGridView =\n\t\t\ttouch.clientY -\n\t\t\tlimberGridViewPosition.top -\n\t\t\tprivateConstants.PADDING_TOP +\n\t\t\tscrollTop;\n\n\t\tif (touchXOnLimberGridView < 0 || touchYOnLimberGridView < 0) {\n\t\t\treturn false;\n\t\t}\n\t\treturn { x: touchXOnLimberGridView, y: touchYOnLimberGridView };\n\t} else {\n\t\t// touch NOT inside limberGridView\n\t\treturn false;\n\t}\n};\n\nexport const calculateTouchPosOnItem = function (context, event) {\n\tconst e = getElements(context);\n\n\tconst limberGridViewItemPosition = e.$limberGridViewItems[\n\t\tevent.currentTarget.attributes[\"data-index\"].value\n\t].getBoundingClientRect();\n\n\tif (\n\t\tevent.touches[0].clientX >= limberGridViewItemPosition.left &&\n\t\tevent.touches[0].clientX <=\n\t\t\tlimberGridViewItemPosition.left + limberGridViewItemPosition.width &&\n\t\tevent.touches[0].clientY >= limberGridViewItemPosition.top &&\n\t\tevent.touches[0].clientY <=\n\t\t\tlimberGridViewItemPosition.top + limberGridViewItemPosition.height\n\t) {\n\t\tconst touchXOnLimberGridView =\n\t\t\tevent.touches[0].clientX - limberGridViewItemPosition.left;\n\t\tconst touchYOnLimberGridView =\n\t\t\tevent.touches[0].clientY - limberGridViewItemPosition.top;\n\n\t\treturn { x: touchXOnLimberGridView, y: touchYOnLimberGridView };\n\t} else {\n\t\t// touch NOT inside limberGridViewItem\n\t\treturn false;\n\t}\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\n// SEE index.js for options format\n\nconst setOptions = function (context, options) {\n\tObject.assign(context.options, options);\n};\n\nconst getOptions = function (context) {\n\treturn context.options;\n};\n\nexport default getOptions;\nexport { setOptions, getOptions };\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport getElements from \"../../store/variables/elements\";\nimport getOptions from \"../../store/variables/options\";\nimport { getPositionData } from \"../../store/variables/essentials\";\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport getPublicConstants from \"../../store/constants/publicConstants\";\nimport { calculateTouchPosOnItem } from \"./eventHandlerUtils\";\n\nexport const getUserActionData = (context, event) => {\n\tconst publicConstants = getPublicConstants(context);\n\tconst options = getOptions(context);\n\tconst pd = getPositionData(context);\n\n\tconst itemIndex = parseInt(\n\t\tevent.currentTarget.attributes[\"data-index\"].value\n\t);\n\tlet radius;\n\tlet touchPosOnLimberGridItem;\n\tlet X, Y;\n\n\tif (event.which === 1) {\n\t\tradius = Math.sqrt(\n\t\t\tMath.pow(0 - event.offsetX, 2) + Math.pow(0 - event.offsetY, 2)\n\t\t);\n\t\tX = event.offsetX;\n\t\tY = event.offsetY;\n\t} else if (event.which === 0) {\n\t\ttouchPosOnLimberGridItem = calculateTouchPosOnItem(context, event);\n\t\tradius = Math.sqrt(\n\t\t\tMath.pow(0 - touchPosOnLimberGridItem.x, 2) +\n\t\t\t\tMath.pow(0 - touchPosOnLimberGridItem.y, 2)\n\t\t);\n\t\tX = touchPosOnLimberGridItem.x;\n\t\tY = touchPosOnLimberGridItem.y;\n\t} else {\n\t\treturn false;\n\t\t// throw \"Unidentified event\";\n\t}\n\n\tconst resizeUIBox = {\n\t\tx:\n\t\t\tevent.currentTarget.offsetWidth -\n\t\t\tpublicConstants.RESIZE_SQUARE_GUIDE_LENGTH,\n\t\ty:\n\t\t\tevent.currentTarget.offsetHeight -\n\t\t\tpublicConstants.RESIZE_SQUARE_GUIDE_LENGTH,\n\t\twidth:\n\t\t\tpublicConstants.RESIZE_SQUARE_GUIDE_LENGTH +\n\t\t\tpublicConstants.RESIZE_SQUARE_GUIDE_BORDER_WIDTH,\n\t\theight:\n\t\t\tpublicConstants.RESIZE_SQUARE_GUIDE_LENGTH +\n\t\t\tpublicConstants.RESIZE_SQUARE_GUIDE_BORDER_WIDTH,\n\t};\n\n\tif (\n\t\toptions.itemMouseDownMoveCheck &&\n\t\toptions.itemMouseDownMoveCheck(X, Y, { ...pd[itemIndex] }, itemIndex)\n\t) {\n\t\t// call developer defined function to check if mousedown for MOVE is in a valid place\n\t\treturn {\n\t\t\ttype: \"move\",\n\t\t\titemIndex: event.currentTarget.attributes[\"data-index\"].value,\n\t\t};\n\t}\n\n\tif (\n\t\tradius <= publicConstants.MOVE_GUIDE_RADIUS &&\n\t\t!options.itemMouseDownMoveCheck\n\t) {\n\t\treturn {\n\t\t\ttype: \"move\",\n\t\t\titemIndex: event.currentTarget.attributes[\"data-index\"].value,\n\t\t};\n\t}\n\n\tif (\n\t\toptions.itemMouseDownResizeCheck &&\n\t\toptions.itemMouseDownResizeCheck(X, Y, { ...pd[itemIndex] }, itemIndex)\n\t) {\n\t\t// call developer defined function to check if mousedown for RESIZE is in a valid place\n\t\treturn {\n\t\t\ttype: \"resize\",\n\t\t\titemIndex: event.currentTarget.attributes[\"data-index\"].value,\n\t\t};\n\t}\n\n\tif (\n\t\tX >= resizeUIBox.x &&\n\t\tX <= resizeUIBox.x + resizeUIBox.width &&\n\t\tY >= resizeUIBox.y &&\n\t\tY <= resizeUIBox.y + resizeUIBox.height &&\n\t\t!options.itemMouseDownResizeCheck\n\t) {\n\t\treturn {\n\t\t\ttype: \"resize\",\n\t\t\titemIndex: event.currentTarget.attributes[\"data-index\"].value,\n\t\t};\n\t}\n};\n\nexport const loadResizingState = (context, userActionData) => {\n\tconst e = getElements(context);\n\tconst pd = getPositionData(context);\n\n\tconst item = pd[userActionData.itemIndex];\n\n\te.$limberGridViewHeightAdjustGuide.style.height = 0 + \"px\";\n\te.$limberGridViewHeightAdjustGuide.classList.add(\n\t\t\"limber-grid-view-height-adjust-guide-active\"\n\t);\n\n\te.$limberGridViewPseudoItem.style.width = `${item.width}px`;\n\te.$limberGridViewPseudoItem.style.height = `${item.height}px`;\n\te.$limberGridViewPseudoItem.setAttribute(\"data-after\", `w: 0px, h: 0px`);\n\te.$limberGridViewPseudoItem.style.transform = `translate(${userActionData.itemX}px,${userActionData.itemY}px)`;\n\te.$limberGridViewPseudoItem.classList.add(\n\t\t\"limber-grid-view-pseudo-item-active\"\n\t);\n\te.$limberGridViewPseudoItem.classList.remove(\n\t\t\"limber-grid-view-pseudo-item-resize-allow\",\n\t\t\"limber-grid-view-pseudo-item-resize-disallow\"\n\t);\n\n\te.$body.classList.add(\"limber-grid-view-body-tag-state-editing\");\n\n\tconst itemsLen = e.$limberGridViewItems.length;\n\tfor (let i = 0; i < itemsLen; i++) {\n\t\te.$limberGridViewItems[i].classList.add(\n\t\t\t\"limber-grid-view-item-resizing-state\"\n\t\t);\n\t}\n\n\te.$limberGridViewPseudoItem.classList.add(\n\t\t\"limber-grid-view-pseudo-item-resizing-state\"\n\t);\n};\n\nexport const unloadResizingState = (context, userActionData) => {\n\tconst e = getElements(context);\n\tconst pd = getPositionData(context);\n\n\tconst item = pd[userActionData.itemIndex];\n\n\te.$limberGridViewHeightAdjustGuide.classList.remove(\n\t\t\"limber-grid-view-height-adjust-guide-active\"\n\t);\n\n\te.$limberGridViewPseudoItem.classList.remove(\n\t\t\"limber-grid-view-pseudo-item-active\"\n\t);\n\te.$limberGridViewPseudoItem.style.transform = `translate(0px, 0px)`;\n\n\te.$body.classList.remove(\"limber-grid-view-body-tag-state-editing\");\n\n\tconst itemsLen = e.$limberGridViewItems.length;\n\tfor (let i = 0; i < itemsLen; i++) {\n\t\te.$limberGridViewItems[i].classList.remove(\n\t\t\t\"limber-grid-view-item-resizing-state\"\n\t\t);\n\t}\n\n\te.$limberGridViewPseudoItem.classList.remove(\n\t\t\"limber-grid-view-pseudo-item-resizing-state\"\n\t);\n};\n\nexport const loadMoveState = (context, userActionData, event) => {\n\tconst e = getElements(context);\n\tconst pd = getPositionData(context);\n\n\tconst item = pd[userActionData.itemIndex];\n\n\te.$limberGridViewHeightAdjustGuide.style.height = 0 + \"px\";\n\te.$limberGridViewHeightAdjustGuide.classList.add(\n\t\t\"limber-grid-view-height-adjust-guide-active\"\n\t);\n\n\te.$limberGridViewItems[userActionData.itemIndex].classList.add(\n\t\t\"limber-grid-view-item-demo\"\n\t);\n\n\te.$pseudoContainerItem.classList.add(\n\t\t\"limber-grid-view-pseudo-container-item-active\"\n\t);\n\n\te.$pseudoContainerItem.style.width = item.width + \"px\";\n\te.$pseudoContainerItem.style.height = item.height + \"px\";\n\n\tif (event.which === 1) {\n\t\te.$pseudoContainerItem.style.transform = `translate(${event.pageX}px, ${event.pageY}px)`;\n\t} else if (event.which === 0) {\n\t\te.$pseudoContainerItem.style.transform = `translate(${event.touches[0].pageX}px, ${event.touches[0].pageY}px)`;\n\t}\n\n\te.$body.classList.add(\"limber-grid-view-body-tag-state-editing\");\n};\n\nexport const unloadMoveState = (context, userActionData) => {\n\tconst e = getElements(context);\n\tconst pd = getPositionData(context);\n\n\tconst item = pd[userActionData.itemIndex];\n\n\te.$limberGridViewHeightAdjustGuide.classList.remove(\n\t\t\"limber-grid-view-height-adjust-guide-active\"\n\t);\n\n\te.$limberGridViewItems[userActionData.itemIndex].classList.remove(\n\t\t\"limber-grid-view-item-demo\"\n\t);\n\n\te.$pseudoContainerItem.classList.remove(\n\t\t\"limber-grid-view-pseudo-container-item-active\"\n\t);\n\n\te.$pseudoContainerItem.style.width = \"0px\";\n\te.$pseudoContainerItem.style.height = \"0px\";\n\n\te.$pseudoContainerItem.style.transform = `translate(0px, 0px)`;\n\n\te.$body.classList.remove(\"limber-grid-view-body-tag-state-editing\");\n};\n\nexport const loadOnMoveState = (context, userActionData, event, type) => {\n\tconst e = getElements(context);\n\tconst pd = getPositionData(context);\n\n\tconst item = pd[userActionData.itemIndex];\n\n\tif (type === \"move\") {\n\t\te.$limberGridViewMoveGuide.classList.remove(\n\t\t\t\"limber-grid-view-move-guide-active\"\n\t\t);\n\n\t\te.$pseudoContainerItem.classList.remove(\n\t\t\t\"limber-grid-view-pseudo-container-item-move-allow\",\n\t\t\t\"limber-grid-view-pseudo-container-item-move-disallow\"\n\t\t);\n\n\t\tif (event.which === 1) {\n\t\t\te.$pseudoContainerItem.style.transform = `translate(${event.pageX}px, ${event.pageY}px)`;\n\t\t} else if (event.which === 0) {\n\t\t\te.$pseudoContainerItem.style.transform = `translate(${event.touches[0].pageX}px, ${event.touches[0].pageY}px)`;\n\t\t}\n\t} else if (type === \"resize\") {\n\t\te.$limberGridViewPseudoItem.classList.remove(\n\t\t\t\"limber-grid-view-pseudo-item-resize-allow\",\n\t\t\t\"limber-grid-view-pseudo-item-resize-disallow\"\n\t\t);\n\t}\n};\n\nexport const unloadOnMoveState = (context) => {\n\tconst e = getElements(context);\n\n\te.$limberGridViewMoveGuide.classList.remove(\n\t\t\"limber-grid-view-move-guide-active\"\n\t);\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nexport const isPointInsideRect = (rect, point) => {\n\tconst rectCo = getCoordinates(rect);\n\ttry {\n\t\tif (\n\t\t\tpoint.x > rectCo.tl.x &&\n\t\t\tpoint.x < rectCo.tr.x &&\n\t\t\tpoint.y > rectCo.tl.y &&\n\t\t\tpoint.y < rectCo.bl.y\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t} catch (e) {\n\t\treturn null;\n\t}\n};\n\nexport const doesPointTouchRect = (rect, point) => {\n\tconst rectCo = getCoordinates(rect);\n\ttry {\n\t\tif (\n\t\t\tpoint.x >= rectCo.tl.x &&\n\t\t\tpoint.x <= rectCo.tr.x &&\n\t\t\tpoint.y >= rectCo.tl.y &&\n\t\t\tpoint.y <= rectCo.bl.y &&\n\t\t\t!isPointInsideRect(rect, point)\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t} catch (e) {\n\t\treturn null;\n\t}\n};\n\nexport const doRectsOverlap = (rectA, rectB) => {\n\ttry {\n\t\tif (\n\t\t\tisNaN(rectA.x) ||\n\t\t\tisNaN(rectA.y) ||\n\t\t\tisNaN(rectA.width) ||\n\t\t\tisNaN(rectA.height) ||\n\t\t\tisNaN(rectB.x) ||\n\t\t\tisNaN(rectB.y) ||\n\t\t\tisNaN(rectB.width) ||\n\t\t\tisNaN(rectB.height)\n\t\t) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst tlA = { x: rectA.x, y: rectA.y };\n\t\tconst brA = { x: rectA.x + rectA.width, y: rectA.y + rectA.height };\n\t\tconst tlB = { x: rectB.x, y: rectB.y };\n\t\tconst brB = { x: rectB.x + rectB.width, y: rectB.y + rectB.height };\n\n\t\tif (tlA.x >= brB.x || tlB.x >= brA.x) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (tlA.y >= brB.y || tlB.y >= brA.y) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (e) {\n\t\treturn null;\n\t}\n};\n\nexport const doRectsOnlyTouch = (rectA, rectB) => {\n\ttry {\n\t\tif (\n\t\t\tisNaN(rectA.x) ||\n\t\t\tisNaN(rectA.y) ||\n\t\t\tisNaN(rectA.width) ||\n\t\t\tisNaN(rectA.height) ||\n\t\t\tisNaN(rectB.x) ||\n\t\t\tisNaN(rectB.y) ||\n\t\t\tisNaN(rectB.width) ||\n\t\t\tisNaN(rectB.height)\n\t\t) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst tlA = { x: rectA.x, y: rectA.y };\n\t\tconst brA = { x: rectA.x + rectA.width, y: rectA.y + rectA.height };\n\t\tconst tlB = { x: rectB.x, y: rectB.y };\n\t\tconst brB = { x: rectB.x + rectB.width, y: rectB.y + rectB.height };\n\n\t\tif (tlA.x > brB.x || tlB.x > brA.x) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (tlA.y > brB.y || tlB.y > brA.y) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (doRectsOverlap(rectA, rectB) === false) return true;\n\n\t\treturn false;\n\t} catch (e) {\n\t\treturn null;\n\t}\n};\n\nexport const subtractRect = (rectA, rectB, oCoForm) => {\n\t// gives the non overlapping free spaces in rectA\n\tif (!doRectsOverlap(rectA, rectB)) {\n\t\treturn null;\n\t}\n\n\tconst rectACo = getCoordinates(rectA);\n\tconst rectBCo = getCoordinates(rectB);\n\n\t/*\n\t\t____|_______________|___\n\t\t|\t|\t\t\t\t|\t|\n\t____|___|_______________|___|____\n\t\t|\t|\t\t\t\t|\t|\n\t\t|\t|\t\t\t\t|\t|\n\t\t|\t|\t\t\t\t|\t|\n\t\t|\t|\t\t\t\t|\t|\n\t____|___|_______________|___|___\n\t\t|\t|\t\t\t\t|\t|\n\t\t|___|_______________|___|\n\t\t\t|\t\t\t\t|\n\t\t\n\t*/\n\tconst subRects = {\n\t\tsubRectT: {\n\t\t\ttl: rectACo.tl,\n\t\t\ttr: rectACo.tr,\n\t\t\tbr: { x: rectACo.tr.x, y: rectBCo.tr.y },\n\t\t\tbl: { x: rectACo.tl.x, y: rectBCo.tl.y },\n\t\t},\n\t\tsubRectR: {\n\t\t\ttl: { x: rectBCo.tr.x, y: rectACo.tr.y },\n\t\t\ttr: rectACo.tr,\n\t\t\tbr: rectACo.br,\n\t\t\tbl: { x: rectBCo.br.x, y: rectACo.br.y },\n\t\t},\n\t\tsubRectB: {\n\t\t\ttl: { x: rectACo.bl.x, y: rectBCo.bl.y },\n\t\t\ttr: { x: rectACo.br.x, y: rectBCo.br.y },\n\t\t\tbr: rectACo.br,\n\t\t\tbl: rectACo.bl,\n\t\t},\n\t\tsubRectL: {\n\t\t\ttl: rectACo.tl,\n\t\t\ttr: { x: rectBCo.tl.x, y: rectACo.tl.y },\n\t\t\tbr: { x: rectBCo.bl.x, y: rectACo.bl.y },\n\t\t\tbl: rectACo.bl,\n\t\t},\n\t};\n\n\tconst keys = Object.keys(subRects);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tif (!isValidRectCoForm(subRects[keys[i]])) {\n\t\t\tdelete subRects[keys[i]];\n\t\t}\n\t}\n\n\tlet tl, tm, tr, rm, br, bm, bl, lm;\n\tlet tlNtm, tmNtr, trNrm, rmNbr, brNbm, bmNbl, blNlm, lmNtl;\n\tif (subRects.subRectT && subRects.subRectR) {\n\t\ttlNtm = {\n\t\t\ttl: subRects.subRectT.tl,\n\t\t\ttr: subRects.subRectR.tl,\n\t\t\tbr: { x: subRects.subRectR.tl.x, y: subRects.subRectT.bl.y },\n\t\t\tbl: subRects.subRectT.bl,\n\t\t};\n\t\ttr = {\n\t\t\ttl: subRects.subRectR.tl,\n\t\t\ttr: subRects.subRectR.tr,\n\t\t\tbr: subRects.subRectT.br,\n\t\t\tbl: { x: subRects.subRectR.tl.x, y: subRects.subRectT.bl.y },\n\t\t};\n\t\trmNbr = {\n\t\t\ttl: { x: subRects.subRectR.tl.x, y: subRects.subRectT.bl.y },\n\t\t\ttr: subRects.subRectT.br,\n\t\t\tbr: subRects.subRectR.br,\n\t\t\tbl: subRects.subRectR.bl,\n\t\t};\n\t}\n\n\tif (subRects.subRectR && subRects.subRectB) {\n\t\ttrNrm = {\n\t\t\ttl: subRects.subRectR.tl,\n\t\t\ttr: subRects.subRectR.tr,\n\t\t\tbr: subRects.subRectB.tr,\n\t\t\tbl: { x: subRects.subRectR.bl.x, y: subRects.subRectB.tl.y },\n\t\t};\n\t\tbr = {\n\t\t\ttl: { x: subRects.subRectR.bl.x, y: subRects.subRectB.tl.y },\n\t\t\ttr: subRects.subRectB.tr,\n\t\t\tbr: subRects.subRectB.br,\n\t\t\tbl: subRects.subRectR.bl,\n\t\t};\n\t\tbmNbl = {\n\t\t\ttl: subRects.subRectB.tl,\n\t\t\ttr: { x: subRects.subRectR.bl.x, y: subRects.subRectB.tl.y },\n\t\t\tbr: subRects.subRectR.bl,\n\t\t\tbl: subRects.subRectB.bl,\n\t\t};\n\t}\n\n\tif (subRects.subRectB && subRects.subRectL) {\n\t\tlmNtl = {\n\t\t\ttl: subRects.subRectL.tl,\n\t\t\ttr: subRects.subRectL.tr,\n\t\t\tbr: { x: subRects.subRectL.tr.x, y: subRects.subRectB.tr.y },\n\t\t\tbl: subRects.subRectB.tl,\n\t\t};\n\t\tbl = {\n\t\t\ttl: subRects.subRectB.tl,\n\t\t\ttr: { x: subRects.subRectL.tr.x, y: subRects.subRectB.tr.y },\n\t\t\tbr: subRects.subRectL.br,\n\t\t\tbl: subRects.subRectB.bl,\n\t\t};\n\t\tbrNbm = {\n\t\t\ttl: { x: subRects.subRectL.tr.x, y: subRects.subRectB.tr.y },\n\t\t\ttr: subRects.subRectB.tr,\n\t\t\tbr: subRects.subRectB.br,\n\t\t\tbl: subRects.subRectL.br,\n\t\t};\n\t}\n\n\tif (subRects.subRectL && subRects.subRectT) {\n\t\tblNlm = {\n\t\t\ttl: subRects.subRectT.bl,\n\t\t\ttr: { x: subRects.subRectL.tr.x, y: subRects.subRectT.bl.y },\n\t\t\tbr: subRects.subRectL.br,\n\t\t\tbl: subRects.subRectL.bl,\n\t\t};\n\t\ttl = {\n\t\t\ttl: subRects.subRectT.tl,\n\t\t\ttr: subRects.subRectL.tr,\n\t\t\tbr: { x: subRects.subRectL.tr.x, y: subRects.subRectT.bl.y },\n\t\t\tbl: subRects.subRectT.bl,\n\t\t};\n\t\ttmNtr = {\n\t\t\ttl: subRects.subRectL.tr,\n\t\t\ttr: subRects.subRectT.tr,\n\t\t\tbr: subRects.subRectT.br,\n\t\t\tbl: { x: subRects.subRectL.tr.x, y: subRects.subRectT.bl.y },\n\t\t};\n\t}\n\n\ttm =\n\t\thorizontalSubtract(tlNtm, tl) ||\n\t\thorizontalSubtract(tmNtr, tr) ||\n\t\ttlNtm ||\n\t\ttmNtr;\n\trm =\n\t\tverticalSubtract(trNrm, tr) ||\n\t\tverticalSubtract(rmNbr, br) ||\n\t\ttrNrm ||\n\t\trmNbr;\n\tbm =\n\t\thorizontalSubtract(brNbm, br) ||\n\t\thorizontalSubtract(bmNbl, bl) ||\n\t\tbrNbm ||\n\t\tbmNbl;\n\tlm =\n\t\tverticalSubtract(blNlm, bl) ||\n\t\tverticalSubtract(lmNtl, tl) ||\n\t\tblNlm ||\n\t\tlmNtl;\n\n\tlet rects;\n\tif (oCoForm) {\n\t\trects = [tl, tm, tr, rm, br, bm, bl, lm];\n\t} else {\n\t\trects = [\n\t\t\tgetRectObjectFromCo(tl),\n\t\t\tgetRectObjectFromCo(tm),\n\t\t\tgetRectObjectFromCo(tr),\n\t\t\tgetRectObjectFromCo(rm),\n\t\t\tgetRectObjectFromCo(br),\n\t\t\tgetRectObjectFromCo(bm),\n\t\t\tgetRectObjectFromCo(bl),\n\t\t\tgetRectObjectFromCo(lm),\n\t\t];\n\t}\n\n\trects = rects.filter((o) => o);\n\n\tif (rects.length === 0) {\n\t\trects = Object.keys(subRects).map((o) => {\n\t\t\tif (oCoForm) {\n\t\t\t\treturn subRects[o];\n\t\t\t} else {\n\t\t\t\treturn getRectObjectFromCo(subRects[o]);\n\t\t\t}\n\t\t});\n\t}\n\n\treturn rects;\n};\n\nconst horizontalSubtract = (rectA, rectB) => {\n\t// rectA and rectB needs to be in Coordinate form\n\tif (!rectA && !rectB) return null;\n\tif (!doRectsOverlap(getRectObjectFromCo(rectA), getRectObjectFromCo(rectB)))\n\t\treturn null;\n\n\t/*\n\t\tCase I\n\t\t____________________\n\t\t| ____ \t\t\t\t|\n\t\t||____|\t\t\t\t|\n\t\t|___________________|\n\t\n\t\tCase II\n\t\t____________________\n\t\t| \t \t\t  _____\t|\n\t\t|\t\t\t  |____||\n\t\t|___________________|\n\t*/\n\n\tlet result = null;\n\tif (\n\t\trectA.tl.x === rectB.tl.x ||\n\t\tMath.abs(rectA.tl.x - rectB.tl.x) < Math.abs(rectA.tr.x - rectB.tr.x)\n\t) {\n\t\t// Case I\n\t\tresult = { tl: rectB.tr, tr: rectA.tr, br: rectA.br, bl: rectB.br };\n\t} else if (\n\t\trectA.tr === rectB.tr ||\n\t\tMath.abs(rectB.tl.x - rectA.tl.x) > Math.abs(rectB.tr.x - rectA.tr.x)\n\t) {\n\t\t// Case II\n\t\tresult = { tl: rectA.tl, tr: rectB.tl, br: rectB.bl, bl: rectA.bl };\n\t}\n\n\treturn result;\n};\n\nconst verticalSubtract = (rectA, rectB) => {\n\t// rectA and rectB needs to be in Coordinate form\n\tif (!rectA && !rectB) return null;\n\tif (!doRectsOverlap(getRectObjectFromCo(rectA), getRectObjectFromCo(rectB)))\n\t\treturn null;\n\n\t/*\n\t\tCase I \t\t\t\tCase II\n\t\t_______ \t\t\t________\n\t\t| ____ | \t\t\t|\t\t|\n\t\t| |   || \t\t\t|\t\t|\n\t\t| |___|| \t\t\t|\t\t|\n\t\t|  \t   | \t\t\t|  ____ |\n\t\t|      | \t\t\t|  |   ||\t\n\t\t|      | \t\t\t|  |___||\t\n\t\t|______| \t\t\t|_______|\n\t*/\n\n\tlet result = null;\n\tif (\n\t\trectA.tl.y === rectB.tl.y ||\n\t\tMath.abs(rectA.tl.y - rectB.tl.y) < Math.abs(rectA.bl.y - rectB.bl.y)\n\t) {\n\t\t// Case I\n\t\tresult = { tl: rectB.bl, tr: rectB.br, br: rectA.br, bl: rectA.bl };\n\t} else if (\n\t\trectA.bl.y === rectB.bl.y ||\n\t\tMath.abs(rectB.tl.y - rectA.tl.y) > Math.abs(rectB.bl.y - rectA.bl.y)\n\t) {\n\t\t// Case II\n\t\tresult = { tl: rectA.tl, tr: rectA.tr, br: rectB.tr, bl: rectB.tl };\n\t}\n\n\treturn result;\n};\n\nexport const isValidRectCoForm = function (rect) {\n\ttry {\n\t\tlet top, right, bottom, left;\n\t\ttop = rect.tr.x - rect.tl.x;\n\t\tright = rect.br.y - rect.tr.y;\n\t\tbottom = rect.br.x - rect.bl.x;\n\t\tleft = rect.bl.y - rect.tl.y;\n\n\t\tif (top <= 0 || right <= 0 || bottom <= 0 || left <= 0) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t} catch (e) {\n\t\treturn null;\n\t}\n};\n\nexport const getCoordinates = function (rect) {\n\tconst tl = { x: rect.x, y: rect.y };\n\tconst tr = { x: rect.x + rect.width, y: rect.y };\n\tconst br = { x: rect.x + rect.width, y: rect.y + rect.height };\n\tconst bl = { x: rect.x, y: rect.y + rect.height };\n\n\treturn { tl, tr, br, bl };\n};\n\nexport const getRectObjectFromCo = function (rect) {\n\tif (!isValidRectCoForm(rect)) return null;\n\treturn {\n\t\tx: rect.tl.x,\n\t\ty: rect.tl.y,\n\t\twidth: rect.tr.x - rect.tl.x,\n\t\theight: rect.bl.y - rect.tl.y,\n\t};\n};\n\nexport const areRectsAdjacent = (rectA, rectB) => {\n\tconst rectACo = getCoordinates(rectA);\n\tconst rectBCo = getCoordinates(rectB);\n\n\t// if (!doRectsOnlyTouch(rectA, rectB)) {\n\t// \treturn false;\n\t// }\n\n\tif (\n\t\t!(\n\t\t\tMath.abs(rectACo.tl.x - rectBCo.tr.x) < 1 ||\n\t\t\tMath.abs(rectBCo.tl.x - rectACo.tr.x) < 1 ||\n\t\t\tMath.abs(rectACo.tl.y - rectBCo.bl.y) < 1 ||\n\t\t\tMath.abs(rectBCo.tl.y - rectACo.bl.y) < 1\n\t\t)\n\t) {\n\t\treturn false;\n\t}\n\n\t// below filters point of intersection touch\n\tif (\n\t\t(rectACo.tl.y >= rectBCo.tl.y && rectACo.tl.y < rectBCo.bl.y) ||\n\t\t(rectBCo.tl.y >= rectACo.tl.y && rectBCo.tl.y < rectACo.bl.y) ||\n\t\t(rectACo.tl.x >= rectBCo.tl.x && rectACo.tl.x < rectBCo.tr.x) ||\n\t\t(rectBCo.tl.x >= rectACo.tl.x && rectBCo.tl.x < rectACo.tr.x) ||\n\t\t//\n\t\t(rectACo.bl.y <= rectBCo.bl.y && rectACo.bl.y > rectBCo.tl.y) ||\n\t\t(rectBCo.bl.y <= rectACo.bl.y && rectBCo.bl.y > rectACo.tl.y) ||\n\t\t(rectACo.tr.x <= rectBCo.tr.x && rectACo.tr.x > rectBCo.tl.x) ||\n\t\t(rectBCo.tr.x <= rectACo.tr.x && rectBCo.tr.x > rectACo.tl.x)\n\t) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\nexport const mergeRects = (rectA, rectB, oCoForm) => {\n\t// if (doRectsOverlap(rectA, rectB)) {\n\t// \treturn false;\n\t// }\n\tconst rectACo = getCoordinates(rectA);\n\tconst rectBCo = getCoordinates(rectB);\n\n\tlet result;\n\n\tconst merge = (rectACo, rectBCo) => {\n\t\tlet res;\n\t\t// check tl\n\t\tif (\n\t\t\trectACo.tl.x >= rectBCo.bl.x &&\n\t\t\trectACo.tl.x < rectBCo.br.x &&\n\t\t\trectACo.tl.y >= rectBCo.bl.y\n\t\t) {\n\t\t\tlet x = rectACo.tr.x < rectBCo.tr.x ? rectACo.tr.x : rectBCo.tr.x;\n\t\t\tres = {\n\t\t\t\ttl: { x: rectACo.tl.x, y: rectBCo.tl.y },\n\t\t\t\ttr: { x: x, y: rectBCo.tl.y },\n\t\t\t\tbr: { x: x, y: rectACo.bl.y },\n\t\t\t\tbl: { x: rectACo.bl.x, y: rectACo.bl.y },\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\trectACo.tl.y >= rectBCo.tr.y &&\n\t\t\trectACo.tl.y < rectBCo.br.y &&\n\t\t\trectACo.tl.x >= rectBCo.tr.x\n\t\t) {\n\t\t\tlet y = rectACo.br.y < rectBCo.br.y ? rectACo.br.y : rectBCo.br.y;\n\t\t\tres = {\n\t\t\t\ttl: { x: rectBCo.tl.x, y: rectACo.tl.y },\n\t\t\t\ttr: { x: rectACo.tr.x, y: rectACo.tr.y },\n\t\t\t\tbr: { x: rectACo.br.x, y: y },\n\t\t\t\tbl: { x: rectBCo.bl.x, y: y },\n\t\t\t};\n\t\t}\n\n\t\t// check tr\n\t\tif (\n\t\t\trectACo.tr.x <= rectBCo.br.x &&\n\t\t\trectACo.tr.x > rectBCo.bl.x &&\n\t\t\trectACo.tr.y >= rectBCo.bl.y\n\t\t) {\n\t\t\tlet x = rectACo.tl.x > rectBCo.tl.x ? rectACo.tl.x : rectBCo.tl.x;\n\t\t\tres = {\n\t\t\t\ttl: { x: x, y: rectBCo.tl.y },\n\t\t\t\ttr: { x: rectACo.tr.x, y: rectBCo.tr.y },\n\t\t\t\tbr: { x: rectACo.br.x, y: rectACo.br.y },\n\t\t\t\tbl: { x: x, y: rectACo.bl.y },\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\trectACo.tr.y >= rectBCo.tl.y &&\n\t\t\trectACo.tr.y < rectBCo.bl.y &&\n\t\t\trectACo.tr.x <= rectBCo.tl.x\n\t\t) {\n\t\t\tlet y = rectACo.bl.y < rectBCo.bl.y ? rectACo.bl.y : rectBCo.bl.y;\n\t\t\tres = {\n\t\t\t\ttl: { x: rectACo.tl.x, y: rectACo.tl.y },\n\t\t\t\ttr: { x: rectBCo.tr.x, y: rectACo.tl.y },\n\t\t\t\tbr: { x: rectBCo.br.x, y: y },\n\t\t\t\tbl: { x: rectACo.bl.x, y: y },\n\t\t\t};\n\t\t}\n\n\t\t// check br\n\t\tif (\n\t\t\trectACo.br.x <= rectBCo.tr.x &&\n\t\t\trectACo.br.x > rectBCo.tl.x &&\n\t\t\trectACo.br.y <= rectBCo.tl.y\n\t\t) {\n\t\t\tlet x = rectACo.tl.x > rectBCo.tl.x ? rectACo.tl.x : rectBCo.tl.x;\n\t\t\tres = {\n\t\t\t\ttl: { x: x, y: rectACo.tl.y },\n\t\t\t\ttr: { x: rectACo.tr.x, y: rectACo.tr.y },\n\t\t\t\tbr: { x: rectACo.tr.x, y: rectBCo.br.y },\n\t\t\t\tbl: { x: x, y: rectBCo.bl.y },\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\trectACo.br.y <= rectBCo.bl.y &&\n\t\t\trectACo.br.y > rectBCo.tl.y &&\n\t\t\trectACo.br.x <= rectBCo.tl.x\n\t\t) {\n\t\t\tlet y = rectACo.tl.y > rectBCo.tl.y ? rectACo.tl.y : rectBCo.tl.y;\n\t\t\tres = {\n\t\t\t\ttl: { x: rectACo.tl.x, y: y },\n\t\t\t\ttr: { x: rectBCo.tr.x, y: y },\n\t\t\t\tbr: { x: rectBCo.br.x, y: rectACo.br.y },\n\t\t\t\tbl: { x: rectACo.bl.x, y: rectACo.bl.y },\n\t\t\t};\n\t\t}\n\n\t\t// check bl\n\t\tif (\n\t\t\trectACo.bl.x >= rectBCo.tl.x &&\n\t\t\trectACo.bl.x < rectBCo.tr.x &&\n\t\t\trectACo.bl.y <= rectBCo.tl.y\n\t\t) {\n\t\t\tlet x = rectACo.tr.x < rectBCo.tr.x ? rectACo.tr.x : rectBCo.tr.x;\n\t\t\tres = {\n\t\t\t\ttl: { x: rectACo.tl.x, y: rectACo.tl.y },\n\t\t\t\ttr: { x: x, y: rectACo.tr.y },\n\t\t\t\tbr: { x: x, y: rectBCo.br.y },\n\t\t\t\tbl: { x: rectACo.bl.x, y: rectBCo.bl.y },\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\trectACo.bl.y <= rectBCo.br.y &&\n\t\t\trectACo.bl.y > rectBCo.tr.y &&\n\t\t\trectACo.bl.x >= rectBCo.tr.x\n\t\t) {\n\t\t\tlet y = rectACo.tl.y > rectBCo.tl.y ? rectACo.tl.y : rectBCo.tl.y;\n\t\t\tres = {\n\t\t\t\ttl: { x: rectBCo.tl.x, y: y },\n\t\t\t\ttr: { x: rectACo.tr.x, y: y },\n\t\t\t\tbr: { x: rectACo.br.x, y: rectACo.br.y },\n\t\t\t\tbl: { x: rectBCo.bl.x, y: rectACo.bl.y },\n\t\t\t};\n\t\t}\n\n\t\treturn res;\n\t};\n\n\tconst mergeOverlapping = () => {\n\t\tconst diff = subtractRect(rectA, rectB, true);\n\n\t\tconst arr = new Array(diff?.length || 0);\n\t\tlet m;\n\t\tlet count = 0;\n\t\tconst len = arr.length;\n\n\t\t// for (const d of diff) {\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tm = merge(diff[i], rectBCo);\n\t\t\tif (m && !isRectInside(rectA, getRectObjectFromCo(m))) {\n\t\t\t\tarr[count++] = m;\n\t\t\t}\n\t\t}\n\n\t\tconst res = new Array(count);\n\t\tfor (let i = 0; i < count; i++) {\n\t\t\tres[i] = arr[i];\n\t\t}\n\n\t\treturn res.length ? res : null;\n\t};\n\n\tresult = merge(rectACo, rectBCo);\n\tif (!result) result = merge(rectBCo, rectACo);\n\tif (result) result = [result];\n\tif (!result && !isRectInside(rectA, rectB) && !isRectInside(rectB, rectA)) {\n\t\tresult = mergeOverlapping();\n\t}\n\n\tif (result) {\n\t\tif (oCoForm) {\n\t\t\treturn result;\n\t\t} else {\n\t\t\treturn result.map((o) => getRectObjectFromCo(o));\n\t\t}\n\t}\n\n\treturn false;\n};\n\nexport const isRectInside = (rectA, rectB) => {\n\t// is rectB inside rectA\n\tconst rectACo = getCoordinates(rectA);\n\tconst rectBCo = getCoordinates(rectB);\n\n\tif (\n\t\trectACo.tl.x <= rectBCo.tl.x &&\n\t\trectACo.tr.x >= rectBCo.tr.x &&\n\t\trectACo.tl.y <= rectBCo.tl.y &&\n\t\trectACo.bl.y >= rectBCo.bl.y\n\t) {\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n\nexport const areRectsOnSameYAxisExPath = (rectA, rectB) => {\n\t// ExPath: Exclusive Path (in Exclusive and Inclusive)\n\tif (!(rectA?.tl?.x && rectA?.tr?.x && rectB?.tl?.x && rectA?.tr?.x)) {\n\t\treturn null;\n\t}\n\n\tif (rectA.tl.x >= rectB.tr.x || rectB.tl.x >= rectA.tr.x) {\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nexport const areRectsIdentical = (rectA, rectB) => {\n\tif (\n\t\trectA.tl.x === rectB.tl.x &&\n\t\trectA.tl.y === rectB.tl.y &&\n\t\trectA.tr.x === rectB.tr.x &&\n\t\trectA.tr.y === rectB.tr.y &&\n\t\trectA.br.x === rectB.br.x &&\n\t\trectA.br.y === rectB.br.y &&\n\t\trectA.bl.x === rectB.bl.x &&\n\t\trectA.bl.y === rectB.bl.y\n\t) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport getElements from \"../../store/variables/elements\";\nimport { getPositionData } from \"../../store/variables/essentials\";\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport getPublicConstants from \"../../store/constants/publicConstants\";\n\nexport const loadInitState = (context) => {\n\tconst e = getElements(context);\n\tconst publicConstants = getPublicConstants(context);\n\n\te.$body.classList.add(\n\t\t\"limber-grid-view-body-tag-state-editing\",\n\t\t\"limber-grid-view-body-tag-state-editing-adding-cutting\"\n\t);\n\n\tconst len = e.$limberGridViewItems.length;\n\tfor (let i = 0; i < len; i++) {\n\t\te.$limberGridViewItems[i].classList.add(\n\t\t\t\"limber-grid-view-item-resizing-state\"\n\t\t);\n\t}\n\n\tfor (let i = 0; i < len; i++) {\n\t\te.$limberGridViewPseudoItem.classList.add(\n\t\t\t\"limber-grid-view-pseudo-item-resizing-state\"\n\t\t);\n\t}\n\n\t// e.$limberGridViewAddItemGuide[0].style.height = 1 + \"px\";\n\t// e.$limberGridViewAddItemGuide[0].style.width = 1 + \"px\";\n\t// e.$limberGridViewAddItemGuide[0].style.transform =\n\t// \t\"translate(\" + x + \"px, \" + y + \"px)\";\n\n\tif (publicConstants.DESK_INTERACTION_MODE === \"ADD\") {\n\t\te.$limberGridViewAddCutGuide.classList.add(\n\t\t\t\"limber-grid-view-add-cut-guide-active\"\n\t\t);\n\t} else if (publicConstants.DESK_INTERACTION_MODE === \"CUTSPACE\") {\n\t\te.$limberGridViewAddCutGuide.classList.add(\n\t\t\t\"limber-grid-view-add-cut-guide-active\",\n\t\t\t\"limber-grid-view-add-cut-guide-cut-mode\"\n\t\t);\n\t}\n\n\te.$limberGridViewHeightAdjustGuide.style.height = 0 + \"px\";\n\te.$limberGridViewHeightAdjustGuide.classList.add(\n\t\t\"limber-grid-view-height-adjust-guide-active\"\n\t);\n};\n\nexport const unloadInitState = (context) => {\n\tconst e = getElements(context);\n\n\te.$body.classList.remove(\n\t\t\"limber-grid-view-body-tag-state-editing\",\n\t\t\"limber-grid-view-body-tag-state-editing-adding-cutting\"\n\t);\n\n\tconst len = e.$limberGridViewItems.length;\n\tfor (var i = 0; i < len; i++) {\n\t\te.$limberGridViewItems[i].classList.remove(\n\t\t\t\"limber-grid-view-item-resizing-state\"\n\t\t);\n\t\te.$limberGridViewPseudoItem.classList.remove(\n\t\t\t\"limber-grid-view-pseudo-item-resizing-state\"\n\t\t);\n\t}\n\n\te.$limberGridViewAddCutGuide.classList.remove(\n\t\t\"limber-grid-view-add-cut-guide-active\",\n\t\t\"limber-grid-view-add-cut-guide-cut-mode\",\n\t\t\"limber-grid-view-add-cut-guide-add-allow\",\n\t\t\"limber-grid-view-add-cut-guide-add-disallow\"\n\t);\n\n\te.$limberGridViewHeightAdjustGuide.style.height = 0 + \"px\";\n\te.$limberGridViewHeightAdjustGuide.classList.remove(\n\t\t\"limber-grid-view-height-adjust-guide-active\"\n\t);\n\n\te.$limberGridViewTouchHoldGuide.classList.remove(\n\t\t\"limber-grid-view-touch-hold-guide-active\"\n\t);\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport getElements from \"../../store/variables/elements\";\nimport {\n\tgetPositionData,\n\tgetModifiedPositionData,\n} from \"../../store/variables/essentials\";\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport getPublicConstants from \"../../store/constants/publicConstants\";\nimport {\n\tdoRectsOverlap,\n\tisRectInside,\n\tgetRectObjectFromCo,\n\tdoRectsOnlyTouch,\n\tisPointInsideRect,\n\tdoesPointTouchRect,\n} from \"../rect/rectUtils\";\nimport { filter } from \"../utils/utils\";\n\nexport const isFlippingPosPossible = (context) => {\n\tconst pd = getPositionData(context);\n\n\tif (affectedItems.length === 2) {\n\t\tconst diff = Math.abs(pd[affectedItems[0]].y - pd[affectedItems[1]].y);\n\t\tif (diff > privateConstants.HEIGHT) {\n\t\t\t// to check if both lie on th visible screen or viewport\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n};\n\nexport const getMinMaxXY = (\n\tcontext,\n\taffectedItems,\n\tresizedRightX,\n\tresizedBottomY,\n\ttoY,\n\tmovedBottomY\n) => {\n\tconst pd = getPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tlet minY = Number.MAX_SAFE_INTEGER;\n\tlet maxY = 0;\n\tlet minX = Number.MAX_SAFE_INTEGER;\n\tlet maxX = 0;\n\tconst len = affectedItems.length;\n\tfor (let i = 0; i < len; i++) {\n\t\tif (pd[affectedItems[i]].y < minY) {\n\t\t\tminY = pd[affectedItems[i]].y;\n\t\t}\n\t\tif (pd[affectedItems[i]].y + pd[affectedItems[i]].height > maxY) {\n\t\t\tmaxY = pd[affectedItems[i]].y + pd[affectedItems[i]].height;\n\t\t}\n\n\t\tif (pd[affectedItems[i]].x < minX) {\n\t\t\tminX = pd[affectedItems[i]].x;\n\t\t}\n\n\t\tif (pd[affectedItems[i]].x + pd[affectedItems[i]].width > maxX) {\n\t\t\tmaxX = pd[affectedItems[i]].x + pd[affectedItems[i]].width;\n\t\t}\n\t}\n\n\tif (resizedBottomY > maxY) maxY = resizedBottomY;\n\n\tif (resizedRightX > maxX) maxX = resizedRightX;\n\n\tif (toY < minY) minY = toY;\n\n\tif (movedBottomY > maxY) maxY = movedBottomY;\n\n\treturn {\n\t\tminX: minX - privateConstants.MARGIN,\n\t\tmaxX: maxX + privateConstants.MARGIN,\n\t\tminY: minY - privateConstants.MARGIN,\n\t\tmaxY: maxY + privateConstants.MARGIN,\n\t};\n};\n\nexport const filterToArrange = (context, toArrangeItems, arranged) => {\n\tconst len = toArrangeItems.length;\n\tconst result = new Array(len);\n\tfor (let i = 0; i < len; i++) {\n\t\tif (!arranged[toArrangeItems[i]]) {\n\t\t\tresult[i] = toArrangeItems[i];\n\t\t}\n\t}\n\treturn filter(result);\n};\n\nexport const getBottomMax = (context, minX, maxX) => {\n\tconst pd = getPositionData(context);\n\tconst mpd = getModifiedPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tlet max = 0;\n\tlet item, mItem;\n\tconst len = pd.length;\n\n\tfor (let i = 0; i < len; i++) {\n\t\titem = getItemDimenWithMargin(privateConstants.MARGIN, pd[i]);\n\t\tmItem = getItemDimenWithMargin(privateConstants.MARGIN, mpd[i]);\n\t\tif (\n\t\t\tpd[i].y + pd[i].height > max &&\n\t\t\titem.x < maxX &&\n\t\t\titem.x + item.width > minX\n\t\t) {\n\t\t\tmax = pd[i].y + pd[i].height;\n\t\t}\n\n\t\tif (\n\t\t\tmpd[i].y + mpd[i].height > max &&\n\t\t\tmItem.x < maxX &&\n\t\t\tmItem.x + mItem.width > minX\n\t\t) {\n\t\t\tmax = mpd[i].y + mpd[i].height;\n\t\t}\n\t}\n\n\treturn max;\n};\n\nexport const getTopBottomWS = (context, workSpaceRectCo, minX, maxX) => {\n\tlet topWorkSpaceCo, bottomWorkSpaceCo;\n\tif (workSpaceRectCo.tl.y > 0) {\n\t\ttopWorkSpaceCo = {\n\t\t\ttl: { x: minX, y: 0 },\n\t\t\ttr: { x: maxX, y: 0 },\n\t\t\tbr: { x: maxX, y: workSpaceRectCo.tr.y },\n\t\t\tbl: { x: minX, y: workSpaceRectCo.tl.y },\n\t\t};\n\t}\n\n\tconst bottomMax = getBottomMax(context, minX, maxX);\n\n\tif (bottomMax > workSpaceRectCo.bl.y) {\n\t\tbottomWorkSpaceCo = {\n\t\t\ttl: { x: minX, y: workSpaceRectCo.bl.y },\n\t\t\ttr: { x: maxX, y: workSpaceRectCo.bl.y },\n\t\t\tbr: { x: maxX, y: bottomMax },\n\t\t\tbl: { x: minX, y: bottomMax },\n\t\t};\n\t}\n\n\treturn { topWorkSpaceCo, bottomWorkSpaceCo };\n};\n\nexport const getItemsInWorkSpace = (\n\tcontext,\n\tworkSpaceRect,\n\tgetIndices = false\n) => {\n\tconst mpd = getModifiedPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tconst len = mpd.length;\n\tconst itemsInWorkSpace = new Array(len);\n\tlet count = 0;\n\tfor (let i = 0; i < len; i++) {\n\t\tif (\n\t\t\tdoRectsOverlap(\n\t\t\t\tworkSpaceRect,\n\t\t\t\tgetItemDimenWithMargin(privateConstants.MARGIN, mpd[i])\n\t\t\t)\n\t\t) {\n\t\t\tif (!getIndices) {\n\t\t\t\titemsInWorkSpace[count++] = mpd[i];\n\t\t\t} else {\n\t\t\t\titemsInWorkSpace[count++] = i;\n\t\t\t}\n\t\t}\n\t}\n\n\tconst res = new Array(count);\n\tfor (let i = 0; i < count; i++) {\n\t\tres[i] = itemsInWorkSpace[i];\n\t}\n\n\treturn res;\n};\n\nexport const getItemsBelowBottomWorkSpace = (\n\tcontext,\n\tworkSpaceRect,\n\tgetIndices = false\n) => {\n\tconst mpd = getModifiedPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tif (!workSpaceRect) {\n\t\treturn [];\n\t}\n\n\tconst len = mpd.length;\n\tconst items = new Array(len);\n\tlet count = 0;\n\n\tfor (let i = 0; i < len; i++) {\n\t\tif (\n\t\t\tworkSpaceRect.bl.y <=\n\t\t\tgetItemDimenWithMargin(privateConstants.MARGIN, mpd[i]).y\n\t\t) {\n\t\t\tif (!getIndices) {\n\t\t\t\titems[count++] = mpd[i];\n\t\t\t} else {\n\t\t\t\titems[count++] = i;\n\t\t\t}\n\t\t}\n\t}\n\n\tconst res = new Array(count);\n\tfor (let i = 0; i < count; i++) {\n\t\tres[i] = items[i];\n\t}\n\n\treturn res;\n};\n\nexport const getResizeWSItemsDetail = (\n\tcontext,\n\twsCo,\n\ttopWsCo,\n\tbottomWsCo,\n\tcWsCo,\n\tarranged,\n\titemsToArrange,\n\tgetIndices = false\n) => {\n\tconst mpd = getModifiedPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tconst wsPlusTopWsCo = {\n\t\ttl: { ...(topWsCo?.tl ? topWsCo.tl : wsCo.tl) },\n\t\ttr: { ...(topWsCo?.tr ? topWsCo.tr : wsCo.tr) },\n\t\tbr: { ...wsCo.br },\n\t\tbl: { ...wsCo.bl },\n\t};\n\tconst wsPlusTopWs = getRectObjectFromCo(wsPlusTopWsCo);\n\tconst bottomWs = getRectObjectFromCo(bottomWsCo);\n\tconst cWs = getRectObjectFromCo(cWsCo);\n\n\t// const itemsToArrangeMap = {};\n\t// const iToALen = itemsToArrange.length;\n\t// for (let i = 0; i < iToALen; i++) {\n\t// \titemsToArrangeMap[itemsToArrange[i]] = true;\n\t// }\n\n\tlet count = 0;\n\tconst iToALen = itemsToArrange.length;\n\tconst _itemsToArrange = new Array(iToALen);\n\tfor (let i = 0; i < iToALen; i++) {\n\t\tif (!arranged[itemsToArrange[i]]) {\n\t\t\t_itemsToArrange[count++] = itemsToArrange[i];\n\t\t}\n\t}\n\tconst filteredItemsToArrange = filter(_itemsToArrange);\n\n\tconst len = mpd.length;\n\tconst updatedItemsToArrange = new Array(len);\n\tlet uCount = 0;\n\tconst itemsInWorkSpace = new Array(len);\n\tlet iCount = 0;\n\n\tfor (let i = 0; i < len; i++) {\n\t\tconst _item = getItemDimenWithMargin(privateConstants.MARGIN, mpd[i]);\n\t\tif (doRectsOverlap(cWs, _item)) {\n\t\t\tif (arranged[i]) {\n\t\t\t\tif (!getIndices) {\n\t\t\t\t\titemsInWorkSpace[iCount++] = mpd[i];\n\t\t\t\t} else {\n\t\t\t\t\titemsInWorkSpace[iCount++] = i;\n\t\t\t\t}\n\t\t\t} else if (doRectsOverlap(wsPlusTopWs, _item)) {\n\t\t\t\tif (!getIndices) {\n\t\t\t\t\titemsInWorkSpace[iCount++] = mpd[i];\n\t\t\t\t} else {\n\t\t\t\t\titemsInWorkSpace[iCount++] = i;\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\tdoRectsOverlap(bottomWs, _item) &&\n\t\t\t\t!isRectInside(bottomWs, _item)\n\t\t\t) {\n\t\t\t\tif (!getIndices) {\n\t\t\t\t\titemsInWorkSpace[iCount++] = mpd[i];\n\t\t\t\t} else {\n\t\t\t\t\titemsInWorkSpace[iCount++] = i;\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\tdoRectsOverlap(bottomWs, _item) &&\n\t\t\t\tisRectInside(bottomWs, _item) &&\n\t\t\t\t!arranged[i]\n\t\t\t) {\n\t\t\t\tupdatedItemsToArrange[uCount++] = i;\n\t\t\t\tmpd[i].x = undefined;\n\t\t\t\tmpd[i].y = undefined;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tupdatedItemsToArrange: filter([\n\t\t\t...filteredItemsToArrange,\n\t\t\t...updatedItemsToArrange,\n\t\t]),\n\t\titemsInWorkSpace: filter(itemsInWorkSpace),\n\t};\n};\n\nexport const getItemDimenWithMargin = (MARGIN, item) => {\n\tconst _item = { ...item };\n\t_item.x -= MARGIN;\n\t_item.y -= MARGIN;\n\t_item.width += MARGIN * 2;\n\t_item.height += MARGIN * 2;\n\n\treturn _item;\n};\n\nexport const cBSTRectComparator = function (item) {\n\treturn (node, v, d) => {\n\t\tif (node.d.rect.width >= item.width && node.d.rect.height >= item.height) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n};\n\nexport const cBSTLComp = function (v) {\n\treturn (node) => {\n\t\tif (node.v > v) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n};\n\nexport const cBSTRComp = function () {\n\treturn true;\n};\n\nexport const getScore = (rect, maxHWSum) => {\n\treturn (rect.width + rect.height) / maxHWSum;\n};\n\n// export const assignScoreToFreeRects = (freeRects) => {\n// \tconst len = freeRects.length;\n\n// \tlet maxHWSum = 0;\n// \tlet sum = 0;\n// \tfor (let i = 0; i < len; i++) {\n// \t\tsum = freeRects[i].d.rect.width + freeRects[i].d.rect.height;\n// \t\tif (sum > maxHWSum) {\n// \t\t\tmaxHWSum = sum;\n// \t\t}\n// \t}\n\n// \tlet maxScore = 0;\n// \tfor (let i = 0; i < len; i++) {\n// \t\tfreeRects[i].d.score = getScore(freeRects[i].d.rect, maxHWSum);\n// \t\tif (freeRects[i].d.score > maxScore) {\n// \t\t\tmaxScore = freeRects[i].d.score;\n// \t\t}\n// \t}\n// \treturn { maxScore, maxHWSum };\n// };\n\nexport const getItemsToArrangeScore = (context, affectedItems) => {\n\tconst mpd = getModifiedPositionData(context);\n\n\tconst len = affectedItems.length;\n\tlet item;\n\tlet maxHeight = 0;\n\tlet maxWidth = 0;\n\tlet maxHWSum = 0;\n\n\tlet score;\n\n\tfor (let i = 0; i < len; i++) {\n\t\titem = mpd[affectedItems[i]];\n\n\t\tif (item.width > maxWidth) {\n\t\t\tmaxWidth = item.width;\n\t\t}\n\n\t\tif (item.height > maxHeight) {\n\t\t\tmaxHeight = item.height;\n\t\t}\n\t}\n\n\tmaxHWSum = maxWidth + maxHeight;\n\n\tconst scoreArr = new Array(len);\n\tfor (let i = 0; i < len; i++) {\n\t\titem = mpd[affectedItems[i]];\n\n\t\tscore = getScore(item, maxHWSum);\n\t\tscoreArr[i] = { score, d: affectedItems[i] };\n\t}\n\n\tscoreArr.sort((a, b) => a.score - b.score);\n\n\treturn scoreArr;\n};\n\nexport const getPerfectMatch = (arr, hwSum) => {\n\tconst len = arr.length;\n\n\tfor (let i = 0; i < len; i++) {\n\t\tarr[i].d.score = getScore(arr[i].d.rect, hwSum);\n\t}\n\n\tarr.sort((a, b) => a.d.score - b.d.score);\n\n\treturn arr[0];\n};\n\nexport const shiftItemsDown = (context, items, height) => {\n\tconst mpd = getModifiedPositionData(context);\n\n\tconst len = items.length;\n\n\tfor (let i = 0; i < len; i++) {\n\t\tmpd[items[i]].y += height;\n\t}\n};\n\nexport const shiftItemsUp = function (context, y, shiftHeight) {\n\tconst pd = getPositionData(context);\n\tconst e = getElements(context);\n\n\tconst len = pd.length;\n\tfor (let i = 0; i < len; i++) {\n\t\tif (pd[i].y >= y) {\n\t\t\tpd[i].y -= shiftHeight;\n\t\t\te.$limberGridViewItems[i].style.transform =\n\t\t\t\t\"translate(\" + pd[i].x + \"px, \" + pd[i].y + \"px)\";\n\t\t}\n\t}\n};\n\nexport const addItemAllowCheck = function (context, x, y, width, height) {\n\tconst privateConstants = getPrivateConstants(context);\n\tconst publicConstants = getPublicConstants(context);\n\tconst pd = getPositionData(context);\n\n\tvar tempPlane = {\n\t\tx: x - privateConstants.MARGIN,\n\t\ty: y - privateConstants.MARGIN,\n\t\twidth: width + publicConstants.MARGIN * 2,\n\t\theight: height + publicConstants.MARGIN * 2,\n\t};\n\n\tif (x < 0 || y < 0) {\n\t\treturn false;\n\t}\n\n\tif (typeof width !== \"number\" || typeof height !== \"number\") {\n\t\treturn false;\n\t}\n\n\tif (x + width > privateConstants.WIDTH) {\n\t\treturn false;\n\t}\n\n\tif (width < 50 || height < 50) {\n\t\treturn false;\n\t}\n\n\tlet isInside;\n\tconst len = pd.length;\n\tfor (let i = 0; i < len; i++) {\n\t\tisInside =\n\t\t\tdoRectsOverlap(\n\t\t\t\tgetItemDimenWithMargin(privateConstants.MARGIN, pd[i]),\n\t\t\t\ttempPlane\n\t\t\t) ||\n\t\t\tdoRectsOnlyTouch(\n\t\t\t\tgetItemDimenWithMargin(privateConstants.MARGIN, pd[i]),\n\t\t\t\ttempPlane\n\t\t\t);\n\n\t\tif (isInside) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n};\n\nexport const cutSpaceAllowCheck = function (context, x, y, width, height) {\n\tconst privateConstants = getPrivateConstants(context);\n\tconst pd = getPositionData(context);\n\n\tconst tempPlane = {\n\t\tx: 0,\n\t\ty: y,\n\t\twidth: privateConstants.WIDTH,\n\t\theight: height,\n\t};\n\n\tif (typeof width !== \"number\" || typeof height !== \"number\") {\n\t\treturn false;\n\t}\n\n\tlet minY = Number.MAX_SAFE_INTEGER;\n\tlet maxY = 0;\n\n\tlet atLeastOneOverlapping = false;\n\tlet isOverlapping;\n\tconst len = pd.length;\n\tfor (let i = 0; i < len; i++) {\n\t\tif (\n\t\t\tisRectInside(\n\t\t\t\ttempPlane,\n\t\t\t\tgetItemDimenWithMargin(privateConstants.MARGIN, pd[i])\n\t\t\t)\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\tisOverlapping =\n\t\t\tdoRectsOverlap(\n\t\t\t\ttempPlane,\n\t\t\t\tgetItemDimenWithMargin(privateConstants.MARGIN, pd[i])\n\t\t\t) ||\n\t\t\tdoRectsOnlyTouch(\n\t\t\t\ttempPlane,\n\t\t\t\tgetItemDimenWithMargin(privateConstants.MARGIN, pd[i])\n\t\t\t);\n\n\t\tif (isOverlapping) {\n\t\t\tatLeastOneOverlapping = true;\n\t\t\tconst topPoint = {\n\t\t\t\tx: pd[i].x,\n\t\t\t\ty: pd[i].y - privateConstants.MARGIN,\n\t\t\t};\n\t\t\tconst bottomPoint = {\n\t\t\t\tx: pd[i].x,\n\t\t\t\ty: pd[i].y + pd[i].height + privateConstants.MARGIN,\n\t\t\t};\n\t\t\tif (\n\t\t\t\tpd[i].y - privateConstants.MARGIN < minY &&\n\t\t\t\t(isPointInsideRect(tempPlane, topPoint) ||\n\t\t\t\t\tdoesPointTouchRect(tempPlane, topPoint))\n\t\t\t) {\n\t\t\t\tminY = pd[i].y - privateConstants.MARGIN;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tpd[i].y + pd[i].height + privateConstants.MARGIN > maxY &&\n\t\t\t\t(isPointInsideRect(tempPlane, bottomPoint) ||\n\t\t\t\t\tdoesPointTouchRect(tempPlane, bottomPoint))\n\t\t\t) {\n\t\t\t\tmaxY = pd[i].y + pd[i].height + privateConstants.MARGIN;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (atLeastOneOverlapping) {\n\t\tif (minY === Number.MAX_SAFE_INTEGER) {\n\t\t\tminY = y;\n\t\t}\n\n\t\tif (maxY === 0) {\n\t\t\tmaxY = y + height;\n\t\t}\n\n\t\tif (minY - maxY > 0) {\n\t\t\treturn { y: maxY, shiftHeight: minY - maxY };\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn { y: y, shiftHeight: height };\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nexport const getBindedFunctions = (context) => {\n\treturn context.store.variables.bindedFunctions;\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport getOptions from \"../../store/variables/options\";\nimport getElements from \"../../store/variables/elements\";\nimport { isMobile } from \"../utils/utils\";\nimport { getCallbacks } from \"../../store/variables/essentials\";\n// import { onItemMouseDown, onItemTouchStart } from \"./itemInteraction\";\n// import {\n// \tonLimberGridMouseDown,\n// \tonLimberGridTouchStart,\n// } from \"./deskInteraction\";\nimport { getBindedFunctions } from \"../../store/variables/bindedFunctions\";\n// import {\n// \tgetItemInteractionVars,\n// \tgetDeskInteractionVars,\n// } from \"../../store/variables/eventSpecific\";\n// import { onItemClick } from \"./miscellaneous\";\n\nexport const reInitializeEvents = function () {\n\tunInitializeEvents();\n\tinitializeEvents();\n};\n\nexport const initializeVariables = function () {};\n\nexport const initializeEvents = function () {\n\tconst options = getOptions(this);\n\tconst e = getElements(this);\n\tconst callbacks = getCallbacks(this);\n\n\tconst bf = getBindedFunctions(this);\n\n\tif (options.editable === true) {\n\t\tif (!isMobile(this)) {\n\t\t\tif (options.enableInteractiveAddAndCut !== false) {\n\t\t\t\te.$limberGridView.addEventListener(\"mousedown\", bf.onDeskMouseDown);\n\t\t\t\tif (options.enableTouchInteraction !== false) {\n\t\t\t\t\te.$limberGridView.addEventListener(\"touchstart\", bf.onDeskTouchStart);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar len = e.$limberGridViewItems.length;\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tif (!isMobile(this)) {\n\t\t\t\te.$limberGridViewItems[i].addEventListener(\n\t\t\t\t\t\"mousedown\",\n\t\t\t\t\tbf.onItemMouseDown\n\t\t\t\t);\n\t\t\t\tif (options.enableTouchInteraction !== false) {\n\t\t\t\t\te.$limberGridViewItems[i].addEventListener(\n\t\t\t\t\t\t\"touchstart\",\n\t\t\t\t\t\tbf.onItemTouchStart\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (callbacks.onItemClickCallback) {\n\t\t\t\te.$limberGridViewItems[i].addEventListener(\"click\", bf.onItemClick);\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const unInitializeEvents = function () {\n\tconst options = getOptions(this);\n\tconst e = getElements(this);\n\n\tconst bf = getBindedFunctions(this);\n\n\tif (options.editable === true) {\n\t\tif (e.$limberGridView !== undefined) {\n\t\t\te.$limberGridView.removeEventListener(\"mousedown\", bf.onDeskMouseDown);\n\t\t\te.$limberGridView.removeEventListener(\"touchstart\", bf.onDeskTouchStart);\n\t\t}\n\n\t\tif (e.$limberGridViewItems !== undefined) {\n\t\t\tconst len = e.$limberGridViewItems.length;\n\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\te.$limberGridViewItems[i].removeEventListener(\n\t\t\t\t\t\"mousedown\",\n\t\t\t\t\tbf.onItemMouseDown\n\t\t\t\t);\n\t\t\t\te.$limberGridViewItems[i].removeEventListener(\n\t\t\t\t\t\"touchstart\",\n\t\t\t\t\tbf.onItemTouchStart\n\t\t\t\t);\n\n\t\t\t\te.$limberGridViewItems[i].removeEventListener(\"click\", bf.onItemClick);\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const initializeItemTouchEvents = function () {\n\tconst e = getElements(this);\n\n\tconst bf = getBindedFunctions(this);\n\n\tif (e.$limberGridViewItems !== undefined) {\n\t\tconst len = e.$limberGridViewItems.length;\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\te.$limberGridViewItems[i].addEventListener(\n\t\t\t\t\"mousedown\",\n\t\t\t\tbf.onItemMouseDown\n\t\t\t);\n\t\t\te.$limberGridViewItems[i].addEventListener(\n\t\t\t\t\"touchstart\",\n\t\t\t\tbf.onItemTouchStart\n\t\t\t);\n\t\t}\n\t}\n};\n\nexport const unInitializeItemTouchEvents = function () {\n\tconst e = getElements(this);\n\n\tconst bf = getBindedFunctions(this);\n\n\tif (e.$limberGridViewItems !== undefined) {\n\t\tconst len = e.$limberGridViewItems.length;\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\te.$limberGridViewItems[i].removeEventListener(\n\t\t\t\t\"mousedown\",\n\t\t\t\tbf.onItemMouseDown\n\t\t\t);\n\t\t\te.$limberGridViewItems[i].removeEventListener(\n\t\t\t\t\"touchstart\",\n\t\t\t\tbf.onItemTouchStart\n\t\t\t);\n\t\t}\n\t}\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nexport const getItemInteractionVars = function (context) {\n\treturn context.store.variables.eventSpecific.itemInteraction;\n};\n\nexport const setItemInteractionVarsByName = function (context, name, value) {\n\tcontext.store.variables.eventSpecific.itemInteraction[name] = value;\n};\n\nexport const getDeskInteractionVars = function (context) {\n\treturn context.store.variables.eventSpecific.deskInteraction;\n};\n\nexport const setDeskInteractionVarsByName = function (context, name, value) {\n\tcontext.store.variables.eventSpecific.deskInteraction[name] = value;\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nexport const shuffle = (arr) => {\n\tlet temp,\n\t\tlen = arr.length,\n\t\tj;\n\tfor (let i = 0; i < len; i++) {\n\t\tj = Math.floor(Math.random() * (i + 1));\n\t\ttemp = arr[i];\n\t\tarr[i] = arr[j];\n\t\tarr[j] = temp;\n\t}\n\treturn arr;\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\n/*\n\t\t\n\tLIFO(Last In First Out) Stack Data Structure\n\n\n*/\n\nconst Stack = function () {\n\tthis.length = 100;\n\tthis.stack = new Array(this.length);\n\tthis.ptr = -1;\n};\n\nStack.prototype.constructor = Stack;\n\nStack.prototype.push = function (data) {\n\tif (data === null || data === undefined) {\n\t\treturn false;\n\t}\n\tif (this.ptr < this.length - 1) {\n\t\tthis.stack[++this.ptr] = data;\n\t} else {\n\t\tthis.resize();\n\t\tthis.stack[++this.ptr] = data;\n\t}\n\treturn true;\n};\n\nStack.prototype.pop = function () {\n\tif (this.ptr >= 0) {\n\t\tconst top = this.stack[this.ptr];\n\t\tthis.ptr--;\n\t\treturn top;\n\t}\n};\n\nStack.prototype.wipePop = function () {\n\tif (this.ptr >= 0) {\n\t\tconst top = this.stack[this.ptr];\n\t\tthis.stack[this.ptr] = undefined;\n\t\tthis.ptr--;\n\t\treturn top;\n\t}\n};\n\nStack.prototype.resize = function () {\n\tconst oldlen = this.length;\n\tconst oldStack = this.stack;\n\tthis.length += 100;\n\tthis.stack = new Array(this.length);\n\n\tfor (let i = 0; i < oldlen; i++) {\n\t\tthis.stack[i] = oldStack[i];\n\t}\n};\n\nStack.prototype.getTop = function () {\n\tif (this.ptr >= 0) {\n\t\treturn this.stack[this.ptr];\n\t}\n\treturn null;\n};\n\nStack.prototype.isEmpty = function () {\n\tif (this.ptr < 0) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n\nStack.prototype.getData = function () {\n\tconst arr = new Array(this.ptr + 1);\n\tfor (let i = 0; i <= this.ptr; i++) {\n\t\tarr[i] = this.stack[i];\n\t}\n\treturn arr;\n};\n\nStack.prototype.getAllData = function () {\n\tconst arr = new Array(this.length);\n\tfor (let i = 0; i < this.length; i++) {\n\t\tarr[i] = this.stack[i];\n\t}\n\treturn arr;\n};\n\nStack.prototype.getSize = function () {\n\treturn this.ptr + 1;\n};\n\nStack.prototype.empty = function () {\n\tthis.ptr = -1;\n};\n\nStack.prototype.wipe = function () {\n\tthis.length = 100;\n\tthis.stack = new Array(this.length);\n\tthis.ptr = -1;\n};\n\nexport default Stack;\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport getElements, {\n\tset$limberGridView,\n\tset$limberGridViewDebugStackTopRect,\n\tset$limberGridViewDebugStackTopAdjRect,\n\tset$limberGridViewDebugMergedRect,\n\tset$limberGridViewDebugAdjRect,\n\tset$limberGridViewDebugMergedTempRects,\n\tset$limberGridViewDebugStackRects,\n\tset$limberGridViewDebugResultStackRects,\n\tset$limberGridViewDebugUnmergedRects,\n\tset$limberGridViewDebugMergedFreeRects,\n} from \"../../store/variables/elements\";\nimport { DEBUG_MODE } from \"../../store/variables/essentials\";\n\nexport const sleep = (ms) => {\n\treturn new Promise((resolve, reject) => {\n\t\tsetTimeout(resolve, ms);\n\t});\n};\n\nexport const printUnmergedFreeRects = (context, arr) => {\n\tif (process.env.NODE_ENV === \"development\") {\n\t\tconst e = getElements(context);\n\t\tlet len = e.$limberGridViewDebugUnmergedRects.length;\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugUnmergedRects[i]);\n\t\t}\n\t\tset$limberGridViewDebugUnmergedRects(context, []);\n\n\t\t// USE it to hide items\n\t\t// e.$limberGridView.innerHTML = \"\";\n\n\t\tlen = arr.length;\n\t\tlet html;\n\t\tlet node;\n\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tnode = document.createElement(\"div\");\n\t\t\tnode.setAttribute(\n\t\t\t\t\"class\",\n\t\t\t\t\"limber-grid-view-debug-rect limber-grid-view-debug-unmerged-rect\"\n\t\t\t);\n\t\t\tnode.setAttribute(\n\t\t\t\t\"id\",\n\t\t\t\t`limber-grid-view-debug-unmerged-rect-${arr[i].id}`\n\t\t\t);\n\t\t\tnode.setAttribute(\"tabindex\", \"-1\");\n\n\t\t\tnode.setAttribute(\n\t\t\t\t\"title\",\n\t\t\t\t`${arr[i].id}: ${Object.keys(arr[i]?.a || []).map(\n\t\t\t\t\t(o) => arr[i].a[o].d.id\n\t\t\t\t)}`\n\t\t\t);\n\t\t\tnode.innerHTML = arr[i].id;\n\t\t\tnode.style.transform = `translate(${arr[i].rect.x}px, ${arr[i].rect.y}px)`;\n\t\t\tnode.style.width = arr[i].rect.width + \"px\";\n\t\t\tnode.style.height = arr[i].rect.height + \"px\";\n\t\t\te.$limberGridView.appendChild(node);\n\t\t}\n\n\t\tset$limberGridViewDebugUnmergedRects(\n\t\t\tcontext,\n\t\t\te.$limberGridView.querySelectorAll(\n\t\t\t\t\".limber-grid-view-debug-unmerged-rect\"\n\t\t\t)\n\t\t);\n\t}\n};\n\nexport const printMergedFreeRects = (context, arr) => {\n\tif (process.env.NODE_ENV === \"development\") {\n\t\tconst e = getElements(context);\n\t\tlet len = e.$limberGridViewDebugMergedFreeRects.length;\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugMergedFreeRects[i]);\n\t\t}\n\t\tset$limberGridViewDebugMergedFreeRects(context, []);\n\n\t\t// USE it to hide items\n\t\t// e.$limberGridView.innerHTML = \"\";\n\n\t\tlen = arr.length;\n\t\tlet html;\n\t\tlet node;\n\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tnode = document.createElement(\"div\");\n\t\t\tnode.setAttribute(\n\t\t\t\t\"class\",\n\t\t\t\t`limber-grid-view-debug-rect limber-grid-view-debug-merged-free-rect`\n\t\t\t);\n\t\t\tnode.setAttribute(\n\t\t\t\t\"id\",\n\t\t\t\t`limber-grid-view-debug-merged-free-rect-${arr[i].id}`\n\t\t\t);\n\t\t\tnode.setAttribute(\"tabindex\", -1);\n\n\t\t\tnode.setAttribute(\n\t\t\t\t\"title\",\n\t\t\t\t`${arr[i].id}: ${Object.keys(arr[i].o).map(\n\t\t\t\t\t(o) => arr[i].o[o]?.d?.id || \"\"\n\t\t\t\t)}`\n\t\t\t);\n\n\t\t\tnode.innerHTML = arr[i].id;\n\t\t\tnode.style.transform = `translate(${arr[i].rect.x}px, ${arr[i].rect.y}px)`;\n\t\t\tnode.style.width = arr[i].rect.width + \"px\";\n\t\t\tnode.style.height = arr[i].rect.height + \"px\";\n\t\t\te.$limberGridView.appendChild(node);\n\t\t}\n\n\t\tset$limberGridViewDebugMergedFreeRects(\n\t\t\tcontext,\n\t\t\te.$limberGridView.querySelectorAll(\n\t\t\t\t\".limber-grid-view-debug-merged-free-rect\"\n\t\t\t)\n\t\t);\n\t}\n};\n\nexport const printResultStackRects = (context, arr) => {\n\tif (process.env.NODE_ENV === \"development\") {\n\t\tconst e = getElements(context);\n\t\tlet len = e.$limberGridViewDebugResultStackRects.length;\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugResultStackRects[i]);\n\t\t}\n\t\tset$limberGridViewDebugResultStackRects(context, []);\n\n\t\t// USE it to hide items\n\t\t// e.$limberGridView.innerHTML = \"\";\n\n\t\tlen = arr.length;\n\t\tlet html;\n\t\tlet node;\n\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tnode = document.createElement(\"div\");\n\t\t\tnode.setAttribute(\n\t\t\t\t\"class\",\n\t\t\t\t`limber-grid-view-debug-rect limber-grid-view-debug-result-stack-rects`\n\t\t\t);\n\t\t\tnode.setAttribute(\n\t\t\t\t\"id\",\n\t\t\t\t`limber-grid-view-debug-result-stack-rects-${arr[i].id}`\n\t\t\t);\n\t\t\tnode.setAttribute(\"tabindex\", -1);\n\n\t\t\tnode.setAttribute(\n\t\t\t\t\"title\",\n\t\t\t\t`${arr[i].id}: ${Object.keys(arr[i].o).map(\n\t\t\t\t\t(o) => arr[i].o[o]?.d?.id || \"\"\n\t\t\t\t)}`\n\t\t\t);\n\n\t\t\tnode.innerHTML = arr[i].id;\n\t\t\tnode.style.transform = `translate(${arr[i].rect.x}px, ${arr[i].rect.y}px)`;\n\t\t\tnode.style.width = arr[i].rect.width + \"px\";\n\t\t\tnode.style.height = arr[i].rect.height + \"px\";\n\t\t\te.$limberGridView.appendChild(node);\n\t\t}\n\n\t\tset$limberGridViewDebugResultStackRects(\n\t\t\tcontext,\n\t\t\te.$limberGridView.querySelectorAll(\n\t\t\t\t\".limber-grid-view-debug-result-stack-rects\"\n\t\t\t)\n\t\t);\n\t}\n};\n\nexport const printStackRects = (context, arr) => {\n\tif (process.env.NODE_ENV === \"development\") {\n\t\tconst e = getElements(context);\n\t\tlet len = e.$limberGridViewDebugStackRects.length;\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugStackRects[i]);\n\t\t}\n\t\tset$limberGridViewDebugStackRects(context, []);\n\n\t\t// USE it to hide items\n\t\t// e.$limberGridView.innerHTML = \"\";\n\n\t\tlen = arr.length;\n\t\tlet html;\n\t\tlet node;\n\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tnode = document.createElement(\"div\");\n\t\t\tnode.setAttribute(\n\t\t\t\t\"class\",\n\t\t\t\t`limber-grid-view-debug-rect limber-grid-view-debug-stack-rects`\n\t\t\t);\n\t\t\tnode.setAttribute(\n\t\t\t\t\"id\",\n\t\t\t\t`limber-grid-view-debug-stack-rects-${arr[i].id}`\n\t\t\t);\n\t\t\tnode.setAttribute(\"tabindex\", -1);\n\n\t\t\tnode.setAttribute(\n\t\t\t\t\"title\",\n\t\t\t\t`${arr[i].id}: ${Object.keys(arr[i].o).map(\n\t\t\t\t\t(o) => arr[i].o[o]?.d?.id || \"\"\n\t\t\t\t)}`\n\t\t\t);\n\n\t\t\tnode.innerHTML = arr[i].id;\n\t\t\tnode.style.transform = `translate(${arr[i].rect.x}px, ${arr[i].rect.y}px)`;\n\t\t\tnode.style.width = arr[i].rect.width + \"px\";\n\t\t\tnode.style.height = arr[i].rect.height + \"px\";\n\t\t\te.$limberGridView.appendChild(node);\n\t\t}\n\n\t\tset$limberGridViewDebugStackRects(\n\t\t\tcontext,\n\t\t\te.$limberGridView.querySelectorAll(\".limber-grid-view-debug-stack-rects\")\n\t\t);\n\t}\n};\n\nexport const printMergedTempRects = (context, obj) => {\n\tif (process.env.NODE_ENV === \"development\") {\n\t\tconst e = getElements(context);\n\t\tconst node = document.createElement(\"div\");\n\t\tnode.setAttribute(\n\t\t\t\"class\",\n\t\t\t`limber-grid-view-debug-rect limber-grid-view-debug-merged-temp-rects`\n\t\t);\n\t\tnode.setAttribute(\n\t\t\t\"id\",\n\t\t\t`limber-grid-view-debug-merged-temp-rects-${obj.id}`\n\t\t);\n\t\tnode.setAttribute(\"tabindex\", -1);\n\n\t\tnode.setAttribute(\n\t\t\t\"title\",\n\t\t\t`${obj.id}: ${Object.keys(obj.o).map((o) => obj.o[o]?.d?.id || \"\")}`\n\t\t);\n\n\t\tnode.innerHTML = obj.id;\n\t\tnode.style.transform = `translate(${obj.rect.x}px, ${obj.rect.y}px)`;\n\t\tnode.style.width = obj.rect.width + \"px\";\n\t\tnode.style.height = obj.rect.height + \"px\";\n\t\te.$limberGridView.appendChild(node);\n\n\t\tset$limberGridViewDebugMergedTempRects(\n\t\t\tcontext,\n\t\t\te.$limberGridView.querySelectorAll(\n\t\t\t\t\".limber-grid-view-debug-merged-temp-rects\"\n\t\t\t)\n\t\t);\n\t}\n};\n\nexport const printStackTopRect = (context, obj) => {\n\tif (process.env.NODE_ENV === \"development\") {\n\t\tconst e = getElements(context);\n\t\tif (!obj) {\n\t\t\tif (e.$limberGridViewDebugStackTopRect) {\n\t\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugStackTopRect);\n\t\t\t\tset$limberGridViewDebugStackTopRect(context, undefined);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.$limberGridViewDebugStackTopRect) {\n\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugStackTopRect);\n\t\t}\n\n\t\tconst node = document.createElement(\"div\");\n\t\tnode.setAttribute(\n\t\t\t\"class\",\n\t\t\t`limber-grid-view-debug-rect limber-grid-view-debug-stack-top-rect`\n\t\t);\n\t\tnode.setAttribute(\"id\", `limber-grid-view-debug-stack-top-rect`);\n\t\tnode.setAttribute(\"tabindex\", -1);\n\n\t\tnode.setAttribute(\n\t\t\t\"title\",\n\t\t\t`${obj.id}: ${Object.keys(obj.o).map((o) => obj.o[o]?.d?.id || \"\")}`\n\t\t);\n\n\t\tnode.innerHTML = obj.id;\n\t\tnode.style.transform = `translate(${obj.rect.x}px, ${obj.rect.y}px)`;\n\t\tnode.style.width = obj.rect.width + \"px\";\n\t\tnode.style.height = obj.rect.height + \"px\";\n\t\te.$limberGridView.appendChild(node);\n\n\t\tset$limberGridViewDebugStackTopRect(\n\t\t\tcontext,\n\t\t\te.$limberGridView.querySelectorAll(\n\t\t\t\t\".limber-grid-view-debug-stack-top-rect\"\n\t\t\t)[0]\n\t\t);\n\t\t// console.log(e.$limberGridViewDebugStackTopRect);\n\t}\n};\n\nexport const printStackTopAdjRect = (context, obj) => {\n\tif (process.env.NODE_ENV === \"development\") {\n\t\tconst e = getElements(context);\n\t\tif (!obj) {\n\t\t\tif (e.$limberGridViewDebugStackTopAdjRect) {\n\t\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugStackTopAdjRect);\n\t\t\t\tset$limberGridViewDebugStackTopAdjRect(context, undefined);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.$limberGridViewDebugStackTopAdjRect) {\n\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugStackTopAdjRect);\n\t\t}\n\n\t\tconst node = document.createElement(\"div\");\n\t\tnode.setAttribute(\n\t\t\t\"class\",\n\t\t\t`limber-grid-view-debug-rect limber-grid-view-debug-stack-top-adj-rect`\n\t\t);\n\t\tnode.setAttribute(\"id\", `limber-grid-view-debug-stack-top-adj-rect`);\n\t\tnode.setAttribute(\"tabindex\", -1);\n\n\t\tnode.setAttribute(\n\t\t\t\"title\",\n\t\t\t`${obj.id}: ${Object.keys(obj.o).map((o) => obj.o[o]?.d?.id || \"\")}`\n\t\t);\n\n\t\tnode.innerHTML = obj.id;\n\t\tnode.style.transform = `translate(${obj.rect.x}px, ${obj.rect.y}px)`;\n\t\tnode.style.width = obj.rect.width + \"px\";\n\t\tnode.style.height = obj.rect.height + \"px\";\n\t\te.$limberGridView.appendChild(node);\n\n\t\tset$limberGridViewDebugStackTopAdjRect(\n\t\t\tcontext,\n\t\t\te.$limberGridView.querySelectorAll(\n\t\t\t\t\".limber-grid-view-debug-stack-top-adj-rect\"\n\t\t\t)[0]\n\t\t);\n\t\t// console.log(e.$limberGridViewDebugStackTopAdjRect);\n\t}\n};\n\nexport const printMergedRect = (context, obj) => {\n\tif (process.env.NODE_ENV === \"development\") {\n\t\tconst e = getElements(context);\n\t\tif (!obj) {\n\t\t\tif (e.$limberGridViewDebugMergedRect) {\n\t\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugMergedRect);\n\t\t\t\tset$limberGridViewDebugMergedRect(context, undefined);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.$limberGridViewDebugMergedRect) {\n\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugMergedRect);\n\t\t}\n\n\t\tconst node = document.createElement(\"div\");\n\t\tnode.setAttribute(\n\t\t\t\"class\",\n\t\t\t`limber-grid-view-debug-rect limber-grid-view-debug-merged-rect limber-grid-view-debug-merged-rect-thick`\n\t\t);\n\t\tnode.setAttribute(\"id\", `limber-grid-view-debug-merged-rect`);\n\t\tnode.setAttribute(\"tabindex\", -1);\n\n\t\tnode.setAttribute(\n\t\t\t\"title\",\n\t\t\t`${obj.id}: ${Object.keys(obj.o).map((o) => obj.o[o]?.d?.id || \"\")}`\n\t\t);\n\n\t\tnode.innerHTML = obj.id;\n\t\tnode.style.transform = `translate(${obj.rect.x}px, ${obj.rect.y}px)`;\n\t\tnode.style.width = obj.rect.width + \"px\";\n\t\tnode.style.height = obj.rect.height + \"px\";\n\t\te.$limberGridView.appendChild(node);\n\n\t\tset$limberGridViewDebugMergedRect(\n\t\t\tcontext,\n\t\t\te.$limberGridView.querySelectorAll(\n\t\t\t\t\".limber-grid-view-debug-merged-rect\"\n\t\t\t)[0]\n\t\t);\n\t\t// console.log(e.$limberGridViewDebugMergedRect);\n\t}\n};\n\nexport const printAdjRect = (context, obj) => {\n\tif (process.env.NODE_ENV === \"development\") {\n\t\tconst e = getElements(context);\n\t\tif (!obj) {\n\t\t\tif (e.$limberGridViewDebugAdjRect) {\n\t\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugAdjRect);\n\t\t\t\tset$limberGridViewDebugAdjRect(context, undefined);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.$limberGridViewDebugAdjRect) {\n\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugAdjRect);\n\t\t}\n\n\t\tconst node = document.createElement(\"div\");\n\t\tnode.setAttribute(\n\t\t\t\"class\",\n\t\t\t`limber-grid-view-debug-rect limber-grid-view-debug-adj-rect`\n\t\t);\n\t\tnode.setAttribute(\"id\", `limber-grid-view-debug-adj-rect`);\n\t\tnode.setAttribute(\"tabindex\", -1);\n\n\t\tnode.setAttribute(\n\t\t\t\"title\",\n\t\t\t`${obj.id}: ${Object.keys(obj.o).map((o) => obj.o[o]?.d?.id || \"\")}`\n\t\t);\n\n\t\tnode.innerHTML = obj.id;\n\t\tnode.style.transform = `translate(${obj.rect.x}px, ${obj.rect.y}px)`;\n\t\tnode.style.width = obj.rect.width + \"px\";\n\t\tnode.style.height = obj.rect.height + \"px\";\n\t\te.$limberGridView.appendChild(node);\n\n\t\tset$limberGridViewDebugAdjRect(\n\t\t\tcontext,\n\t\t\te.$limberGridView.querySelectorAll(\".limber-grid-view-debug-adj-rect\")[0]\n\t\t);\n\t\t// console.log(e.$limberGridViewDebugAdjRect);\n\t}\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport { IntervalTreesIterative } from \"IntervalTreeJS\";\nimport { ClosestBST } from \"ClosestBST\";\nimport {\n\tgetPositionData,\n\tgetModifiedPositionData,\n} from \"../../store/variables/essentials\";\nimport getElements from \"../../store/variables/elements\";\nimport getPrivateConstants, {\n\tgetPrivateConstantByName,\n} from \"../../store/constants/privateConstants\";\nimport getPublicConstants, {\n\tgetPublicConstantByName,\n} from \"../../store/constants/publicConstants\";\nimport {\n\tgetMinMaxXY,\n\tgetTopBottomWS,\n\tgetItemsInWorkSpace,\n\tgetItemsBelowBottomWorkSpace,\n\tgetItemDimenWithMargin,\n\tgetItemsToArrangeScore,\n\t// assignScoreToFreeRects,\n\tcBSTRectComparator,\n\tcBSTLComp,\n\tcBSTRComp,\n\tgetPerfectMatch,\n\tshiftItemsDown,\n\tgetResizeWSItemsDetail,\n} from \"./arrangeUtils\";\nimport {\n\tgetRectObjectFromCo,\n\tsubtractRect,\n\tdoRectsOverlap,\n\tareRectsAdjacent,\n\tgetCoordinates,\n\tmergeRects,\n\tisRectInside,\n\tareRectsOnSameYAxisExPath,\n\tareRectsIdentical,\n} from \"../rect/rectUtils\";\nimport { shuffle } from \"../array/arrayUtils\";\nimport { filter } from \"../utils/utils\";\nimport Stack from \"../stack/stack\";\nimport {\n\tsleep,\n\tprintUnmergedFreeRects,\n\tprintMergedFreeRects,\n\tprintResultStackRects,\n\tprintStackRects,\n\tprintMergedTempRects,\n\tprintStackTopRect,\n\tprintStackTopAdjRect,\n\tprintMergedRect,\n\tprintAdjRect,\n} from \"../debug/debug\";\n\nexport const arrangeMove = async (\n\tcontext,\n\taffectedItems,\n\ttoY,\n\tmovedBottomY,\n\tisDemo = false\n) => {\n\tconst privateConstants = getPrivateConstants(context);\n\tconst publicConstants = getPublicConstants(context);\n\tconst mpd = getModifiedPositionData(context);\n\n\tconst p1 = performance.now();\n\n\tconst idCount = { idCount: 0 };\n\n\tconst { minY, maxY } = getMinMaxXY(\n\t\tcontext,\n\t\taffectedItems,\n\t\tundefined,\n\t\tundefined,\n\t\ttoY,\n\t\tmovedBottomY\n\t);\n\n\t// last element is moved or resized item;\n\tconst itemsToArrange = new Array(affectedItems.length - 1);\n\tconst iToALen = affectedItems.length - 1;\n\tfor (let i = 0; i < iToALen; i++) {\n\t\titemsToArrange[i] = affectedItems[i];\n\t}\n\n\tconst workSpaceRectCo = {\n\t\ttl: { x: 0, y: minY },\n\t\ttr: { x: privateConstants.WIDTH, y: minY },\n\t\tbr: { x: privateConstants.WIDTH, y: maxY },\n\t\tbl: { x: 0, y: maxY },\n\t};\n\n\tconst combinedWorkSpaceRectCo = {\n\t\ttl: { ...workSpaceRectCo.tl },\n\t\ttr: { ...workSpaceRectCo.tr },\n\t\tbr: { ...workSpaceRectCo.br },\n\t\tbl: { ...workSpaceRectCo.bl },\n\t};\n\tconst { topWorkSpaceCo, bottomWorkSpaceCo } = getTopBottomWS(\n\t\tcontext,\n\t\tworkSpaceRectCo,\n\t\t0,\n\t\tprivateConstants.WIDTH\n\t);\n\tconst shrinkRes = shrinkTopBottomWS(\n\t\tcontext,\n\t\ttopWorkSpaceCo,\n\t\tbottomWorkSpaceCo\n\t);\n\n\tif (shrinkRes.integrateTop) {\n\t\tcombinedWorkSpaceRectCo.tl = { ...topWorkSpaceCo.tl };\n\t\tcombinedWorkSpaceRectCo.tr = { ...topWorkSpaceCo.tr };\n\t}\n\tif (shrinkRes.integrateBottom) {\n\t\tcombinedWorkSpaceRectCo.br = { ...bottomWorkSpaceCo.br };\n\t\tcombinedWorkSpaceRectCo.bl = { ...bottomWorkSpaceCo.bl };\n\t}\n\n\tlet itemsInBottomWorkSpace = getItemsInWorkSpace(\n\t\tcontext,\n\t\tgetRectObjectFromCo(bottomWorkSpaceCo),\n\t\ttrue\n\t);\n\tconst itemsBelowBottomWorkSpace = getItemsBelowBottomWorkSpace(\n\t\tcontext,\n\t\tbottomWorkSpaceCo,\n\t\ttrue\n\t);\n\n\tlet combinedWorkSpaceRect = getRectObjectFromCo(combinedWorkSpaceRectCo);\n\tlet itemsInCombinedWorkSpace = getItemsInWorkSpace(\n\t\tcontext,\n\t\tcombinedWorkSpaceRect\n\t);\n\n\tconst shiftHeight =\n\t\t(privateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH -\n\t\t\tprivateConstants.MARGIN * 2) /\n\t\t2;\n\n\tlet passCount = 0;\n\tlet arranged = {};\n\tlet arrangedCount = 0;\n\tlet workSpaceResizeCount = 0;\n\n\tlet DEBUG_COUNT = 0;\n\n\twhile (arrangedCount !== iToALen) {\n\t\t// sort items in workspace by lt.x  i.e horizontally\n\t\titemsInCombinedWorkSpace.sort((a, b) => a.x - b.x);\n\n\t\tconst { it: freeRectsItY, idCount: lastId1 } = sweepLine(\n\t\t\tcontext,\n\t\t\tcombinedWorkSpaceRect,\n\t\t\tcombinedWorkSpaceRectCo,\n\t\t\titemsInCombinedWorkSpace,\n\t\t\tidCount.idCount\n\t\t);\n\t\tidCount.idCount = lastId1;\n\n\t\tconst freeRectsArr = freeRectsItY.getSortedData();\n\t\tshuffle(freeRectsArr);\n\n\t\tassignAdjacentRects(freeRectsItY);\n\n\t\t// DEBUG:\n\t\t// printUnmergedFreeRects(context, freeRectsArr.map((o) => o.d));\n\n\t\tconst { mergedRects, idCount: lastId2 } = await mergeFreeRects(\n\t\t\tfreeRectsArr,\n\t\t\tidCount.idCount\n\t\t);\n\t\tidCount.idCount = lastId2;\n\n\t\t// DEBUG:\n\t\t// printMergedFreeRects(context, mergedRects.map((o) => o.d));\n\n\t\tconst { overlappedRects } = findOverlapped(mergedRects);\n\n\t\t// DEBUG:\n\t\t// printMergedFreeRects(context, overlappedRects.map((o) => o.d));\n\n\t\tconst {\n\t\t\tarranged: _arranged,\n\t\t\titemsInBottomWorkSpace: _itemsInBottomWorkSpace,\n\t\t\tidCount: lastId3,\n\t\t} = await arrange(\n\t\t\tcontext,\n\t\t\titemsToArrange.filter((id) => !arranged[id]),\n\t\t\toverlappedRects,\n\t\t\tgetRectObjectFromCo(topWorkSpaceCo),\n\t\t\tgetRectObjectFromCo(bottomWorkSpaceCo),\n\t\t\tcombinedWorkSpaceRectCo,\n\t\t\tidCount.idCount\n\t\t);\n\t\tidCount.idCount = lastId3;\n\n\t\titemsInBottomWorkSpace = [\n\t\t\t...itemsInBottomWorkSpace,\n\t\t\t...Object.keys(_itemsInBottomWorkSpace),\n\t\t];\n\n\t\tarranged = { ...arranged, ..._arranged };\n\t\tconst _arrangedArr = Object.values(_arranged);\n\t\titemsInCombinedWorkSpace = [...itemsInCombinedWorkSpace, ..._arrangedArr];\n\n\t\tarrangedCount += _arrangedArr.length;\n\n\t\tif (arrangedCount !== iToALen) {\n\t\t\t// resize workSpace and push bottom workspace down\n\t\t\tworkSpaceResizeCount++;\n\t\t\tconsole.log(\"workSpaceResizeCount\", workSpaceResizeCount);\n\n\t\t\tworkSpaceRectCo.br.y += shiftHeight;\n\t\t\tworkSpaceRectCo.bl.y += shiftHeight;\n\t\t\tif (bottomWorkSpaceCo) {\n\t\t\t\tbottomWorkSpaceCo.tl.y += shiftHeight;\n\t\t\t\tbottomWorkSpaceCo.tr.y += shiftHeight;\n\t\t\t\tbottomWorkSpaceCo.br.y += shiftHeight;\n\t\t\t\tbottomWorkSpaceCo.bl.y += shiftHeight;\n\t\t\t}\n\t\t\tcombinedWorkSpaceRectCo.br.y += shiftHeight;\n\t\t\tcombinedWorkSpaceRectCo.bl.y += shiftHeight;\n\n\t\t\tcombinedWorkSpaceRect = getRectObjectFromCo(combinedWorkSpaceRectCo);\n\n\t\t\tshiftItemsDown(context, itemsInBottomWorkSpace, shiftHeight);\n\t\t}\n\n\t\tpassCount++;\n\n\t\tDEBUG_COUNT++;\n\t\tif (DEBUG_COUNT > 50) {\n\t\t\tthrow \"Arrange time out\";\n\t\t}\n\t}\n\n\tif (workSpaceResizeCount > 0) {\n\t\t// push items in below bottom workspace below\n\t\tshiftItemsDown(\n\t\t\tcontext,\n\t\t\titemsBelowBottomWorkSpace,\n\t\t\tshiftHeight * workSpaceResizeCount\n\t\t);\n\n\t\t// put items in bottom workspace and below bottom workspace in arranged map\n\t\tlet len = itemsInBottomWorkSpace.length;\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tarranged[itemsInBottomWorkSpace[i]] = mpd[itemsInBottomWorkSpace[i]];\n\t\t}\n\n\t\tlen = itemsBelowBottomWorkSpace.length;\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tarranged[itemsBelowBottomWorkSpace[i]] =\n\t\t\t\tmpd[itemsBelowBottomWorkSpace[i]];\n\t\t}\n\t}\n\n\tconst p2 = performance.now();\n\tconsole.log(\"p1: \", p1);\n\tconsole.log(\"p2: \", p2);\n\tconsole.log(\"arrange total: \", p2 - p1);\n\n\treturn arranged;\n};\n\nexport const arrangeResize = async (\n\tcontext,\n\taffectedItems,\n\tresizedBottomY,\n\tresizedRightX,\n\tisDemo = false\n) => {\n\tconst privateConstants = getPrivateConstants(context);\n\tconst publicConstants = getPublicConstants(context);\n\n\tconst p1 = performance.now();\n\n\tconst idCount = { idCount: 0 };\n\n\tconst { minX, maxX, minY, maxY } = getMinMaxXY(\n\t\tcontext,\n\t\taffectedItems,\n\t\tresizedRightX,\n\t\tresizedBottomY,\n\t\tundefined,\n\t\tundefined\n\t);\n\n\t// last element is moved or resized item;\n\tlet itemsToArrange = new Array(affectedItems.length - 1);\n\tlet iToALen = affectedItems.length - 1;\n\tfor (let i = 0; i < iToALen; i++) {\n\t\titemsToArrange[i] = affectedItems[i];\n\t}\n\n\tconst workSpaceRectCo = {\n\t\ttl: { x: 0, y: minY },\n\t\ttr: { x: privateConstants.WIDTH, y: minY },\n\t\tbr: { x: privateConstants.WIDTH, y: maxY },\n\t\tbl: { x: 0, y: maxY },\n\t};\n\n\tconst combinedWorkSpaceRectCo = {\n\t\ttl: { ...workSpaceRectCo.tl },\n\t\ttr: { ...workSpaceRectCo.tr },\n\t\tbr: { ...workSpaceRectCo.br },\n\t\tbl: { ...workSpaceRectCo.bl },\n\t};\n\n\tconst { topWorkSpaceCo, bottomWorkSpaceCo } = getTopBottomWS(\n\t\tcontext,\n\t\tworkSpaceRectCo,\n\t\t0,\n\t\tprivateConstants.WIDTH\n\t);\n\tconst shrinkRes = shrinkTopBottomWS(\n\t\tcontext,\n\t\ttopWorkSpaceCo,\n\t\tbottomWorkSpaceCo\n\t);\n\n\tif (shrinkRes.integrateTop) {\n\t\tcombinedWorkSpaceRectCo.tl = { ...topWorkSpaceCo.tl };\n\t\tcombinedWorkSpaceRectCo.tr = { ...topWorkSpaceCo.tr };\n\t}\n\tif (shrinkRes.integrateBottom) {\n\t\tcombinedWorkSpaceRectCo.br = { ...bottomWorkSpaceCo.br };\n\t\tcombinedWorkSpaceRectCo.bl = { ...bottomWorkSpaceCo.bl };\n\t}\n\n\tconst _workSpaceRectCo = {\n\t\t// can safely do these operations\n\t\t// work space width should be greather than or equal to \"DEFINED_MIN_HEIGHT_AND_WIDTH + (MARGIN * 2)\"\n\t\t// minX - privateConstants.MARGIN\n\t\t// maxX + privateConstants.MARGIN\n\t\t// above two operations are already done in getMinMaxXY\n\t\ttl: { x: minX, y: minY },\n\t\ttr: { x: maxX, y: minY },\n\t\tbr: { x: maxX, y: maxY },\n\t\tbl: { x: minX, y: maxY },\n\t};\n\n\tconst _combinedWorkSpaceRectCo = {\n\t\ttl: { ..._workSpaceRectCo.tl },\n\t\ttr: { ..._workSpaceRectCo.tr },\n\t\tbr: { ..._workSpaceRectCo.br },\n\t\tbl: { ..._workSpaceRectCo.bl },\n\t};\n\n\tconst {\n\t\ttopWorkSpaceCo: _topWorkSpaceCo,\n\t\tbottomWorkSpaceCo: _bottomWorkSpaceCo,\n\t} = getTopBottomWS(\n\t\tcontext,\n\t\t_workSpaceRectCo,\n\t\tminX - privateConstants.MARGIN,\n\t\tmaxX + privateConstants.MARGIN\n\t);\n\n\tconst _shrinkRes = shrinkTopBottomWS(context, _topWorkSpaceCo);\n\n\tif (_shrinkRes.integrateTop) {\n\t\t_combinedWorkSpaceRectCo.tl = { ..._topWorkSpaceCo.tl };\n\t\t_combinedWorkSpaceRectCo.tr = { ..._topWorkSpaceCo.tr };\n\t}\n\tif (_bottomWorkSpaceCo) {\n\t\t_combinedWorkSpaceRectCo.br = { ..._bottomWorkSpaceCo.br };\n\t\t_combinedWorkSpaceRectCo.bl = { ..._bottomWorkSpaceCo.bl };\n\t}\n\n\tconst combinedWorkSpaceRect = getRectObjectFromCo(combinedWorkSpaceRectCo);\n\tlet itemsInCombinedWorkSpace = getItemsInWorkSpace(\n\t\tcontext,\n\t\tcombinedWorkSpaceRect\n\t);\n\n\tlet _combinedWorkSpaceRect = getRectObjectFromCo(_combinedWorkSpaceRectCo);\n\n\tconst incrementHeight = privateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH * 2;\n\n\tlet passCount = 0;\n\tlet arranged = {};\n\tlet arrangedCount = 0;\n\tlet workSpaceResizeCount = 0;\n\n\twhile (arrangedCount !== iToALen) {\n\t\tlet freeRectsItY;\n\t\tif (passCount === 0) {\n\t\t\t// sort items in workspace by lt.x  i.e horizontally\n\t\t\titemsInCombinedWorkSpace.sort((a, b) => a.x - b.x);\n\n\t\t\tconst { it: _freeRectsItY, idCount: lastId1 } = sweepLine(\n\t\t\t\tcontext,\n\t\t\t\tcombinedWorkSpaceRect,\n\t\t\t\tcombinedWorkSpaceRectCo,\n\t\t\t\titemsInCombinedWorkSpace,\n\t\t\t\tidCount.idCount\n\t\t\t);\n\t\t\tfreeRectsItY = _freeRectsItY;\n\t\t\tidCount.idCount = lastId1;\n\t\t} else if (passCount === 1) {\n\t\t\tconst {\n\t\t\t\titemsInWorkSpace: _itemsInCombinedWorkSpace,\n\t\t\t\tupdatedItemsToArrange,\n\t\t\t} = getResizeWSItemsDetail(\n\t\t\t\tcontext,\n\t\t\t\t_workSpaceRectCo,\n\t\t\t\t_topWorkSpaceCo,\n\t\t\t\t_bottomWorkSpaceCo,\n\t\t\t\t_combinedWorkSpaceRectCo,\n\t\t\t\tarranged,\n\t\t\t\titemsToArrange\n\t\t\t);\n\t\t\titemsInCombinedWorkSpace = _itemsInCombinedWorkSpace;\n\t\t\titemsToArrange = updatedItemsToArrange;\n\t\t\tiToALen = updatedItemsToArrange.length + arrangedCount;\n\t\t\tpassCount++;\n\t\t\tcontinue;\n\t\t} else if (passCount >= 2) {\n\t\t\t// sort items in workspace by lt.x  i.e horizontally\n\t\t\titemsInCombinedWorkSpace.sort((a, b) => a.x - b.x);\n\n\t\t\tconst { it: _freeRectsItY, idCount: lastId1 } = sweepLine(\n\t\t\t\tcontext,\n\t\t\t\t_combinedWorkSpaceRect,\n\t\t\t\t_combinedWorkSpaceRectCo,\n\t\t\t\titemsInCombinedWorkSpace,\n\t\t\t\tidCount.idCount\n\t\t\t);\n\t\t\tfreeRectsItY = _freeRectsItY;\n\t\t\tidCount.idCount = lastId1;\n\t\t}\n\n\t\tconst freeRectsArr = freeRectsItY.getSortedData();\n\t\tshuffle(freeRectsArr);\n\n\t\tassignAdjacentRects(freeRectsItY);\n\n\t\t// DEBUG:\n\t\t// printUnmergedFreeRects(\n\t\t// \tcontext,\n\t\t// \tfreeRectsArr.map((o) => o.d)\n\t\t// );\n\n\t\tconst { mergedRects, idCount: lastId2 } = await mergeFreeRects(\n\t\t\tfreeRectsArr,\n\t\t\tidCount.idCount\n\t\t);\n\t\tidCount.idCount = lastId2;\n\n\t\t// DEBUG:\n\t\t// printMergedFreeRects(\n\t\t// \tcontext,\n\t\t// \tmergedRects.map((o) => o.d)\n\t\t// );\n\n\t\tconst { overlappedRects } = findOverlapped(mergedRects);\n\n\t\t// DEBUG:\n\t\t// printMergedFreeRects(\n\t\t// \tcontext,\n\t\t// \toverlappedRects.map((o) => o.d)\n\t\t// );\n\n\t\tconst { arranged: _arranged, idCount: lastId3 } = await arrange(\n\t\t\tcontext,\n\t\t\titemsToArrange.filter((id) => !arranged[id]),\n\t\t\toverlappedRects,\n\t\t\tgetRectObjectFromCo(topWorkSpaceCo),\n\t\t\tgetRectObjectFromCo(bottomWorkSpaceCo),\n\t\t\tpassCount === 0 ? combinedWorkSpaceRectCo : _combinedWorkSpaceRectCo,\n\t\t\tidCount.idCount\n\t\t);\n\t\tidCount.idCount = lastId3;\n\n\t\tarranged = { ...arranged, ..._arranged };\n\t\tconst _arrangedArr = Object.values(_arranged);\n\t\titemsInCombinedWorkSpace = [...itemsInCombinedWorkSpace, ..._arrangedArr];\n\n\t\tarrangedCount += _arrangedArr.length;\n\n\t\tif (arrangedCount !== iToALen && passCount >= 2) {\n\t\t\t// resize combined workSpace\n\t\t\tworkSpaceResizeCount++;\n\t\t\tconsole.log(\"workSpaceResizeCount\", workSpaceResizeCount);\n\n\t\t\t_combinedWorkSpaceRectCo.br.y += incrementHeight;\n\t\t\t_combinedWorkSpaceRectCo.bl.y += incrementHeight;\n\t\t\t_combinedWorkSpaceRect = getRectObjectFromCo(_combinedWorkSpaceRectCo);\n\t\t}\n\n\t\tpassCount++;\n\n\t\tif (passCount > 50) {\n\t\t\tthrow \"Arrange time out\";\n\t\t}\n\t}\n\n\tconst p2 = performance.now();\n\tconsole.log(\"p1: \", p1);\n\tconsole.log(\"p2: \", p2);\n\tconsole.log(\"arrange total: \", p2 - p1);\n\n\treturn arranged;\n};\n\nexport const arrangeFromHeight = async (context, itemsToArrange, height) => {\n\tconst privateConstants = getPrivateConstants(context);\n\tconst publicConstants = getPublicConstants(context);\n\n\tconst p1 = performance.now();\n\n\tconst idCount = { idCount: 0 };\n\n\tconst minX = 0;\n\tconst maxX = privateConstants.WIDTH;\n\tconst minY = height;\n\tconst maxY = height + privateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH;\n\n\tconst iToALen = itemsToArrange.length;\n\n\tconst workSpaceRectCo = {\n\t\ttl: { x: minX, y: minY },\n\t\ttr: { x: maxX, y: minY },\n\t\tbr: { x: maxX, y: maxY },\n\t\tbl: { x: minX, y: maxY },\n\t};\n\n\tconst combinedWorkSpaceRectCo = {\n\t\ttl: { ...workSpaceRectCo.tl },\n\t\ttr: { ...workSpaceRectCo.tr },\n\t\tbr: { ...workSpaceRectCo.br },\n\t\tbl: { ...workSpaceRectCo.bl },\n\t};\n\n\tconst { topWorkSpaceCo } = getTopBottomWS(\n\t\tcontext,\n\t\tworkSpaceRectCo,\n\t\t0,\n\t\tprivateConstants.WIDTH\n\t);\n\tconst shrinkRes = shrinkTopBottomWS(context, topWorkSpaceCo);\n\n\tif (shrinkRes.integrateTop) {\n\t\tcombinedWorkSpaceRectCo.tl = { ...topWorkSpaceCo.tl };\n\t\tcombinedWorkSpaceRectCo.tr = { ...topWorkSpaceCo.tr };\n\t}\n\n\tlet combinedWorkSpaceRect = getRectObjectFromCo(combinedWorkSpaceRectCo);\n\tlet itemsInCombinedWorkSpace = getItemsInWorkSpace(\n\t\tcontext,\n\t\tcombinedWorkSpaceRect\n\t);\n\n\tconst shiftHeight =\n\t\tprivateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH -\n\t\tprivateConstants.MARGIN * 2 -\n\t\t10;\n\n\tlet passCount = 0;\n\tlet arranged = {};\n\tlet arrangedCount = 0;\n\tlet workSpaceResizeCount = 0;\n\n\twhile (arrangedCount !== iToALen) {\n\t\t// sort items in workspace by lt.x  i.e horizontally\n\t\titemsInCombinedWorkSpace.sort((a, b) => a.x - b.x);\n\n\t\tconst { it: freeRectsItY, idCount: lastId1 } = sweepLine(\n\t\t\tcontext,\n\t\t\tcombinedWorkSpaceRect,\n\t\t\tcombinedWorkSpaceRectCo,\n\t\t\titemsInCombinedWorkSpace,\n\t\t\tidCount.idCount\n\t\t);\n\t\tidCount.idCount = lastId1;\n\n\t\tconst freeRectsArr = freeRectsItY.getSortedData();\n\t\tshuffle(freeRectsArr);\n\n\t\tassignAdjacentRects(freeRectsItY);\n\n\t\t// DEBUG:\n\t\t// printUnmergedFreeRects(context, freeRectsArr.map((o) => o.d));\n\n\t\tconst { mergedRects, idCount: lastId2 } = await mergeFreeRects(\n\t\t\tfreeRectsArr,\n\t\t\tidCount.idCount\n\t\t);\n\t\tidCount.idCount = lastId2;\n\n\t\t// DEBUG:\n\t\t// printMergedFreeRects(context, mergedRects.map((o) => o.d));\n\n\t\tconst { overlappedRects } = findOverlapped(mergedRects);\n\n\t\t// DEBUG:\n\t\t// printMergedFreeRects(context, overlappedRects.map((o) => o.d));\n\n\t\tconst { arranged: _arranged, idCount: lastId3 } = await arrange(\n\t\t\tcontext,\n\t\t\titemsToArrange.filter((id) => !arranged[id]),\n\t\t\toverlappedRects,\n\t\t\tgetRectObjectFromCo(topWorkSpaceCo),\n\t\t\tundefined,\n\t\t\tcombinedWorkSpaceRectCo,\n\t\t\tidCount.idCount\n\t\t);\n\t\tidCount.idCount = lastId3;\n\n\t\tarranged = { ...arranged, ..._arranged };\n\t\tconst _arrangedArr = Object.values(_arranged);\n\t\titemsInCombinedWorkSpace = [...itemsInCombinedWorkSpace, ..._arrangedArr];\n\n\t\tarrangedCount += _arrangedArr.length;\n\n\t\tif (arrangedCount !== iToALen) {\n\t\t\t// resize workSpace and push bottom workspace down\n\t\t\tworkSpaceResizeCount++;\n\t\t\tconsole.log(\"workSpaceResizeCount\", workSpaceResizeCount);\n\n\t\t\tworkSpaceRectCo.br.y += shiftHeight;\n\t\t\tworkSpaceRectCo.bl.y += shiftHeight;\n\t\t\tcombinedWorkSpaceRectCo.br.y += shiftHeight;\n\t\t\tcombinedWorkSpaceRectCo.bl.y += shiftHeight;\n\n\t\t\tcombinedWorkSpaceRect = getRectObjectFromCo(combinedWorkSpaceRectCo);\n\t\t}\n\n\t\tpassCount++;\n\n\t\tpassCount++;\n\t\tif (passCount > 10000) {\n\t\t\tthrow \"Arrange time out\";\n\t\t}\n\t}\n\n\tconst p2 = performance.now();\n\tconsole.log(\"p1: \", p1);\n\tconsole.log(\"p2: \", p2);\n\tconsole.log(\"arrange total: \", p2 - p1);\n\n\treturn arranged;\n};\n\nexport const shrinkTopBottomWS = (context, topWorkSpace, bottomWorkSpace) => {\n\tlet topWSItems, bottomWSItems;\n\tconst res = { integrateTop: false, integrateBottom: false };\n\tif (topWorkSpace) {\n\t\ttopWSItems = getItemsInWorkSpace(\n\t\t\tcontext,\n\t\t\tgetRectObjectFromCo(topWorkSpace)\n\t\t);\n\t\tconst sweepRes = sweepLineTop(topWorkSpace, topWSItems);\n\n\t\tif (sweepRes < topWorkSpace.bl.y) {\n\t\t\ttopWorkSpace.tl.y = sweepRes;\n\t\t\ttopWorkSpace.tr.y = sweepRes;\n\n\t\t\tres.integrateTop = true;\n\t\t}\n\t}\n\n\tif (bottomWorkSpace) {\n\t\tbottomWSItems = getItemsInWorkSpace(\n\t\t\tcontext,\n\t\t\tgetRectObjectFromCo(bottomWorkSpace)\n\t\t);\n\t\tconst sweepRes = sweepLineBottom(bottomWorkSpace, bottomWSItems);\n\n\t\tif (sweepRes > bottomWorkSpace.tl.y) {\n\t\t\tbottomWorkSpace.bl.y = sweepRes;\n\t\t\tbottomWorkSpace.br.y = sweepRes;\n\n\t\t\tres.integrateBottom = true;\n\t\t}\n\t}\n\n\treturn res;\n};\n\nexport const sweepLineTop = (area, items) => {\n\tconst len = items.length;\n\tconst it = new IntervalTreesIterative();\n\n\tfor (let i = 0; i < len; i++) {\n\t\tit.insert({\n\t\t\tlow: items[i].y,\n\t\t\thigh: items[i].y + items[i].height,\n\t\t\td: {\n\t\t\t\trect: items[i],\n\t\t\t},\n\t\t});\n\t}\n\n\tlet resultPoint = area.bl.y;\n\tlet res, rLen;\n\tlet breakSig = false;\n\n\tfor (let i = 0; i < len; i++) {\n\t\tres = it.findAll({ low: items[i].y + items[i].height, high: area.bl.y });\n\t\trLen = res.length;\n\t\tbreakSig = false;\n\t\tfor (let j = 0; j < rLen; j++) {\n\t\t\tif (\n\t\t\t\tareRectsOnSameYAxisExPath(\n\t\t\t\t\tgetCoordinates(items[i]),\n\t\t\t\t\tgetCoordinates(res[j].d.rect)\n\t\t\t\t) &&\n\t\t\t\t!areRectsIdentical(\n\t\t\t\t\tgetCoordinates(items[i]),\n\t\t\t\t\tgetCoordinates(res[j].d.rect)\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tbreakSig = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (!breakSig && items[i].y + items[i].height < resultPoint) {\n\t\t\tresultPoint = items[i].y + items[i].height;\n\t\t}\n\t}\n\n\treturn resultPoint;\n};\n\nexport const sweepLineBottom = (area, items) => {\n\tconst len = items.length;\n\tconst it = new IntervalTreesIterative();\n\n\tfor (let i = 0; i < len; i++) {\n\t\tit.insert({\n\t\t\tlow: items[i].y,\n\t\t\thigh: items[i].y + items[i].height,\n\t\t\td: {\n\t\t\t\trect: items[i],\n\t\t\t},\n\t\t});\n\t}\n\n\tlet resultPoint = area.tl.y;\n\tlet res, rLen;\n\tlet breakSig = false;\n\tfor (let i = 0; i < len; i++) {\n\t\tres = it.findAll({ low: area.tl.y, high: items[i].y });\n\t\trLen = res.length;\n\t\tbreakSig = false;\n\t\tfor (let j = 0; j < rLen; j++) {\n\t\t\tif (\n\t\t\t\tareRectsOnSameYAxisExPath(\n\t\t\t\t\tgetCoordinates(items[i]),\n\t\t\t\t\tgetCoordinates(res[j].d.rect)\n\t\t\t\t) &&\n\t\t\t\t!areRectsIdentical(\n\t\t\t\t\tgetCoordinates(items[i]),\n\t\t\t\t\tgetCoordinates(res[j].d.rect)\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tbreakSig = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (!breakSig && items[i].y > resultPoint) {\n\t\t\tresultPoint = items[i].y;\n\t\t}\n\t}\n\n\treturn resultPoint;\n};\n\nexport const sweepLine = (context, area, areaCo, items, lastId) => {\n\t// area: area to sweep\n\t// area: area to sweep Coordinate Form\n\t// items: items in area\n\n\tconst privateConstants = getPrivateConstants(context);\n\n\tlet idCount = lastId;\n\n\tconst it = new IntervalTreesIterative();\n\n\tit.insert({\n\t\tlow: areaCo.tl.y,\n\t\thigh: areaCo.bl.y,\n\t\td: { id: idCount++, rect: area, a: {}, o: {}, ref: null },\n\t});\n\n\tlet tempItem;\n\tlet fInterval = { low: 0, high: 0, d: null };\n\tlet intervals;\n\tlet iLen = 0;\n\tlet diff;\n\tlet dLen = 0;\n\n\tconst len = items.length;\n\tfor (let i = 0; i < len; i++) {\n\t\ttempItem = getCoordinates(items[i]);\n\t\tfInterval = { low: tempItem.tl.y, high: tempItem.bl.y };\n\t\tintervals = it.findAll(fInterval);\n\t\tiLen = intervals.length;\n\t\tfor (let j = 0; j < iLen; j++) {\n\t\t\tif (\n\t\t\t\tdoRectsOverlap(\n\t\t\t\t\tintervals[j].d.rect,\n\t\t\t\t\tgetItemDimenWithMargin(privateConstants.MARGIN, items[i])\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tdiff = subtractRect(\n\t\t\t\t\tintervals[j].d.rect,\n\t\t\t\t\tgetItemDimenWithMargin(privateConstants.MARGIN, items[i]),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\n\t\t\t\tdLen = diff.length;\n\t\t\t\tfor (let k = 0; k < dLen; k++) {\n\t\t\t\t\tit.insert({\n\t\t\t\t\t\tlow: diff[k].tl.y,\n\t\t\t\t\t\thigh: diff[k].bl.y,\n\t\t\t\t\t\td: {\n\t\t\t\t\t\t\tid: idCount++,\n\t\t\t\t\t\t\trect: getRectObjectFromCo(diff[k]),\n\t\t\t\t\t\t\ta: {},\n\t\t\t\t\t\t\to: {},\n\t\t\t\t\t\t\tref: null,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tit.remove(intervals[j].interval, intervals[j].d);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { it, idCount };\n};\n\nexport const assignAdjacentRects = (rectsItY) => {\n\tconst rectItYArr = rectsItY.getSortedData();\n\n\tconst len = rectItYArr.length;\n\tlet resY, lenY;\n\n\tfor (let i = 0; i < len; i++) {\n\t\tresY = rectsItY.findAll(rectItYArr[i].interval);\n\t\tlenY = resY.length;\n\t\tfor (let j = 0; j < lenY; j++) {\n\t\t\tif (areRectsAdjacent(rectItYArr[i].d.rect, resY[j].d.rect)) {\n\t\t\t\trectItYArr[i].d.a[resY[j].d.id] = resY[j];\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const mergeFreeRects = async (freeRectsArr, lastId) => {\n\tconst stack = new Stack();\n\tconst stackIt = new IntervalTreesIterative();\n\tconst resultStack = new Stack();\n\tconst resultIt = new IntervalTreesIterative();\n\n\tlet adjacents,\n\t\tadj,\n\t\ttop,\n\t\tkeys,\n\t\tkeyslen,\n\t\tmergedObject,\n\t\tmergedRect,\n\t\tmergedRects,\n\t\tmergeRectsLen;\n\tlet atLeastOneFullMerge = false;\n\tlet idCount = lastId;\n\tconst freeRectsLen = freeRectsArr.length;\n\n\tfor (let k = 0; k < freeRectsLen; k++) {\n\t\tif (freeRectsArr[k].d.ref !== null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tstack.push(freeRectsArr[k]);\n\t\twhile (!stack.isEmpty()) {\n\t\t\ttop = stack.pop();\n\n\t\t\tkeys = Object.keys(top.d.a);\n\t\t\tkeyslen = keys.length;\n\t\t\tatLeastOneFullMerge = false;\n\t\t\tfor (let i = 0; i < keyslen; i++) {\n\t\t\t\tif (!top.d.a[keys[i]]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tadj = top.d.a[keys[i]];\n\n\t\t\t\twhile (adj?.d?.ref) {\n\t\t\t\t\tadj = adj.d.ref;\n\t\t\t\t}\n\n\t\t\t\tmergedRects = mergeRects(top.d.rect, adj.d.rect);\n\t\t\t\tmergeRectsLen = mergedRects?.length || 0;\n\t\t\t\tif (mergeRectsLen === 1) {\n\t\t\t\t\tmergedRect = mergedRects[0];\n\n\t\t\t\t\tif (mergedRect) {\n\t\t\t\t\t\tadjacents = { ...top.d.a, ...adj.d.a };\n\t\t\t\t\t\tdelete adjacents[top.d.id];\n\t\t\t\t\t\tdelete adjacents[adj.d.id];\n\n\t\t\t\t\t\tmergedObject = {\n\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\tid: idCount++,\n\t\t\t\t\t\t\t\trect: mergedRect,\n\t\t\t\t\t\t\t\ta: adjacents,\n\t\t\t\t\t\t\t\to: {},\n\t\t\t\t\t\t\t\tref: null,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tfilterAdjacents(mergedObject);\n\t\t\t\t\t\tif (!isRectIdenticalOrInside(stackIt, mergedObject)) {\n\t\t\t\t\t\t\tstack.push(mergedObject);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (isRectInside(mergedRect, adj.d.rect)) {\n\t\t\t\t\t\t\tadj.d.ref = mergedObject;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (isRectInside(mergedRect, top.d.rect)) {\n\t\t\t\t\t\t\ttop.d.ref = mergedObject;\n\t\t\t\t\t\t\tatLeastOneFullMerge = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!atLeastOneFullMerge) {\n\t\t\t\tisRectIdenticalOrInside(resultIt, top);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { mergedRects: resultIt.getSortedData(), idCount };\n};\n\nexport const isRectIdenticalOrInside = (it, obj) => {\n\tconst res = it.findAll({\n\t\tlow: obj.d.rect.y,\n\t\thigh: obj.d.rect.y + obj.d.rect.height,\n\t});\n\n\tlet isIdenticalOrInside = false;\n\tconst len = res?.length || 0;\n\tfor (let i = 0; i < len; i++) {\n\t\tif (\n\t\t\tareRectsIdentical(\n\t\t\t\tgetCoordinates(obj.d.rect),\n\t\t\t\tgetCoordinates(res[i].d.rect)\n\t\t\t) ||\n\t\t\tisRectInside(res[i].d.rect, obj.d.rect)\n\t\t) {\n\t\t\tisIdenticalOrInside = true;\n\t\t}\n\t}\n\n\tif (!isIdenticalOrInside) {\n\t\tit.insert({\n\t\t\tlow: obj.d.rect.y,\n\t\t\thigh: obj.d.rect.y + obj.d.rect.height,\n\t\t\td: obj.d,\n\t\t});\n\t}\n\n\treturn isIdenticalOrInside;\n};\n\nexport const filterAdjacents = (mergedObject, visited) => {\n\tconst mergedRect = mergedObject.d.rect;\n\tconst adjs = mergedObject.d.a;\n\tlet adj;\n\tconst adjsKeys = Object.keys(adjs);\n\tconst adjsKeysLen = adjsKeys.length;\n\tfor (let j = 0; j < adjsKeysLen; j++) {\n\t\tadj = adjs[adjsKeys[j]];\n\n\t\tif (!areRectsAdjacent(mergedRect, adj.d.rect)) {\n\t\t\tdelete adjs[adjsKeys[j]];\n\t\t}\n\t}\n};\n\nexport const findOverlapped = (mergedRects) => {\n\tconst it = new IntervalTreesIterative();\n\n\tconst len = mergedRects.length;\n\tfor (let i = 0; i < len; i++) {\n\t\tmergedRects[i].low = mergedRects[i].d.rect.y;\n\t\tmergedRects[i].high =\n\t\t\tmergedRects[i].d.rect.y + mergedRects[i].d.rect.height;\n\t\tit.insert(mergedRects[i]);\n\t}\n\n\tconst completeOverlapped = {};\n\tconst itArr = it.getSortedData();\n\n\tlet res, rlen;\n\n\tfor (let i = 0; i < len; i++) {\n\t\tres = it.findAll(itArr[i].interval);\n\t\trlen = res.length;\n\t\tfor (let j = 0; j < rlen; j++) {\n\t\t\tif (\n\t\t\t\titArr[i].d.rect &&\n\t\t\t\tres[j].d.rect &&\n\t\t\t\tisRectInside(itArr[i].d.rect, res[j].d.rect) &&\n\t\t\t\titArr[i].d.id !== res[j].d.id\n\t\t\t) {\n\t\t\t\tcompleteOverlapped[res[j].d.id] = res[j];\n\t\t\t\tres[j].d._rect = res[j].d.rect;\n\t\t\t\tres[j].d.rect = null;\n\n\t\t\t\tconst olpds = Object.values(res[j].d.o);\n\t\t\t\tconst oLen = olpds.length;\n\t\t\t\tfor (let k = 0; k < oLen; k++) {\n\t\t\t\t\t// Hey everyone I'm done.\n\t\t\t\t\tconst olpd = olpds[k];\n\t\t\t\t\tdelete olpd.d.o[res[j].d.id];\n\t\t\t\t}\n\t\t\t\tres[j].d.o = {};\n\t\t\t} else if (doRectsOverlap(itArr[i].d.rect, res[j].d.rect)) {\n\t\t\t\titArr[i].d.o[res[j].d.id] = res[j];\n\t\t\t\tres[j].d.o[itArr[i].d.id] = itArr[i];\n\t\t\t}\n\t\t}\n\t}\n\n\tconst resArr = new Array(len);\n\tlet count = 0;\n\tfor (let i = 0; i < len; i++) {\n\t\tif (itArr[i].d.rect) {\n\t\t\tresArr[count++] = itArr[i];\n\t\t}\n\t}\n\n\tconst filteredResArr = new Array(count);\n\tfor (let i = 0; i < count; i++) {\n\t\tfilteredResArr[i] = resArr[i];\n\t}\n\n\treturn {\n\t\toverlappedRects: filteredResArr,\n\t\tcompleteOverlapped: Object.values(completeOverlapped),\n\t};\n};\n\n/**\n * [description]\n * @param  {number[]} itemsToArrange          Array of items to arrange\n * @param  {object[]} overlappedRects         Array of overlapping rects\n * @param  {object} topWorkSpace            Top work space object in object form\n * @param  {object} bottomWorkSpace         Bottom work space object in object form\n * @param  {object} combinedWorkSpaceRectCo combined work space object in object form\n * @param  {number} lastId                  next id available\n * @return {object}                         arranged{object}: key is index in position data array, value is the object; itemsInbottomworkSpace{object}: key is index in position data array, value is also the index; idCount: next available id\n */\nexport const arrange = async (\n\tcontext,\n\titemsToArrange,\n\toverlappedRects,\n\ttopWorkSpace,\n\tbottomWorkSpace,\n\tcombinedWorkSpaceRectCo,\n\tlastId\n) => {\n\t// this function updates the modified position data\n\t// so no need to update the modified position data later\n\n\tconst mpd = getModifiedPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tlet idCount = lastId;\n\tconst arranged = {};\n\tconst itemsInBottomWorkSpace = {};\n\n\t// construct closest bst\n\tshuffle(overlappedRects);\n\tconst wCBST = new ClosestBST();\n\tconst orLen = overlappedRects.length;\n\tfor (let i = 0; i < orLen; i++) {\n\t\twCBST.insert({\n\t\t\tv: overlappedRects[i].d.rect.width,\n\t\t\td: overlappedRects[i].d,\n\t\t});\n\t}\n\n\tconst iToALen = itemsToArrange.length;\n\n\tconst itemsToArrangeStack = new Stack();\n\tconst itemsToArrangeLaterStack = new Stack();\n\n\tconst itemsToArrangeWithScore = getItemsToArrangeScore(\n\t\tcontext,\n\t\titemsToArrange\n\t);\n\tfor (let i = 0; i < iToALen; i++) {\n\t\titemsToArrangeStack.push(itemsToArrangeWithScore[i]);\n\t}\n\n\tlet top;\n\tlet aItem;\n\tlet wCBSTRes;\n\n\twhile (!itemsToArrangeStack.isEmpty()) {\n\t\ttop = itemsToArrangeStack.pop();\n\n\t\taItem = mpd[top.d];\n\n\t\twCBSTRes = wCBST.findUsingComparator(\n\t\t\tcBSTRectComparator(\n\t\t\t\tgetItemDimenWithMargin(privateConstants.MARGIN, aItem)\n\t\t\t),\n\t\t\tcBSTLComp(aItem.width),\n\t\t\tcBSTRComp\n\t\t);\n\n\t\tif (!wCBSTRes.length) {\n\t\t\titemsToArrangeLaterStack.push(top);\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst pm = getPerfectMatch(wCBSTRes, aItem.width + aItem.height);\n\n\t\taItem.x = pm.d.rect.x + privateConstants.MARGIN;\n\t\taItem.y = pm.d.rect.y + privateConstants.MARGIN;\n\n\t\tarranged[top.d] = aItem;\n\n\t\tif (bottomWorkSpace && isRectInside(bottomWorkSpace, pm.d.rect)) {\n\t\t\t// put in bottom and combined workspace\n\t\t\titemsInBottomWorkSpace[top.d] = top.d;\n\t\t}\n\n\t\t// DEBUG:\n\t\t// printMergedFreeRects(context, wCBST.getSortedData().map((o) => o.d));\n\n\t\tconst { result, idCount: lastId1 } = await arrangeCleanUp(\n\t\t\tcontext,\n\t\t\taItem,\n\t\t\tpm,\n\t\t\twCBST,\n\t\t\tidCount\n\t\t);\n\t\tidCount = lastId1;\n\n\t\tconst resLen = result.length;\n\t\tfor (let i = 0; i < resLen; i++) {\n\t\t\tresult[i].v = result[i].d.rect.width;\n\t\t\twCBST.insert(result[i]);\n\t\t}\n\t\t// DEBUG:\n\t\t// printMergedFreeRects(context, wCBST.getSortedData().map((o) => o.d));\n\t}\n\n\treturn {\n\t\tarranged,\n\t\titemsInBottomWorkSpace,\n\t\tidCount,\n\t};\n};\n\nexport const arrangeCleanUp = async (context, aItem, pm, wCBST, lastId) => {\n\tconst privateConstants = getPrivateConstants(context);\n\n\tlet idCount = lastId;\n\tlet diff;\n\tlet diffLen;\n\tlet diffObj;\n\n\t// overlapped\n\tlet olpd;\n\t// indirect operlapped\n\tlet iolpd;\n\t// indirect overlapping keys\n\tlet ioKeys;\n\tlet ioKeysLen;\n\n\tconst indirectOverlaps = {};\n\n\tconst diffStack = new Stack();\n\n\tconst itemWithMargins = {\n\t\tx: aItem.x - privateConstants.MARGIN,\n\t\ty: aItem.y - privateConstants.MARGIN,\n\t\twidth: aItem.width + privateConstants.MARGIN * 2,\n\t\theight: aItem.height + privateConstants.MARGIN * 2,\n\t};\n\twCBST.remove(pm.v, pm.d);\n\n\tdiff = subtractRect(pm.d.rect, itemWithMargins);\n\tdiffLen = diff?.length || 0;\n\tfor (let i = 0; i < diffLen; i++) {\n\t\tdiffObj = {\n\t\t\tv: diff[i].width,\n\t\t\td: {\n\t\t\t\tid: idCount++,\n\t\t\t\trect: diff[i],\n\t\t\t\ta: {},\n\t\t\t\to: {},\n\t\t\t\tref: null,\n\t\t\t},\n\t\t};\n\n\t\tdiffStack.push(diffObj);\n\t}\n\n\tlet subtractFlag = false;\n\tconst directOverlaps = { ...pm.d.o };\n\tconst pmOlps = Object.values(pm.d.o);\n\tconst pmOlapsLen = pmOlps.length;\n\tfor (let j = 0; j < pmOlapsLen; j++) {\n\t\tolpd = pmOlps[j];\n\t\tdelete olpd.d.o[pm.d.id];\n\n\t\t// if diffLen is 0, this overlapping rect will be put back later after operations\n\t\twCBST.remove(olpd.d.rect.width, olpd.d);\n\n\t\tsubtractFlag = false;\n\t\tif (doRectsOverlap(olpd.d.rect, itemWithMargins)) {\n\t\t\tsubtractFlag = true;\n\t\t\tdiff = subtractRect(olpd.d.rect, itemWithMargins);\n\t\t\tdiffLen = diff?.length || 0;\n\n\t\t\tif (diffLen) {\n\t\t\t\tfor (let k = 0; k < diffLen; k++) {\n\t\t\t\t\tdiffObj = {\n\t\t\t\t\t\tv: diff[k].width,\n\t\t\t\t\t\td: {\n\t\t\t\t\t\t\tid: idCount++,\n\t\t\t\t\t\t\trect: diff[k],\n\t\t\t\t\t\t\ta: {},\n\t\t\t\t\t\t\to: {},\n\t\t\t\t\t\t\tref: null,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\n\t\t\t\t\tdiffStack.push(diffObj);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tdiffStack.push(olpd);\n\t\t\tolpd.d.a = {};\n\t\t}\n\n\t\tioKeys = Object.keys(olpd.d.o);\n\t\tioKeysLen = ioKeys.length;\n\t\tfor (let k = 0; k < ioKeysLen; k++) {\n\t\t\tiolpd = olpd.d.o[ioKeys[k]];\n\t\t\tif (!directOverlaps[ioKeys[k]]) {\n\t\t\t\tindirectOverlaps[ioKeys[k]] = iolpd;\n\t\t\t}\n\t\t\tif (subtractFlag) {\n\t\t\t\tdelete iolpd.d.o[olpd.d.id];\n\t\t\t}\n\t\t}\n\t}\n\n\t// now merge the rects in diff stack and put the merged rects in wCBST tree\n\t// printUnmergedFreeRects(context, diffStack.getData().map((o) => o.d));\n\tconst diffStackData = diffStack.getData();\n\tconst diffStackDataLen = diffStackData.length;\n\tconst it = new IntervalTreesIterative();\n\tfor (let i = 0; i < diffStackDataLen; i++) {\n\t\tit.insert({\n\t\t\tlow: diffStackData[i].d.rect.y,\n\t\t\thigh: diffStackData[i].d.rect.y + diffStackData[i].d.rect.height,\n\t\t\td: diffStackData[i].d,\n\t\t});\n\t}\n\n\tassignAdjacentRects(it);\n\tconst { mergedRects, idCount: lastId1 } = await mergeFreeRects(\n\t\tdiffStack.getData(),\n\t\tidCount\n\t);\n\n\tconst {\n\t\toverlappedRects: _overlappedRects,\n\t\tcompleteOverlapped,\n\t} = findOverlapped([...mergedRects, ...Object.values(indirectOverlaps)]);\n\n\tconst completeOverlappedLen = completeOverlapped.length;\n\tfor (let i = 0; i < completeOverlappedLen; i++) {\n\t\twCBST.remove(completeOverlapped[i].d._rect.width, completeOverlapped[i].d);\n\t}\n\n\tconst _overlappedRectsLen = _overlappedRects.length;\n\tconst overlappedRects = new Array(_overlappedRectsLen);\n\tlet count = 0;\n\tfor (let i = 0; i < _overlappedRectsLen; i++) {\n\t\tif (!indirectOverlaps[_overlappedRects[i].d.id]) {\n\t\t\toverlappedRects[count++] = _overlappedRects[i];\n\t\t}\n\t}\n\n\tconst filteredOverlappedRects = filter(overlappedRects);\n\n\t// printMergedFreeRects(context, filteredOverlappedRects.map((o) => o.d));\n\n\treturn { result: filteredOverlappedRects, idCount: lastId1 };\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport { isValidRectCoForm, getCoordinates } from \"../rect/rectUtils\";\nimport { getItemDimenWithMargin } from \"../arrange/arrangeUtils\";\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport { getPositionData } from \"../../store/variables/essentials\";\n\nexport const checkPositionData = (pd) => {\n\tif (Array.isArray(pd)) {\n\t\tconst len = pd.length;\n\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tif (\n\t\t\t\t!pd[i] ||\n\t\t\t\tisNaN(pd[i].x) ||\n\t\t\t\tpd[i].x < 0 ||\n\t\t\t\tisNaN(pd[i].y) ||\n\t\t\t\tpd[i].y < 0 ||\n\t\t\t\tisNaN(pd[i].height) ||\n\t\t\t\tpd[i].height <= 0 ||\n\t\t\t\tisNaN(pd[i].width) ||\n\t\t\t\tpd[i].width <= 0\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!isValidRectCoForm(getCoordinates(pd[i]))) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\treturn false;\n};\n\nexport const getPdBottomMax = (context) => {\n\tconst pd = getPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tlet max = privateConstants.MARGIN;\n\tlet item;\n\tconst len = pd.length;\n\n\tfor (let i = 0; i < len; i++) {\n\t\titem = getItemDimenWithMargin(privateConstants.MARGIN, pd[i]);\n\t\tif (item.y + item.height > max) {\n\t\t\tmax = item.y + item.height;\n\t\t}\n\t}\n\n\treturn max;\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport getOptions from \"../../store/variables/options\";\nimport getElements, {\n\tset$limberGridViewItems,\n} from \"../../store/variables/elements\";\nimport {\n\tgetPositionData,\n\tsetPositionData,\n\tgetModifiedPositionData,\n\tsetModifiedPositionData,\n\tgetCallbacks,\n} from \"../../store/variables/essentials\";\nimport { isMobile } from \"../utils/utils\";\n\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport getPublicConstants from \"../../store/constants/publicConstants\";\nimport {\n\tinitializeEvents,\n\tunInitializeEvents,\n\tinitializeVariables,\n} from \"../eventHandlerLib/initializers\";\nimport { addItemAllowCheck } from \"../arrange/arrangeUtils\";\nimport { arrangeFromHeight } from \"../arrange/arrange\";\nimport { getPdBottomMax } from \"./rendererUtils\";\n\nexport const render = function (context, scale = true) {\n\tconst options = getOptions(context);\n\tconst pd = getPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\tconst publicConstants = getPublicConstants(context);\n\tconst e = getElements(context);\n\tconst callbacks = getCallbacks(context);\n\n\tunInitializeEvents.call(context);\n\n\tconst len = pd.length;\n\n\tlet WIDTH_SCALE_FACTOR = 1;\n\tif (scale) {\n\t\tWIDTH_SCALE_FACTOR = privateConstants.WIDTH_SCALE_FACTOR;\n\t}\n\n\tconst nodes = new Array(len);\n\tlet spd;\n\n\tif (!isMobile(context)) {\n\t\tlet classList = \"limber-grid-view-item\";\n\t\tif (options.editable === true) {\n\t\t\tclassList = \"limber-grid-view-item limber-grid-view-item-editable\";\n\t\t}\n\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tpd[i].x *= WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].y *= WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].width *= WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].height *= WIDTH_SCALE_FACTOR;\n\n\t\t\tconst itemEl = document.createElement(\"div\");\n\t\t\titemEl.setAttribute(\"class\", classList);\n\t\t\titemEl.setAttribute(\"data-index\", i);\n\t\t\titemEl.style.transform = `translate(${pd[i].x}px, ${pd[i].y}px)`;\n\t\t\titemEl.style.width = `${pd[i].width}px`;\n\t\t\titemEl.style.height = `${pd[i].height}px`;\n\n\t\t\t// const renderData = callbacks.renderContent(i, pd[i].width, pd[i].height);\n\t\t\t// renderItemContent(context, renderData, itemEl);\n\n\t\t\tnodes[i] = itemEl;\n\t\t}\n\t} else {\n\t\tconst classList = \"limber-grid-view-item limber-grid-view-item-mobile-view\";\n\t\tspd = getSerializedPositionData(pd);\n\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tpd[i].x *= WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].y *= WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].width *= WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].height *= WIDTH_SCALE_FACTOR;\n\n\t\t\tspd[i].width = privateConstants.WIDTH;\n\t\t\tspd[i].height =\n\t\t\t\tprivateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO;\n\n\t\t\tconst itemEl = document.createElement(\"div\");\n\t\t\titemEl.setAttribute(\"class\", classList);\n\t\t\titemEl.setAttribute(\"data-index\", spd[i].index);\n\t\t\titemEl.style.width = `${spd[i].width}px`;\n\t\t\titemEl.style.height = `${spd[i].height}px`;\n\n\t\t\t// const renderData = callbacks.renderContent(\n\t\t\t// \ti,\n\t\t\t// \tspd[i].width,\n\t\t\t// \tspd[i].height\n\t\t\t// );\n\t\t\t// renderItemContent(context, renderData, itemEl);\n\n\t\t\tnodes[i] = itemEl;\n\t\t}\n\t}\n\n\t// e.$limberGridView.innerHTML = \"\";\n\tconst itemsLen = e.$limberGridViewItems.length;\n\tfor (let i = 0; i < itemsLen; i++) {\n\t\te.$limberGridView.removeChild(e.$limberGridViewItems[i]);\n\t}\n\n\tfor (let i = 0; i < len; i++) {\n\t\te.$limberGridView.appendChild(nodes[i]);\n\t}\n\n\tfor (let i = 0; i < len; i++) {\n\t\tconst itemEl = nodes[i];\n\t\tif (!isMobile(context)) {\n\t\t\tconst renderData = callbacks.renderContent(i, pd[i].width, pd[i].height);\n\t\t\trenderItemContent(context, renderData, itemEl);\n\t\t} else {\n\t\t\tconst renderData = callbacks.renderContent(\n\t\t\t\ti,\n\t\t\t\tspd[i].width,\n\t\t\t\tspd[i].height\n\t\t\t);\n\t\t\trenderItemContent(context, renderData, itemEl);\n\t\t}\n\t}\n\n\tset$limberGridViewItems(context, [\n\t\t...e.$limberGridView.getElementsByClassName(\"limber-grid-view-item\"),\n\t]);\n\n\t// initializeVariables();\n\tinitializeEvents.call(context);\n\n\tif (callbacks.renderComplete) {\n\t\tcallbacks.renderComplete();\n\t}\n};\n\nexport const renderItem = function (context, index) {\n\tconst e = getElements(context);\n\tconst callbacks = getCallbacks(context);\n\tconst pd = getPositionData(context);\n\n\tconst renderData = callbacks.renderContent(\n\t\tindex,\n\t\tpd[index].width,\n\t\tpd[index].height\n\t);\n\t// e.$limberGridViewItems[index].innerHTML = \"\";\n\trenderItemContent(context, renderData, e.$limberGridViewItems[index]);\n\n\tif (callbacks.renderComplete) {\n\t\tcallbacks.renderComplete(index);\n\t}\n};\n\nexport const addItem = async function (context, item) {\n\tconst options = getOptions(context);\n\tconst e = getElements(context);\n\tconst callbacks = getCallbacks(context);\n\tconst privateConstants = getPrivateConstants(context);\n\tconst publicConstants = getPublicConstants(context);\n\n\tunInitializeEvents.call(context);\n\n\ttry {\n\t\tlet allow = false;\n\t\tif (item.x && item.y && item.width && item.height) {\n\t\t\tallow = addItemAllowCheck(\n\t\t\t\tcontext,\n\t\t\t\titem.x,\n\t\t\t\titem.y,\n\t\t\t\titem.width,\n\t\t\t\titem.height\n\t\t\t);\n\t\t\tif (allow) {\n\t\t\t\tconst pd = getPositionData(context);\n\t\t\t\tsetModifiedPositionData(context, pd);\n\t\t\t\tconst mpd = getModifiedPositionData(context);\n\t\t\t\tmpd.push(item);\n\t\t\t\tsetPositionData(context, mpd);\n\t\t\t}\n\t\t} else if (item.width && item.height && !item.x && !item.y) {\n\t\t\tconst pd = getPositionData(context);\n\t\t\tsetModifiedPositionData(context, pd);\n\t\t\tconst mpd = getModifiedPositionData(context);\n\n\t\t\tconst bottomY = getPdBottomMax(context);\n\t\t\tmpd.push({\n\t\t\t\tx: undefined,\n\t\t\t\ty: undefined,\n\t\t\t\twidth: item.width,\n\t\t\t\theight: item.height,\n\t\t\t});\n\t\t\tconst arranged = await arrangeFromHeight(\n\t\t\t\tcontext,\n\t\t\t\t[mpd.length - 1],\n\t\t\t\tbottomY\n\t\t\t);\n\t\t\tsetPositionData(context, mpd);\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst pd = getPositionData(context);\n\t\tconst len = pd.length;\n\t\tconst index = len - 1;\n\t\tlet renderData;\n\n\t\tconst itemEl = document.createElement(\"div\");\n\t\tif (!isMobile(context)) {\n\t\t\tlet classList = \"limber-grid-view-item\";\n\t\t\tif (options.editable === true) {\n\t\t\t\tclassList = \"limber-grid-view-item limber-grid-view-item-editable\";\n\t\t\t}\n\n\t\t\titemEl.setAttribute(\"class\", classList);\n\t\t\titemEl.setAttribute(\"data-index\", index);\n\t\t\titemEl.style.transform = `translate(${pd[index].x}px, ${pd[index].y}px)`;\n\t\t\titemEl.style.width = `${pd[index].width}px`;\n\t\t\titemEl.style.height = `${pd[index].height}px`;\n\n\t\t\trenderData = callbacks.renderContent(\n\t\t\t\tindex,\n\t\t\t\tpd[index].width,\n\t\t\t\tpd[index].height,\n\t\t\t\t\"isAdd\"\n\t\t\t);\n\t\t} else {\n\t\t\tconst classList =\n\t\t\t\t\"limber-grid-view-item limber-grid-view-item-mobile-view\";\n\n\t\t\titemEl.setAttribute(\"class\", classList);\n\t\t\titemEl.setAttribute(\"data-index\", index);\n\t\t\titemEl.style.width = `${privateConstants.WIDTH}px`;\n\t\t\titemEl.style.height = `${\n\t\t\t\tprivateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO\n\t\t\t}px`;\n\n\t\t\trenderData = callbacks.renderContent(\n\t\t\t\tindex,\n\t\t\t\tprivateConstants.WIDTH,\n\t\t\t\tprivateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO,\n\t\t\t\t\"isAdd\"\n\t\t\t);\n\t\t}\n\n\t\te.$limberGridView.appendChild(itemEl);\n\n\t\trenderItemContent(context, renderData, itemEl);\n\n\t\tset$limberGridViewItems(context, [\n\t\t\t...e.$limberGridView.getElementsByClassName(\"limber-grid-view-item\"),\n\t\t]);\n\n\t\tif (callbacks.addComplete) {\n\t\t\tcallbacks.addComplete(index);\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(error);\n\t}\n\n\tinitializeEvents.call(context);\n};\n\nexport const removeItem = function (context, index) {\n\tconst e = getElements(context);\n\tconst callbacks = getCallbacks(context);\n\tconst pd = getPositionData(context);\n\n\tunInitializeEvents.call(context);\n\n\tpd.splice(index, 1);\n\n\te.$limberGridView.removeChild(e.$limberGridViewItems[index]);\n\tset$limberGridViewItems(context, [\n\t\t...e.$limberGridView.getElementsByClassName(\"limber-grid-view-item\"),\n\t]);\n\n\tif (callbacks.removeComplete) {\n\t\tcallbacks.removeComplete(index, e.$limberGridViewItems[index]);\n\t}\n\n\t// initializeVariables();\n\tinitializeEvents.call(context);\n};\n\nexport const getSerializedPositionData = (pd) => {\n\tconst len = pd.length;\n\tconst arr = new Array(len);\n\tfor (let i = 0; i < len; i++) {\n\t\tarr[i] = { ...pd[i] };\n\t\tarr[i].index = i;\n\t}\n\n\treturn arr.sort((a, b) => {\n\t\tif (a.y === b.y) {\n\t\t\treturn a.x - b.x;\n\t\t}\n\t\treturn a.y - b.y;\n\t});\n};\n\nexport const renderItemContent = (context, renderData, itemEl) => {\n\tconst callbacks = getCallbacks(context);\n\tif (typeof renderData === \"string\") {\n\t\titemEl.innerHTML = renderData;\n\t} else if (renderData instanceof Element) {\n\t\titemEl.innerHTML = \"\";\n\t\titemEl.appendChild(renderData);\n\t} else if (callbacks.renderPlugin) {\n\t\tcallbacks.renderPlugin(renderData, itemEl);\n\t} else {\n\t\tthrow \"Invalid render data received\";\n\t}\n};\n\n// export const renderPseudoElements = function (_positionData) {\n// \tif (e.$limberGridViewGridPseudoItems != undefined) {\n// \t\tvar length_0 = _positionData.length;\n// \t\tfor (var i = 0; i < length_0; i++) {\n// \t\t\te.$limberGridViewGridPseudoItems[0].parentNode.removeChild(\n// \t\t\t\te.$limberGridViewGridPseudoItems[0]\n// \t\t\t);\n// \t\t}\n// \t\te.$limberGridViewGridPseudoItems = undefined;\n// \t\tset$limberGridViewBodyPseudoItems(undefined);\n// \t}\n\n// \tvar gridHtml = [];\n// \tvar bodyHtml = [];\n\n// \tif (!isMobile()) {\n// \t\tvar length_0 = _positionData.length;\n// \t\tfor (var i = 0; i < length_0; i++) {\n// \t\t\tvar gridFront =\n// \t\t\t\t'<div class = \"limberGridViewGridPseudoItem\" data-index = \"' + i + '\" ';\n// \t\t\tvar bodyFront =\n// \t\t\t\t'<div class = \"limberGridViewBodyPseudoItem\" data-index = \"' + i + '\" ';\n// \t\t\tvar style_1 =\n// \t\t\t\t'style = \"transform : translate(' + _positionData[i].x + \"px, \";\n// \t\t\tvar style_2 = _positionData[i].y + \"px); \";\n// \t\t\tvar style_3 = \"width : \" + _positionData[i].width + \"px; \";\n// \t\t\tvar style_4 = \"height : \" + _positionData[i].height + \"px; \";\n// \t\t\tvar style_5 = '\">';\n\n// \t\t\tvar style = style_1 + style_2 + style_3 + style_4 + style_5;\n\n// \t\t\tvar end = \"</div>\";\n\n// \t\t\tvar gridItem = gridFront + style + end;\n// \t\t\tvar bodyItem = bodyFront + style + end;\n\n// \t\t\tgridHtml.push(gridItem);\n// \t\t\tbodyHtml.push(bodyItem);\n// \t\t}\n// \t} else {\n// \t\tvar length_0 = _positionData.length;\n// \t\tfor (var i = 0; i < length_0; i++) {\n// \t\t\tvar gridFront =\n// \t\t\t\t'<div class = \"limberGridViewGridPseudoItem\" data-index = \"' + i + '\" ';\n// \t\t\tvar bodyFront =\n// \t\t\t\t'<div class = \"limberGridViewBodyPseudoItem\" data-index = \"' + i + '\" ';\n// \t\t\tvar style_1 = 'style = \"transform : translate(' + 0 + \"px, \";\n// \t\t\tvar style_2 =\n// \t\t\t\t(privateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO +\n// \t\t\t\t\tgetMarginAtPoint(serializedPositionData.map[i])) *\n// \t\t\t\t\tserializedPositionData.map[i] +\n// \t\t\t\t\"px); \";\n// \t\t\tvar style_3 = \"width : \" + privateConstants.WIDTH + \"px; \";\n// \t\t\tvar style_4 =\n// \t\t\t\t\"height : \" +\n// \t\t\t\tprivateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO +\n// \t\t\t\t\"px; \";\n// \t\t\tvar style_5 = \"margin : \" + publicConstants.MARGIN + 'px;\">';\n\n// \t\t\tvar style = style_1 + style_2 + style_3 + style_4 + style_5;\n\n// \t\t\tvar end = \"</div>\";\n\n// \t\t\tvar gridItem = gridFront + style + end;\n// \t\t\tvar bodyItem = bodyFront + style + end;\n\n// \t\t\tgridHtml.push(gridItem);\n// \t\t\tbodyHtml.push(bodyItem);\n// \t\t}\n// \t}\n// \tvar limberGridViewMoveGuide = '<div class = \"limberGridViewMoveGuide\"></div>';\n// \tvar limberGridViewHeightAdjustGuide =\n// \t\t'<div class = \"limberGridViewHeightAdjustGuide\"></div>';\n// \tvar limberGridViewAddItemGuide =\n// \t\t'<div class = \"limberGridViewAddItemGuide\"></div>';\n// \tvar limberGridViewAddItemOnTouchHoldGuide =\n// \t\t'<div class = \"limberGridViewAddItemOnTouchHoldGuide\"></div>';\n// \tgridHtml.push(limberGridViewMoveGuide);\n// \tgridHtml.push(limberGridViewHeightAdjustGuide);\n// \tgridHtml.push(limberGridViewAddItemGuide);\n// \tgridHtml.push(limberGridViewAddItemOnTouchHoldGuide);\n\n// \te.$bodyPseudoEl.innerHTML = bodyHtml.join(\"\");\n// \te.$limberGridView[0].insertAdjacentHTML(\"beforeend\", gridHtml.join(\"\"));\n// \tset$limberGridViewGridPseudoItems(\n// \t\te.$limberGridView[0].getElementsByClassName(\"limberGridViewGridPseudoItem\")\n// \t);\n// \tset$limberGridViewBodyPseudoItems(\n// \t\te.$bodyPseudoEl.getElementsByClassName(\"limberGridViewBodyPseudoItem\")\n// \t);\n// \tset$limberGridViewMoveGuide(\n// \t\te.$limberGridView[0].getElementsByClassName(\"limberGridViewMoveGuide\")\n// \t);\n// \tset$limberGridViewHeightAdjustGuide(\n// \t\te.$limberGridView[0].getElementsByClassName(\n// \t\t\t\"limberGridViewHeightAdjustGuide\"\n// \t\t)\n// \t);\n// \tset$limberGridViewAddItemGuide(\n// \t\te.$limberGridView[0].getElementsByClassName(\"limberGridViewAddItemGuide\")\n// \t);\n// \tset$limberGridViewAddItemOnTouchHoldGuide(\n// \t\te.$limberGridView[0].getElementsByClassName(\n// \t\t\t\"limberGridViewAddItemOnTouchHoldGuide\"\n// \t\t)\n// \t);\n// };\n\n// export const renderItems = function (\n// \titems,\n// \tscale = true,\n// \tprocessType = \"onDemand\"\n// ) {\n// \tunInitializeEvents();\n// \tvar scrollTop = e.$limberGridView[0].scrollTop;\n// \tif (scale == true) {\n// \t\tvar WIDTH_SCALE_FACTOR = privateConstants.WIDTH_SCALE_FACTOR;\n// \t} else {\n// \t\tvar WIDTH_SCALE_FACTOR = 1;\n// \t}\n\n// \tvar classList = [\"limberGridViewItem\"];\n// \tif (options.editable == true) {\n// \t\tclassList.push(\"limberGridViewItemEditable\");\n// \t}\n\n// \tvar html = [];\n\n// \t// dev Code\n// \tvar t0 = performance.now();\n// \t// dev Code END\n// \tif (!isMobile()) {\n// \t\te.$limberGridViewContainer[0].removeChild(e.$limberGridView[0]);\n// \t\tvar length_0 = items.length;\n// \t\tfor (var i = 0; i < length_0; i++) {\n// \t\t\tpositionData[items[i]].width *= WIDTH_SCALE_FACTOR;\n// \t\t\tif (positionData[items[i]].width > privateConstants.WIDTH) {\n// \t\t\t\tpositionData[items[i]].width = privateConstants.WIDTH;\n// \t\t\t}\n// \t\t\tvar div = document.createElement(\"div\");\n// \t\t\tvar attribute = document.createAttribute(\"data-index\");\n// \t\t\tattribute.value = items[i];\n// \t\t\tdiv.setAttributeNode(attribute);\n\n// \t\t\tif (classList.length > 0) {\n// \t\t\t\tdiv.classList.add(classList[0]);\n// \t\t\t\tdiv.classList.add(classList[1]);\n// \t\t\t} else {\n// \t\t\t\tdiv.classList.add(classList[0]);\n// \t\t\t}\n\n// \t\t\tdiv.style.transform =\n// \t\t\t\t\"translate(\" +\n// \t\t\t\t(positionData[items[i]].x *= WIDTH_SCALE_FACTOR) +\n// \t\t\t\t\"px, \" +\n// \t\t\t\t(positionData[items[i]].y *= WIDTH_SCALE_FACTOR) +\n// \t\t\t\t\"px)\";\n// \t\t\tdiv.style.width = positionData[items[i]].width + \"px\";\n// \t\t\tdiv.style.height =\n// \t\t\t\t(positionData[items[i]].height *= WIDTH_SCALE_FACTOR) + \"px\";\n\n// \t\t\tvar userData = callbacks.getItemRenderDataCallback(\n// \t\t\t\titems[i],\n// \t\t\t\tpositionData[items[i]].width,\n// \t\t\t\tpositionData[items[i]].height,\n// \t\t\t\tprocessType\n// \t\t\t);\n// \t\t\tif (typeof userData == \"string\") {\n// \t\t\t\tdiv.innerHTML = userData;\n// \t\t\t} else {\n// \t\t\t\tdiv.appendChild(userData);\n// \t\t\t}\n\n// \t\t\tif (\n// \t\t\t\te.$limberGridViewItems[items[i]] == undefined ||\n// \t\t\t\te.$limberGridViewItems[items[i]] == null\n// \t\t\t) {\n// \t\t\t\te.$limberGridView[0].appendChild(div);\n// \t\t\t} else {\n// \t\t\t\te.$limberGridView[0].replaceChild(\n// \t\t\t\t\tdiv,\n// \t\t\t\t\te.$limberGridViewItems[items[i]]\n// \t\t\t\t);\n// \t\t\t}\n// \t\t}\n// \t\te.$limberGridViewContainer[0].appendChild(e.$limberGridView[0]);\n// \t} else {\n// \t\te.$limberGridViewContainer[0].removeChild(e.$limberGridView[0]);\n// \t\tvar length_0 = items.length;\n// \t\tfor (var i = 0; i < length_0; i++) {\n// \t\t\tvar div = document.createElement(\"div\");\n// \t\t\tvar attribute = document.createAttribute(\"data-index\");\n// \t\t\tattribute.value = items[i];\n// \t\t\tdiv.setAttributeNode(attribute);\n\n// \t\t\tdiv.classList.add(\"limberGridViewItem\");\n// \t\t\tdiv.style.transform =\n// \t\t\t\t\"translate(\" +\n// \t\t\t\t0 +\n// \t\t\t\t\"px, \" +\n// \t\t\t\t(privateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO +\n// \t\t\t\t\tgetMarginAtPoint(serializedPositionData.map[items[i]])) *\n// \t\t\t\t\tserializedPositionData.map[items[i]] +\n// \t\t\t\t\"px)\";\n// \t\t\tdiv.style.width = privateConstants.WIDTH + \"px\";\n// \t\t\tdiv.style.height =\n// \t\t\t\tprivateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO + \"px\";\n\n// \t\t\tvar userData = callbacks.getItemRenderDataCallback(\n// \t\t\t\titems[i],\n// \t\t\t\tprivateConstants.WIDTH,\n// \t\t\t\tprivateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO,\n// \t\t\t\tprocessType\n// \t\t\t);\n// \t\t\tif (typeof userData == \"string\") {\n// \t\t\t\tdiv.innerHTML = userData;\n// \t\t\t} else {\n// \t\t\t\tdiv.appendChild(userData);\n// \t\t\t}\n\n// \t\t\tif (\n// \t\t\t\te.$limberGridViewItems[items[i]] == undefined ||\n// \t\t\t\te.$limberGridViewItems[items[i]] == null\n// \t\t\t) {\n// \t\t\t\te.$limberGridView[0].appendChild(div);\n// \t\t\t} else {\n// \t\t\t\te.$limberGridView[0].replaceChild(\n// \t\t\t\t\tdiv,\n// \t\t\t\t\te.$limberGridViewItems[items[i]]\n// \t\t\t\t);\n// \t\t\t}\n// \t\t}\n// \t\te.$limberGridViewContainer[0].appendChild(e.$limberGridView[0]);\n// \t}\n\n// \t// dev Code\n// \tvar t1 = performance.now();\n// \tconsole.log(t0);\n// \tconsole.log(t1);\n// \tconsole.log(t1 - t0);\n// \t// dev Code END\n// \te.$limberGridViewItems = e.$limberGridView[0].querySelectorAll(\n// \t\t\".limberGridViewItem\"\n// \t);\n\n// \trenderPseudoItems(items);\n\n// \tinitializeVariables();\n// \tinitializeEvents();\n\n// \tvar renderDetails = {\n// \t\titems: JSON.parse(JSON.stringify(items)),\n// \t\tscale: scale,\n// \t\tprocessType: processType,\n// \t};\n\n// \tif (\n// \t\tcallbacks.itemsRenderComplete != undefined &&\n// \t\tcallbacks.itemsRenderComplete != null &&\n// \t\tprocessType != \"addItems\" &&\n// \t\tprocessType != \"resizeItems\" &&\n// \t\tprocessType != \"removeItems\" &&\n// \t\tprocessType != \"addItemInteractive\"\n// \t) {\n// \t\te.$limberGridView[0].scrollTop = scrollTop;\n// \t\tcallbacks.itemsRenderComplete(\n// \t\t\trenderDetails.items,\n// \t\t\tscale,\n// \t\t\tprocessType,\n// \t\t\tscrollTop\n// \t\t);\n// \t}\n\n// \treturn renderDetails;\n// };\n\n// export const renderPseudoItems = function (items) {\n// \tvar gridHtml = [];\n// \tvar bodyHtml = [];\n\n// \tif (!isMobile()) {\n// \t\te.$limberGridViewContainer[0].removeChild(e.$limberGridView[0]);\n// \t\te.$body[0].removeChild(e.$bodyPseudoEl);\n// \t\tvar length_0 = items.length;\n// \t\tfor (var i = 0; i < length_0; i++) {\n// \t\t\tvar divGrid = document.createElement(\"div\");\n// \t\t\tvar attributeGrid = document.createAttribute(\"data-index\");\n// \t\t\tattributeGrid.value = items[i];\n// \t\t\tdivGrid.setAttributeNode(attributeGrid);\n// \t\t\tdivGrid.classList.add(\"limberGridViewGridPseudoItem\");\n// \t\t\tdivGrid.style.transform =\n// \t\t\t\t\"translate(\" +\n// \t\t\t\tpositionData[items[i]].x +\n// \t\t\t\t\"px, \" +\n// \t\t\t\tpositionData[items[i]].y +\n// \t\t\t\t\"px)\";\n// \t\t\tdivGrid.style.width = positionData[items[i]].width + \"px\";\n// \t\t\tdivGrid.style.height = positionData[items[i]].height + \"px\";\n\n// \t\t\tvar divBody = document.createElement(\"div\");\n// \t\t\tvar attributeBody = document.createAttribute(\"data-index\");\n// \t\t\tattributeBody.value = items[i];\n// \t\t\tdivBody.setAttributeNode(attributeBody);\n// \t\t\tdivBody.classList.add(\"limberGridViewBodyPseudoItem\");\n// \t\t\tdivBody.style.transform = \"translate(\" + 0 + \"px, \" + 0 + \"px)\";\n// \t\t\tdivBody.style.width = positionData[items[i]].width + \"px\";\n// \t\t\tdivBody.style.height = positionData[items[i]].height + \"px\";\n\n// \t\t\tif (\n// \t\t\t\te.$limberGridViewGridPseudoItems[items[i]] == undefined ||\n// \t\t\t\te.$limberGridViewGridPseudoItems[items[i]] == null\n// \t\t\t) {\n// \t\t\t\te.$limberGridView[0].appendChild(divGrid);\n// \t\t\t\te.$bodyPseudoEl.appendChild(divBody);\n// \t\t\t} else {\n// \t\t\t\te.$limberGridView[0].replaceChild(\n// \t\t\t\t\tdivGrid,\n// \t\t\t\t\te.$limberGridViewGridPseudoItems[items[i]]\n// \t\t\t\t);\n// \t\t\t\te.$bodyPseudoEl.replaceChild(\n// \t\t\t\t\tdivBody,\n// \t\t\t\t\te.$limberGridViewBodyPseudoItems[items[i]]\n// \t\t\t\t);\n// \t\t\t}\n// \t\t}\n// \t\te.$limberGridViewContainer[0].appendChild(e.$limberGridView[0]);\n// \t\te.$body[0].appendChild(e.$bodyPseudoEl);\n// \t} else {\n// \t\te.$limberGridViewContainer[0].removeChild(e.$limberGridView[0]);\n// \t\te.$body[0].removeChild(e.$bodyPseudoEl);\n// \t\tvar length_0 = items.length;\n// \t\tfor (var i = 0; i < length_0; i++) {\n// \t\t\tvar divGrid = document.createElement(\"div\");\n// \t\t\tvar attributeGrid = document.createAttribute(\"data-index\");\n// \t\t\tattributeGrid.value = items[i];\n// \t\t\tdivGrid.setAttributeNode(attributeGrid);\n// \t\t\tdivGrid.classList.add(\"limberGridViewGridPseudoItem\");\n// \t\t\tdivGrid.style.transform =\n// \t\t\t\t\"translate(\" +\n// \t\t\t\t0 +\n// \t\t\t\t\"px, \" +\n// \t\t\t\t(privateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO +\n// \t\t\t\t\tgetMarginAtPoint(serializedPositionData.map[i])) *\n// \t\t\t\t\tserializedPositionData.map[i] +\n// \t\t\t\t\"px)\";\n// \t\t\tdivGrid.style.width = privateConstants.WIDTH + \"px\";\n// \t\t\tdivGrid.style.height =\n// \t\t\t\tprivateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO + \"px\";\n\n// \t\t\tvar divBody = document.createElement(\"div\");\n// \t\t\tvar attributeBody = document.createAttribute(\"data-index\");\n// \t\t\tattributeBody.value = items[i];\n// \t\t\tdivBody.setAttributeNode(attributeBody);\n// \t\t\tdivBody.classList.add(\"limberGridViewBodyPseudoItem\");\n// \t\t\tdivBody.style.transform = \"translate(\" + 0 + \"px, \" + 0 + \"px)\";\n// \t\t\tdivBody.style.width = privateConstants.WIDTH + \"px\";\n// \t\t\tdivBody.style.height =\n// \t\t\t\tprivateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO + \"px\";\n\n// \t\t\tif (\n// \t\t\t\te.$limberGridViewGridPseudoItems[items[i]] == undefined ||\n// \t\t\t\te.$limberGridViewGridPseudoItems[items[i]] == null\n// \t\t\t) {\n// \t\t\t\te.$limberGridView[0].appendChild(divGrid);\n// \t\t\t\te.$bodyPseudoEl.appendChild(divBody);\n// \t\t\t} else {\n// \t\t\t\te.$limberGridView[0].replaceChild(\n// \t\t\t\t\tdivGrid,\n// \t\t\t\t\te.$limberGridViewGridPseudoItems[items[i]]\n// \t\t\t\t);\n// \t\t\t\te.$bodyPseudoEl.replaceChild(\n// \t\t\t\t\tdivBody,\n// \t\t\t\t\te.$limberGridViewBodyPseudoItems[items[i]]\n// \t\t\t\t);\n// \t\t\t}\n// \t\t}\n// \t\te.$limberGridViewContainer[0].appendChild(e.$limberGridView[0]);\n// \t\te.$body[0].appendChild(e.$bodyPseudoEl);\n// \t}\n\n// \tset$limberGridViewGridPseudoItems(\n// \t\te.$limberGridView[0].getElementsByClassName(\"limberGridViewGridPseudoItem\")\n// \t);\n// \te.$limberGridViewBodyPseudoItems = e.$bodyPseudoEl.getElementsByClassName(\n// \t\t\"limberGridViewBodyPseudoItem\"\n// \t);\n// };\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport {\n\t// getMarginAtPoint,\n\tadjustHeight,\n\tadjustScroll,\n} from \"../utils/essentials\";\nimport { getItemDimenWithMargin } from \"../utils/utils\";\n// import {\n// \tisPlaneBInsidePlaneA_TouchingIsInside,\n// \tshiftItemsUp,\n// } from \"../calc/calcUtils\";\nimport { doRectsOverlap, doRectsOnlyTouch } from \"../rect/rectUtils\";\nimport getPublicConstants from \"../../store/constants/publicConstants\";\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport {\n\tgetCallbacks,\n\tgetPositionData,\n} from \"../../store/variables/essentials\";\nimport getElements from \"../../store/variables/elements\";\nimport { calculateTouchPosOnDesk } from \"./eventHandlerUtils.js\";\nimport { loadInitState, unloadInitState } from \"./deskInteractionUtils.js\";\nimport {\n\tshiftItemsUp,\n\taddItemAllowCheck,\n\tcutSpaceAllowCheck,\n} from \"../arrange/arrangeUtils\";\nimport {\n\tinitializeItemTouchEvents,\n\tunInitializeItemTouchEvents,\n} from \"./initializers\";\nimport { getBindedFunctions } from \"../../store/variables/bindedFunctions\";\nimport { getDeskInteractionVars } from \"../../store/variables/eventSpecific\";\nimport { addItem } from \"../renderers/renderers\";\n// import { addItemsAtPositions } from \"../renderers/addOrRemoveItems\";\n\n// let userActionData = {};\n// let mouseDownCancel = false;\n// // let limberGridMouseDownCancel = false;\n// let mouseDownTimerComplete = false;\n// // let limberGridMouseDownTimerComplete = false;\n// let tapHoldCancel = false;\n// // let limberGridTouchStartCancel = false;\n// let tapHoldTimerComplete = false;\n// // let limberGridTouchStartTimerComplete = false;\n// let longPressCheck;\n// // let limberGridMouseDownCheckTimeOutVariable;\n// let longTouchCheck;\n// // let limberGridTouchStartCheckTimeOutVariable;\n// let addItemAllowCheckTimeOutVariable;\n// let cutSpaceAllowCheckTimeOutVariable;\n\nexport const onDeskMouseDown = function (event) {\n\tconst e = getElements(this);\n\tconst publicConstants = getPublicConstants(this);\n\n\tconst dkiv = getDeskInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tif (event.target.classList.contains(\"limber-grid-view\")) {\n\t\tevent.stopPropagation();\n\t} else {\n\t\treturn;\n\t}\n\n\tif (event.which !== 1) {\n\t\treturn;\n\t}\n\n\tdkiv.mouseDownCancel = false;\n\tdkiv.mouseDownTimerComplete = false;\n\n\tclearTimeout(dkiv.longPressCheck);\n\tdkiv.longPressCheck = setTimeout(\n\t\tmouseDownCheck.bind(this, event, event.offsetX, event.offsetY),\n\t\tpublicConstants.MOUSE_DOWN_TIME\n\t);\n\n\te.$limberGridView.addEventListener(\"mousemove\", bf.onDeskMouseMove);\n\tdocument.addEventListener(\"mouseup\", bf.onDeskMouseUp);\n\tdocument.addEventListener(\"contextmenu\", bf.onDeskContextMenu);\n};\n\nexport const onDeskTouchStart = function (event) {\n\tconst e = getElements(this);\n\tconst publicConstants = getPublicConstants(this);\n\n\tconst dkiv = getDeskInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tif (!event.target.classList.contains(\"limber-grid-view\")) {\n\t\treturn;\n\t}\n\n\tif (event.touches.length !== 1) {\n\t\t// onDeskContextMenu.call(this, event);\n\t\treturn;\n\t}\n\n\t// if (event.target.classList.contains(\"limber-grid-view\")) {\n\t// \tevent.stopPropagation();\n\t// } else {\n\t// \treturn;\n\t// }\n\n\tif (event.which !== 0) {\n\t\t// onDeskContextMenu.call(this, event);\n\t\treturn;\n\t}\n\n\tdkiv.tapHoldCancel = false;\n\tdkiv.tapHoldTimerComplete = false;\n\n\te.$limberGridView.addEventListener(\"touchmove\", bf.onDeskTouchMove);\n\tdocument.addEventListener(\"touchend\", bf.onDeskTouchEnd);\n\tdocument.addEventListener(\"touchcancel\", bf.onDeskTouchCancel);\n\tdocument.addEventListener(\"contextmenu\", bf.onDeskTouchContextMenu);\n\tunInitializeItemTouchEvents.call(this);\n\n\tclearTimeout(dkiv.longTouchCheck);\n\tdkiv.longTouchCheck = setTimeout(\n\t\ttapHoldCheck.bind(this, event),\n\t\tpublicConstants.TOUCH_HOLD_TIME\n\t);\n\n\tevent.stopPropagation();\n};\n\n// onLimberGridMouseDownCheck\nexport const mouseDownCheck = function (event, offsetX, offsetY) {\n\tconst e = getElements(this);\n\tconst privateConstants = getPrivateConstants(this);\n\n\tconst dkiv = getDeskInteractionVars(this);\n\n\tif (dkiv.mouseDownCancel === false) {\n\t\tdkiv.mouseDownTimerComplete = true;\n\n\t\tvar scrollTop = e.$limberGridView.scrollTop;\n\t\tvar scrollLeft = e.$limberGridView.scrollLeft;\n\t\tvar x = offsetX + scrollLeft - privateConstants.PADDING_LEFT;\n\t\tvar y = offsetY + scrollTop - privateConstants.PADDING_TOP;\n\n\t\tdkiv.userActionData = {\n\t\t\ttype: \"add\",\n\t\t\taddPositionX: x,\n\t\t\taddPositionY: y,\n\t\t};\n\n\t\te.$limberGridViewAddCutGuide.style.height = 1 + \"px\";\n\t\te.$limberGridViewAddCutGuide.style.width = 1 + \"px\";\n\t\te.$limberGridViewAddCutGuide.style.transform = `translate(${x}px, ${y}px)`;\n\t\te.$limberGridViewAddCutGuide.setAttribute(\"data-after\", `w: 0px, h: 0px`);\n\n\t\tloadInitState(this);\n\t} else {\n\t\t// mouseDown cancel before TimerComplete\n\t}\n};\n\n// onLimberGridTouchStartCheck\nexport const tapHoldCheck = function (event) {\n\tconst e = getElements(this);\n\n\tconst dkiv = getDeskInteractionVars(this);\n\n\tif (dkiv.tapHoldCancel === false) {\n\t\tdkiv.tapHoldTimerComplete = true;\n\n\t\tvar touchPositionOnLimberGrid = calculateTouchPosOnDesk(this, event);\n\n\t\tvar x = touchPositionOnLimberGrid.x;\n\t\tvar y = touchPositionOnLimberGrid.y;\n\n\t\tdkiv.userActionData = {\n\t\t\ttype: \"add\",\n\t\t\taddPositionX: x,\n\t\t\taddPositionY: y,\n\t\t};\n\n\t\tvar removeAddItemOnTouchHoldGuideFunction = function () {\n\t\t\te.$limberGridViewTouchHoldGuide.classList.remove(\n\t\t\t\t\"limber-grid-view-touch-hold-guide-active\"\n\t\t\t);\n\t\t};\n\t\tsetTimeout(removeAddItemOnTouchHoldGuideFunction.bind(this), 500);\n\n\t\te.$limberGridViewAddCutGuide.style.height = 1 + \"px\";\n\t\te.$limberGridViewAddCutGuide.style.width = 1 + \"px\";\n\t\te.$limberGridViewAddCutGuide.style.transform = `translate(${x}px, ${y}px)`;\n\t\te.$limberGridViewAddCutGuide.setAttribute(\"data-after\", `w: 0px, h: 0px`);\n\n\t\tloadInitState(this);\n\n\t\te.$limberGridViewTouchHoldGuide.style.transform = `translate(${x}px, ${y}px)`;\n\t\te.$limberGridViewTouchHoldGuide.classList.add(\n\t\t\t\"limber-grid-view-touch-hold-guide-active\"\n\t\t);\n\n\t\tevent.preventDefault();\n\t} else {\n\t\t// touchstart cancel before TimerComplete\n\t}\n};\n\nexport const onDeskMouseMove = function (event) {\n\tconst e = getElements(this);\n\tconst privateConstants = getPrivateConstants(this);\n\tconst publicConstants = getPublicConstants(this);\n\n\tconst dkiv = getDeskInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tif (dkiv.mouseDownTimerComplete === true) {\n\t\te.$limberGridViewAddCutGuide.classList.remove(\n\t\t\t\"limber-grid-view-add-cut-guide-allow\",\n\t\t\t\"limber-grid-view-add-cut-guide-disallow\"\n\t\t);\n\n\t\tconst scrollTop = e.$limberGridView.scrollTop;\n\t\tconst scrollLeft = e.$limberGridView.scrollLeft;\n\n\t\tconst x = dkiv.userActionData.addPositionX;\n\t\tconst y = dkiv.userActionData.addPositionY;\n\n\t\tconst newWidth =\n\t\t\tevent.offsetX - x + scrollLeft - privateConstants.PADDING_LEFT;\n\t\tconst newHeight =\n\t\t\tevent.offsetY - y + scrollTop - privateConstants.PADDING_TOP;\n\n\t\tdkiv.userActionData.newWidth = newWidth;\n\t\tdkiv.userActionData.newHeight = newHeight;\n\n\t\tconst yMousePosition = event.offsetY + scrollTop;\n\t\tadjustHeight(this, yMousePosition);\n\n\t\tif (newWidth > 0 && newHeight > 0) {\n\t\t\te.$limberGridViewAddCutGuide.style.width = newWidth + \"px\";\n\t\t\te.$limberGridViewAddCutGuide.style.height = newHeight + \"px\";\n\t\t\te.$limberGridViewAddCutGuide.setAttribute(\n\t\t\t\t\"data-after\",\n\t\t\t\t`w: ${parseInt(newWidth)}px, h: ${parseInt(newHeight)}px`\n\t\t\t);\n\t\t}\n\n\t\tif (publicConstants.DESK_INTERACTION_MODE === \"ADD\") {\n\t\t\tclearTimeout(dkiv.addItemAllowCheckTimeOutVariable);\n\t\t\tdkiv.addItemAllowCheckTimeOutVariable = setTimeout(\n\t\t\t\taddItemAllowCheckTimeOut.bind(\n\t\t\t\t\tthis,\n\t\t\t\t\tdkiv.userActionData.addPositionX,\n\t\t\t\t\tdkiv.userActionData.addPositionY,\n\t\t\t\t\tnewWidth,\n\t\t\t\t\tnewHeight\n\t\t\t\t),\n\t\t\t\tpublicConstants.DEMO_WAIT_TIME\n\t\t\t);\n\t\t} else if (publicConstants.DESK_INTERACTION_MODE === \"CUTSPACE\") {\n\t\t\tclearTimeout(dkiv.cutSpaceAllowCheckTimeOutVariable);\n\t\t\tdkiv.cutSpaceAllowCheckTimeOutVariable = setTimeout(\n\t\t\t\tcutSpaceAllowCheckTimeOut.bind(\n\t\t\t\t\tthis,\n\t\t\t\t\tdkiv.userActionData.addPositionX,\n\t\t\t\t\tdkiv.userActionData.addPositionY,\n\t\t\t\t\tnewWidth,\n\t\t\t\t\tnewHeight\n\t\t\t\t),\n\t\t\t\tpublicConstants.DEMO_WAIT_TIME\n\t\t\t);\n\t\t}\n\t} else {\n\t\tonDeskContextMenu.call(this, event);\n\n\t\t// clearTimeout(dkiv.longPressCheck);\n\n\t\t// e.$limberGridView.removeEventListener(\"mousemove\", bf.onDeskMouseMove);\n\t\t// document.removeEventListener(\"mouseup\", bf.onDeskMouseUp);\n\t\t// document.removeEventListener(\"contextmenu\", bf.onDeskContextMenu);\n\t}\n\tevent.stopPropagation();\n};\n\nexport const onDeskTouchMove = function (event) {\n\tconst e = getElements(this);\n\tconst privateConstants = getPrivateConstants(this);\n\tconst publicConstants = getPublicConstants(this);\n\n\tconst dkiv = getDeskInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tif (dkiv.tapHoldTimerComplete === true && event.touches.length === 1) {\n\t\te.$limberGridViewAddCutGuide.classList.remove(\n\t\t\t\"limber-grid-view-add-cut-guide-allow\",\n\t\t\t\"limber-grid-view-add-cut-guide-disallow\"\n\t\t);\n\n\t\tconst scrollTop = e.$limberGridView.scrollTop;\n\t\tconst scrollLeft = e.$limberGridView.scrollLeft;\n\n\t\tconst x = dkiv.userActionData.addPositionX;\n\t\tconst y = dkiv.userActionData.addPositionY;\n\n\t\tconst touchPositionOnLimberGrid = calculateTouchPosOnDesk(this, event);\n\n\t\tconst newWidth = touchPositionOnLimberGrid.x - x;\n\t\tconst newHeight = touchPositionOnLimberGrid.y - y;\n\n\t\tif (touchPositionOnLimberGrid !== false) {\n\t\t\tdkiv.userActionData.newWidth = newWidth;\n\t\t\tdkiv.userActionData.newHeight = newHeight;\n\n\t\t\tif (newWidth > 0 && newHeight > 0) {\n\t\t\t\te.$limberGridViewAddCutGuide.style.width = newWidth + \"px\";\n\t\t\t\te.$limberGridViewAddCutGuide.style.height = newHeight + \"px\";\n\t\t\t\te.$limberGridViewAddCutGuide.setAttribute(\n\t\t\t\t\t\"data-after\",\n\t\t\t\t\t`w: ${parseInt(newWidth)}px, h: ${parseInt(newHeight)}px`\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tif (touchPositionOnLimberGrid !== false) {\n\t\t\tconst limberGridViewBoundingClientRect = e.$limberGridView.getBoundingClientRect();\n\t\t\tconst limberGridViewWidthVisibleWidth =\n\t\t\t\te.$limberGridView.offsetWidth - limberGridViewBoundingClientRect.left;\n\t\t\tconst limberGridViewHeightVisibleHeight =\n\t\t\t\te.$limberGridView.offsetHeight - limberGridViewBoundingClientRect.top;\n\t\t\tconst limberGridViewOnVisibleAreaX =\n\t\t\t\ttouchPositionOnLimberGrid.x +\n\t\t\t\tprivateConstants.PADDING_LEFT -\n\t\t\t\tscrollLeft;\n\t\t\tconst limberGridViewOnVisibleAreaY =\n\t\t\t\ttouchPositionOnLimberGrid.y + privateConstants.PADDING_TOP - scrollTop;\n\n\t\t\tconst yTouchPosition = touchPositionOnLimberGrid.y;\n\t\t\tadjustHeight(this, yTouchPosition);\n\n\t\t\tconst programScrolled = adjustScroll(\n\t\t\t\tthis,\n\t\t\t\tlimberGridViewOnVisibleAreaY,\n\t\t\t\tlimberGridViewHeightVisibleHeight\n\t\t\t);\n\n\t\t\tif (publicConstants.DESK_INTERACTION_MODE === \"ADD\") {\n\t\t\t\tclearTimeout(dkiv.addItemAllowCheckTimeOutVariable);\n\t\t\t\tif (programScrolled !== true) {\n\t\t\t\t\tdkiv.addItemAllowCheckTimeOutVariable = setTimeout(\n\t\t\t\t\t\taddItemAllowCheckTimeOut.bind(\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\tdkiv.userActionData.addPositionX,\n\t\t\t\t\t\t\tdkiv.userActionData.addPositionY,\n\t\t\t\t\t\t\tnewWidth,\n\t\t\t\t\t\t\tnewHeight\n\t\t\t\t\t\t),\n\t\t\t\t\t\tpublicConstants.DEMO_WAIT_TIME\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else if (publicConstants.DESK_INTERACTION_MODE === \"CUTSPACE\") {\n\t\t\t\tclearTimeout(dkiv.cutSpaceAllowCheckTimeOutVariable);\n\t\t\t\tif (programScrolled !== true) {\n\t\t\t\t\tdkiv.cutSpaceAllowCheckTimeOutVariable = setTimeout(\n\t\t\t\t\t\tcutSpaceAllowCheckTimeOut.bind(\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\tdkiv.userActionData.addPositionX,\n\t\t\t\t\t\t\tdkiv.userActionData.addPositionY,\n\t\t\t\t\t\t\tnewWidth,\n\t\t\t\t\t\t\tnewHeight\n\t\t\t\t\t\t),\n\t\t\t\t\t\tpublicConstants.DEMO_WAIT_TIME\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.preventDefault();\n\t} else {\n\t\tonDeskContextMenu.call(this);\n\t\t// clearTimeout(dkiv.longTouchCheck);\n\n\t\t// e.$limberGridView.removeEventListener(\"touchmove\", bf.onDeskTouchMove);\n\t\t// document.removeEventListener(\"touchend\", bf.onDeskTouchEnd);\n\t\t// document.removeEventListener(\"touchcancel\", bf.onDeskTouchCancel);\n\t\t// document.removeEventListener(\"contextmenu\", bf.onDeskTouchContextMenu);\n\t\t// initializeItemTouchEvents.call(this);\n\t}\n\n\tevent.stopPropagation();\n};\n\nexport const onDeskMouseUp = function (event) {\n\tconst e = getElements(this);\n\tconst publicConstants = getPublicConstants(this);\n\n\tconst dkiv = getDeskInteractionVars(this);\n\n\tclearTimeout(dkiv.addItemAllowCheckTimeOutVariable);\n\tclearTimeout(dkiv.longPressCheck);\n\tvar itemAddedFlag = false;\n\tif (dkiv.mouseDownTimerComplete === true) {\n\t\tif (publicConstants.DESK_INTERACTION_MODE === \"ADD\") {\n\t\t\tif (\n\t\t\t\taddItemAllowCheck(\n\t\t\t\t\tthis,\n\t\t\t\t\tdkiv.userActionData.addPositionX,\n\t\t\t\t\tdkiv.userActionData.addPositionY,\n\t\t\t\t\tdkiv.userActionData.newWidth,\n\t\t\t\t\tdkiv.userActionData.newHeight\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tvar item = {\n\t\t\t\t\tx: dkiv.userActionData.addPositionX,\n\t\t\t\t\ty: dkiv.userActionData.addPositionY,\n\t\t\t\t\twidth: dkiv.userActionData.newWidth,\n\t\t\t\t\theight: dkiv.userActionData.newHeight,\n\t\t\t\t};\n\n\t\t\t\tvar scrollTop = e.$limberGridView.scrollTop;\n\n\t\t\t\tvar renderDetails = addItem(this, item, false, \"addItemInteractive\");\n\t\t\t\titemAddedFlag = true;\n\n\t\t\t\te.$limberGridView.scrollTop = scrollTop;\n\t\t\t}\n\t\t} else if (publicConstants.DESK_INTERACTION_MODE === \"CUTSPACE\") {\n\t\t\tconst cutDetails = cutSpaceAllowCheck(\n\t\t\t\tthis,\n\t\t\t\tdkiv.userActionData.addPositionX,\n\t\t\t\tdkiv.userActionData.addPositionY,\n\t\t\t\tdkiv.userActionData.newWidth,\n\t\t\t\tdkiv.userActionData.newHeight\n\t\t\t);\n\t\t\tif (cutDetails) {\n\t\t\t\tshiftItemsUp(\n\t\t\t\t\tthis,\n\t\t\t\t\tcutDetails.y,\n\t\t\t\t\tcutDetails.shiftHeight\n\t\t\t\t\t// dkiv.userActionData.addPositionY,\n\t\t\t\t\t// dkiv.userActionData.newHeight\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tdkiv.mouseDownCancel = true;\n\t}\n\tonDeskContextMenu.call(this);\n\tevent.stopPropagation();\n};\n\nexport const onDeskTouchEnd = function (event) {\n\tconst e = getElements(this);\n\tconst publicConstants = getPublicConstants(this);\n\n\tconst dkiv = getDeskInteractionVars(this);\n\n\tclearTimeout(dkiv.addItemAllowCheckTimeOutVariable);\n\tclearTimeout(dkiv.longTouchCheck);\n\tvar itemAddedFlag = false;\n\tif (dkiv.tapHoldTimerComplete === true && event.touches.length === 0) {\n\t\tif (publicConstants.DESK_INTERACTION_MODE === \"ADD\") {\n\t\t\tif (\n\t\t\t\taddItemAllowCheck(\n\t\t\t\t\tthis,\n\t\t\t\t\tdkiv.userActionData.addPositionX,\n\t\t\t\t\tdkiv.userActionData.addPositionY,\n\t\t\t\t\tdkiv.userActionData.newWidth,\n\t\t\t\t\tdkiv.userActionData.newHeight\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tvar item = {\n\t\t\t\t\tx: dkiv.userActionData.addPositionX,\n\t\t\t\t\ty: dkiv.userActionData.addPositionY,\n\t\t\t\t\twidth: dkiv.userActionData.newWidth,\n\t\t\t\t\theight: dkiv.userActionData.newHeight,\n\t\t\t\t};\n\n\t\t\t\tvar scrollTop = e.$limberGridView.scrollTop;\n\n\t\t\t\tvar renderDetails = addItem(this, item, false, \"addItemInteractive\");\n\t\t\t\titemAddedFlag = true;\n\n\t\t\t\te.$limberGridView.scrollTop = scrollTop;\n\t\t\t}\n\t\t} else if (publicConstants.DESK_INTERACTION_MODE === \"CUTSPACE\") {\n\t\t\tconst cutDetails = cutSpaceAllowCheck(\n\t\t\t\tthis,\n\t\t\t\tdkiv.userActionData.addPositionX,\n\t\t\t\tdkiv.userActionData.addPositionY,\n\t\t\t\tdkiv.userActionData.newWidth,\n\t\t\t\tdkiv.userActionData.newHeight\n\t\t\t);\n\t\t\tif (cutDetails) {\n\t\t\t\tshiftItemsUp(\n\t\t\t\t\tthis,\n\t\t\t\t\tcutDetails.y,\n\t\t\t\t\tcutDetails.shiftHeight\n\t\t\t\t\t// dkiv.userActionData.addPositionY,\n\t\t\t\t\t// dkiv.userActionData.newHeight\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tdkiv.tapHoldCancel = true;\n\t}\n\t// dkiv.tapHoldTimerComplete = false;\n\tonDeskContextMenu.call(this);\n\t// initializeItemTouchEvents.call(this);\n\n\tevent.stopPropagation();\n};\n\nexport const onDeskTouchCancel = function (event) {\n\t// const dkiv = getDeskInteractionVars(this);\n\n\t// dkiv.tapHoldCancel = false;\n\t// dkiv.tapHoldTimerComplete = false;\n\tonDeskContextMenu.call(this);\n\t// initializeItemTouchEvents.call(this);\n\n\t// event.stopPropagation();\n};\n\nexport const onDeskTouchContextMenu = function (event) {\n\tevent.preventDefault();\n\t// onDeskContextMenu.call(this, event);\n};\n\nexport const onDeskContextMenu = function (event) {\n\tconst e = getElements(this);\n\n\tconst dkiv = getDeskInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tclearTimeout(dkiv.addItemAllowCheckTimeOutVariable);\n\tclearTimeout(dkiv.cutSpaceAllowCheckTimeOutVariable);\n\tclearTimeout(dkiv.longPressCheck);\n\tclearTimeout(dkiv.longTouchCheck);\n\tunloadInitState(this);\n\n\te.$limberGridView.removeEventListener(\"mousemove\", bf.onDeskMouseMove);\n\tdocument.removeEventListener(\"mouseup\", bf.onDeskMouseUp);\n\tdocument.removeEventListener(\"contextmenu\", bf.onDeskContextMenu);\n\n\te.$limberGridView.removeEventListener(\"touchmove\", bf.onDeskTouchMove);\n\tdocument.removeEventListener(\"touchend\", bf.onDeskTouchEnd);\n\tdocument.removeEventListener(\"touchcancel\", bf.onDeskTouchCancel);\n\tdocument.removeEventListener(\"contextmenu\", bf.onDeskTouchContextMenu);\n\n\tinitializeItemTouchEvents.call(this);\n\n\tdkiv.userActionData = {};\n\n\tif (event) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t}\n};\n\nexport const addItemAllowCheckTimeOut = function (x, y, width, height) {\n\tconst e = getElements(this);\n\n\tif (addItemAllowCheck(this, x, y, width, height) === false) {\n\t\te.$limberGridViewAddCutGuide.classList.remove(\n\t\t\t\"limber-grid-view-add-cut-guide-allow\"\n\t\t);\n\t\te.$limberGridViewAddCutGuide.classList.add(\n\t\t\t\"limber-grid-view-add-cut-guide-disallow\"\n\t\t);\n\t} else {\n\t\te.$limberGridViewAddCutGuide.classList.remove(\n\t\t\t\"limber-grid-view-add-cut-guide-disallow\"\n\t\t);\n\t\te.$limberGridViewAddCutGuide.classList.add(\n\t\t\t\"limber-grid-view-add-cut-guide-allow\"\n\t\t);\n\t}\n};\n\nexport const cutSpaceAllowCheckTimeOut = function (x, y, width, height) {\n\tconst e = getElements(this);\n\n\tif (cutSpaceAllowCheck(this, x, y, width, height) === false) {\n\t\te.$limberGridViewAddCutGuide.classList.remove(\n\t\t\t\"limber-grid-view-add-cut-guide-allow\"\n\t\t);\n\t\te.$limberGridViewAddCutGuide.classList.add(\n\t\t\t\"limber-grid-view-add-cut-guide-disallow\"\n\t\t);\n\t} else {\n\t\te.$limberGridViewAddCutGuide.classList.remove(\n\t\t\t\"limber-grid-view-add-cut-guide-disallow\"\n\t\t);\n\t\te.$limberGridViewAddCutGuide.classList.add(\n\t\t\t\"limber-grid-view-add-cut-guide-allow\"\n\t\t);\n\t}\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport {\n\tdoRectsOverlap,\n\tdoRectsOnlyTouch,\n\tisPointInsideRect,\n\tdoesPointTouchRect,\n} from \"../rect/rectUtils\";\nimport getPublicConstants, {\n\tgetPublicConstantByName,\n} from \"../../store/constants/publicConstants\";\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport {\n\tgetPositionData,\n\tgetModifiedPositionData,\n\tsetModifiedPositionData,\n} from \"../../store/variables/essentials\";\nimport getElements from \"../../store/variables/elements\";\n\nexport const getResizeAffectedItems = (context, item, index) => {\n\tconst pd = getPositionData(context);\n\tconst mpd = getModifiedPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tconst len = pd.length;\n\tconst affectedArr = new Array(len);\n\tlet count = 0;\n\n\tconst _item = { ...item };\n\t_item.x -= privateConstants.MARGIN;\n\t_item.y -= privateConstants.MARGIN;\n\t_item.width += privateConstants.MARGIN;\n\t_item.height += privateConstants.MARGIN;\n\tconst temp = { x: 0, y: 0, height: 0, width: 0 };\n\n\tfor (let i = 0; i < len; i++) {\n\t\ttemp.x = pd[i].x - privateConstants.MARGIN;\n\t\ttemp.y = pd[i].y - privateConstants.MARGIN;\n\t\ttemp.width = pd[i].width + privateConstants.MARGIN;\n\t\ttemp.height = pd[i].height + privateConstants.MARGIN;\n\t\tif (\n\t\t\t(doRectsOverlap(temp, _item) || doRectsOnlyTouch(temp, _item)) &&\n\t\t\ti !== index\n\t\t) {\n\t\t\taffectedArr[count++] = i;\n\t\t\tmpd[i].x = undefined;\n\t\t\tmpd[i].y = undefined;\n\t\t}\n\t}\n\n\tconst result = new Array(count + 1);\n\tfor (let i = 0; i < count; i++) {\n\t\tresult[i] = affectedArr[i];\n\t}\n\tresult[count] = index;\n\n\treturn result;\n};\n\nexport const getMoveAffectedItems = (context, item, index) => {\n\tconst pd = getPositionData(context);\n\tconst mpd = getModifiedPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tconst len = pd.length;\n\tconst affectedArr = new Array(len);\n\tlet count = 0;\n\n\tconst _item = { ...item };\n\t_item.x -= privateConstants.MARGIN;\n\t_item.y -= privateConstants.MARGIN;\n\t_item.width += privateConstants.MARGIN;\n\t_item.height += privateConstants.MARGIN;\n\tconst temp = { x: 0, y: 0, height: 0, width: 0 };\n\n\tfor (let i = 0; i < len; i++) {\n\t\ttemp.x = pd[i].x - privateConstants.MARGIN;\n\t\ttemp.y = pd[i].y - privateConstants.MARGIN;\n\t\ttemp.width = pd[i].width + privateConstants.MARGIN;\n\t\ttemp.height = pd[i].height + privateConstants.MARGIN;\n\t\tif (doRectsOverlap(temp, _item) || doRectsOnlyTouch(temp, _item)) {\n\t\t\tif (i !== index) {\n\t\t\t\taffectedArr[count++] = i;\n\t\t\t\tmpd[i].x = undefined;\n\t\t\t\tmpd[i].y = undefined;\n\t\t\t}\n\t\t}\n\t}\n\n\tconst result = new Array(count + 1);\n\tfor (let i = 0; i < count; i++) {\n\t\tresult[i] = affectedArr[i];\n\t}\n\tresult[count] = index;\n\n\treturn result;\n};\n\nexport const resizeItemInitialChecks = (context, index, width, height) => {\n\tconst pd = getPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tif (index < 0 || index >= pd.length) {\n\t\t// invalid index\n\t\tthrow \"Index out of bounds.\";\n\t}\n\n\tif (typeof width !== \"number\" || typeof height !== \"number\") {\n\t\tthrow \"Width or Height is not a number.\";\n\t}\n\n\tif (pd[index].x + width + privateConstants.MARGIN > privateConstants.WIDTH) {\n\t\t// falls outside\n\t\tthrow \"Right edges falls outside the grid area.\";\n\t}\n\n\tif (\n\t\twidth < privateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH ||\n\t\theight < privateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH\n\t) {\n\t\t// very small. TO DO: let the developers decide the smallest item size but can't be less than 150\n\t\tthrow `Width or height less than min height or width ${privateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH}.`;\n\t}\n\n\treturn true;\n};\n\nexport const moveItemInitialChecks = (context, index, toX, toY) => {\n\tconst pd = getPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tif (index < 0 || index >= pd.length) {\n\t\t// invalid index\n\t\tthrow \"Index out of bounds.\";\n\t}\n\n\tif (typeof toX !== \"number\" || typeof toY !== \"number\") {\n\t\tthrow \"toX or toY is not a number.\";\n\t}\n\n\tif (toX < privateConstants.MARGIN || toY < privateConstants.MARGIN) {\n\t\t// falls outside\n\t\tthrow \"Left edges falls outside the grid area.\";\n\t}\n\n\tif (\n\t\ttoX + pd[index].width + privateConstants.MARGIN >\n\t\tprivateConstants.WIDTH\n\t) {\n\t\t// falls outside\n\t\tthrow \"Right edges falls outside the grid area.\";\n\t}\n\n\treturn true;\n};\n\nexport const resetDemoUIChanges = (context) => {\n\tconst pd = getPositionData(context);\n\tconst e = getElements(context);\n\n\tconst len = pd.length;\n\tfor (var i = 0; i < len; i++) {\n\t\te.$limberGridViewItems[i].style.transform =\n\t\t\t\"translate(\" + pd[i].x + \"px, \" + pd[i].y + \"px)\";\n\t\te.$limberGridViewItems[i].classList.remove(\"limberGridViewItemDemo\");\n\t}\n};\n\nexport const movePointAdjust = (context, toX, toY) => {\n\tconst pd = getPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tconst len = pd.length;\n\tconst temp = { x: 0, y: 0, height: 0, width: 0 };\n\tconst pt = { x: toX, y: toY };\n\tlet inside;\n\tfor (let i = 0; i < len; i++) {\n\t\ttemp.x = pd[i].x - privateConstants.MARGIN;\n\t\ttemp.y = pd[i].y - privateConstants.MARGIN;\n\t\ttemp.width = pd[i].width + privateConstants.MARGIN * 2;\n\t\ttemp.height = pd[i].height + privateConstants.MARGIN * 2;\n\t\tif (isPointInsideRect(temp, pt) || doesPointTouchRect(temp, pt)) {\n\t\t\tinside = i;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (inside !== undefined) {\n\t\ttoX = pd[inside].x;\n\t\ttoY = pd[inside].y;\n\t}\n\treturn { toX, toY, overlappedItemIndex: inside };\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\n// import {\n// \tfindFreeSpaces,\n// \tmergeFreeSpaces,\n// \tfindAffectedItemsOnMove,\n// \tfindAffectedItemsOnResize,\n// \tfitItemsIntoFreeSpaces,\n// \tfindMatchingSpace,\n// \tfitRemainingItems,\n// \tfitRemainingItemsAboveDeepestLine,\n// \tfitRemainingItemsBelowDeepestLine,\n// \tgetItemsFromPointDepth,\n// \tshitftItemsBelow,\n// \tmergePlains,\n// \tsubtractPlanes,\n// } from \"./calcUtils\";\nimport {\n\tgetResizeAffectedItems,\n\tgetMoveAffectedItems,\n\tresizeItemInitialChecks,\n\tmoveItemInitialChecks,\n\tresetDemoUIChanges,\n\tmovePointAdjust,\n} from \"./itemInteractionUtils\";\nimport { arrangeMove, arrangeResize } from \"../arrange/arrange\";\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport getPublicConstants from \"../../store/constants/publicConstants\";\nimport {\n\tgetPositionData,\n\tgetModifiedPositionData,\n\tsetPositionData,\n\tsetModifiedPositionData,\n\tgetCallbacks,\n} from \"../../store/variables/essentials\";\nimport getElements from \"../../store/variables/elements\";\n\n// import { renderItems } from \"../renderers/renderers\";\n\nexport const resizeItem = async function (index, width, height) {\n\tconst pd = getPositionData(this);\n\tconst e = getElements(this);\n\tconst callbacks = getCallbacks(this);\n\n\tindex = parseInt(index);\n\tresizeItemInitialChecks(this, index, width, height);\n\n\tresetDemoUIChanges(this);\n\n\tsetModifiedPositionData(this, pd);\n\tconst mpd = getModifiedPositionData(this);\n\tmpd[index].width = width;\n\tmpd[index].height = height;\n\n\tconst modifiedItem = {\n\t\tx: pd[index].x,\n\t\ty: pd[index].y,\n\t\twidth: width,\n\t\theight: height,\n\t};\n\tconst affectedItems = getResizeAffectedItems(this, modifiedItem, index);\n\n\tconst arranged = await arrangeResize(\n\t\tthis,\n\t\taffectedItems,\n\t\tmodifiedItem.y + modifiedItem.height,\n\t\tmodifiedItem.x + modifiedItem.width\n\t);\n\n\tsetPositionData(this, mpd);\n\n\te.$limberGridViewItems[index].style.width = `${mpd[index].width}px`;\n\te.$limberGridViewItems[index].style.height = `${mpd[index].height}px`;\n\n\tconst arrangedArr = Object.keys(arranged);\n\tconst len = arrangedArr.length;\n\tfor (let i = 0; i < len; i++) {\n\t\tconst key = arrangedArr[i];\n\t\tconst item = arranged[key];\n\t\te.$limberGridViewItems[\n\t\t\tkey\n\t\t].style.transform = `translate(${item.x}px, ${item.y}px)`;\n\t}\n\n\tif (callbacks.resizeComplete) {\n\t\tcallbacks.resizeComplete(index, width, height, arrangedArr);\n\t}\n};\n\nexport const resizeItemDemo = async function (index, width, height) {\n\tconst pd = getPositionData(this);\n\tconst e = getElements(this);\n\n\tindex = parseInt(index);\n\tresizeItemInitialChecks(this, index, width, height);\n\n\tresetDemoUIChanges(this);\n\n\tsetModifiedPositionData(this, pd);\n\tconst mpd = getModifiedPositionData(this);\n\tmpd[index].width = width;\n\tmpd[index].height = height;\n\n\tconst modifiedItem = {\n\t\tx: pd[index].x,\n\t\ty: pd[index].y,\n\t\twidth: width,\n\t\theight: height,\n\t};\n\tconst affectedItems = getResizeAffectedItems(this, modifiedItem, index);\n\n\tconst arranged = await arrangeResize(\n\t\tthis,\n\t\taffectedItems,\n\t\tmodifiedItem.y + modifiedItem.height,\n\t\tmodifiedItem.x + modifiedItem.width,\n\t\ttrue\n\t);\n\n\tconst arrangedArr = Object.keys(arranged);\n\tconst len = arrangedArr.length;\n\tfor (let i = 0; i < len; i++) {\n\t\tconst key = arrangedArr[i];\n\t\tconst item = arranged[key];\n\t\te.$limberGridViewItems[\n\t\t\tkey\n\t\t].style.transform = `translate(${item.x}px, ${item.y}px)`;\n\t}\n};\n\nexport const moveItem = async function (index, toX, toY) {\n\tconst pd = getPositionData(this);\n\tconst e = getElements(this);\n\tconst callbacks = getCallbacks(this);\n\tconst publicConstants = getPublicConstants(this);\n\n\tindex = parseInt(index);\n\tif (publicConstants.LATCH_MOVED_ITEM) {\n\t\t// change toX & toY to top left of the overlapping item\n\t\t// provide a flag for developers to switch it on or off any time from UI by the user\n\t\t// maybe \"LATCH_MOVED_ITEM\"\n\t\tconst adjustedPt = movePointAdjust(this, toX, toY);\n\t\ttoX = adjustedPt.toX;\n\t\ttoY = adjustedPt.toY;\n\t}\n\n\tmoveItemInitialChecks(this, index, toX, toY);\n\n\tresetDemoUIChanges(this);\n\n\tsetModifiedPositionData(this, pd);\n\tconst mpd = getModifiedPositionData(this);\n\tmpd[index].x = toX;\n\tmpd[index].y = toY;\n\n\tconst modifiedItem = {\n\t\tx: toX,\n\t\ty: toY,\n\t\twidth: pd[index].width,\n\t\theight: pd[index].height,\n\t};\n\tconst affectedItems = getMoveAffectedItems(this, modifiedItem, index);\n\n\tconst arranged = await arrangeMove(\n\t\tthis,\n\t\taffectedItems,\n\t\ttoY,\n\t\ttoY + pd[index].height\n\t);\n\n\tsetPositionData(this, mpd);\n\n\te.$limberGridViewItems[index].classList.remove(\"limberGridViewItemDemo\");\n\te.$limberGridViewItems[\n\t\tindex\n\t].style.transform = `translate(${mpd[index].x}px, ${mpd[index].y}px)`;\n\tif (!publicConstants.ANIMATE_MOVED_ITEM) {\n\t\t// below two statements needs its own flag maybe \"ANIMATE_MOVED_ITEM\"\n\t\te.$limberGridViewItems[index].style.transition = \"none\";\n\t\tsetTimeout(() => {\n\t\t\te.$limberGridViewItems[index].style.transition = \"\";\n\t\t}, publicConstants.ANIMATE_TIME);\n\t}\n\n\tconst arrangedArr = Object.keys(arranged);\n\tconst len = arrangedArr.length;\n\tfor (let i = 0; i < len; i++) {\n\t\tconst key = arrangedArr[i];\n\t\tconst item = arranged[key];\n\t\te.$limberGridViewItems[\n\t\t\tkey\n\t\t].style.transform = `translate(${item.x}px, ${item.y}px)`;\n\t}\n\n\tif (callbacks.resizeComplete) {\n\t\tcallbacks.moveComplete(index, toX, toY, arrangedArr);\n\t}\n};\n\nexport const moveItemDemo = async function (index, toX, toY) {\n\tconst pd = getPositionData(this);\n\tconst e = getElements(this);\n\tconst publicConstants = getPublicConstants(this);\n\n\tindex = parseInt(index);\n\tif (publicConstants.LATCH_MOVED_ITEM) {\n\t\t// change toX & toY to top left of the overlapping item\n\t\t// provide a flag for developers to switch it on or off any time from UI by the user\n\t\tconst adjustedPt = movePointAdjust(this, toX, toY);\n\t\ttoX = adjustedPt.toX;\n\t\ttoY = adjustedPt.toY;\n\n\t\tif (!isNaN(adjustedPt.overlappedItemIndex)) {\n\t\t\te.$limberGridViewMoveGuide.style.transform =\n\t\t\t\t\"translate(\" + toX + \"px, \" + toY + \"px)\";\n\t\t\te.$limberGridViewMoveGuide.classList.add(\n\t\t\t\t\"limber-grid-view-move-guide-active\"\n\t\t\t);\n\t\t}\n\t}\n\n\tmoveItemInitialChecks(this, index, toX, toY);\n\n\tresetDemoUIChanges(this);\n\n\tsetModifiedPositionData(this, pd);\n\tconst mpd = getModifiedPositionData(this);\n\tmpd[index].x = toX;\n\tmpd[index].y = toY;\n\n\tconst modifiedItem = {\n\t\tx: toX,\n\t\ty: toY,\n\t\twidth: pd[index].width,\n\t\theight: pd[index].height,\n\t};\n\tconst affectedItems = getMoveAffectedItems(this, modifiedItem, index);\n\n\tconst arranged = await arrangeMove(\n\t\tthis,\n\t\taffectedItems,\n\t\ttoY,\n\t\ttoY + pd[index].height,\n\t\ttrue\n\t);\n\n\te.$limberGridViewItems[index].classList.add(\"limberGridViewItemDemo\");\n\n\tconst arrangedArr = Object.keys(arranged);\n\tconst len = arrangedArr.length;\n\tfor (let i = 0; i < len; i++) {\n\t\tconst key = arrangedArr[i];\n\t\tconst item = arranged[key];\n\t\te.$limberGridViewItems[\n\t\t\tkey\n\t\t].style.transform = `translate(${item.x}px, ${item.y}px)`;\n\t}\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport {\n\tgetLines,\n\tgetMarginAtPoint,\n\tadjustHeight,\n\tadjustScroll,\n} from \"../utils/essentials\";\n// import {\n// \tresizePlane,\n// \tresizePlaneDemo,\n// \tmovePlane,\n// \tmovePlaneDemo,\n// } from \"../calc/calcPosition\";\nimport getPublicConstants from \"../../store/constants/publicConstants\";\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport {\n\tgetCallbacks,\n\tgetPositionData,\n} from \"../../store/variables/essentials\";\nimport getElements from \"../../store/variables/elements\";\nimport {\n\t// calculateMousePosOnLimberGrid,\n\t// calculateTouchPosOnLimberGrid,\n\t// calculateTouchPosOnLimberGridItem,\n\tcalculateMousePosOnDesk,\n\tcalculateTouchPosOnDesk,\n\tcalculateTouchPosOnItem,\n} from \"./eventHandlerUtils.js\";\nimport {\n\tgetUserActionData,\n\tloadResizingState,\n\tunloadResizingState,\n\tloadMoveState,\n\tunloadMoveState,\n\tloadOnMoveState,\n\tunloadOnMoveState,\n} from \"./itemInteractionUtils.js\";\nimport { onDeskTouchStart } from \"./deskInteraction\";\nimport {\n\tmoveItem,\n\tmoveItemDemo,\n\tresizeItem,\n\tresizeItemDemo,\n} from \"../interaction/itemInteraction\";\nimport { getBindedFunctions } from \"../../store/variables/bindedFunctions\";\nimport { getItemInteractionVars } from \"../../store/variables/eventSpecific\";\n\n// let userActionData = {};\n// let mouseDownCancel = false;\n// let mouseDownTimerComplete = true;\n// let touchHoldCancel = false;\n// // let tapHoldCancel = false;\n// let touchHoldTimerComplete = false;\n// // let tapHoldTimerComplete = false;\n// let longPressCheck;\n// let longTouchCheck;\n// let showResizeDemoTimeOutVariable;\n// let showMoveDemoTimeOutVariable;\n\nexport const onItemMouseDown = function (event) {\n\tconst e = getElements(this);\n\tconst publicConstants = getPublicConstants(this);\n\tconst pd = getPositionData(this);\n\n\tconst iiv = getItemInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tif (event.which !== 1) {\n\t\tonItemContextMenu.call(this, event);\n\t\treturn;\n\t}\n\n\tconst _userActionData = getUserActionData(this, event);\n\n\tif (!_userActionData) {\n\t\treturn;\n\t}\n\n\tObject.assign(iiv.userActionData, _userActionData);\n\n\tif (iiv.userActionData.type === \"move\") {\n\t\tiiv.mouseDownCancel = false;\n\t\tiiv.mouseDownTimerComplete = false;\n\n\t\tdocument.addEventListener(\"mousemove\", bf.onItemMouseMove);\n\t\tdocument.addEventListener(\"mouseup\", bf.onItemMouseUp);\n\t\tdocument.addEventListener(\"contextmenu\", bf.onItemContextMenu);\n\n\t\tclearTimeout(iiv.longPressCheck);\n\t\tiiv.longPressCheck = setTimeout(\n\t\t\tmouseDownCheck.bind(this, event),\n\t\t\tpublicConstants.MOUSE_DOWN_TIME\n\t\t);\n\n\t\tevent.preventDefault();\n\t} else if (iiv.userActionData.type === \"resize\") {\n\t\tiiv.mouseDownCancel = false;\n\t\tiiv.mouseDownTimerComplete = true;\n\n\t\te.$limberGridView.addEventListener(\"mousemove\", bf.onItemMouseMove);\n\t\tdocument.addEventListener(\"mouseup\", bf.onItemMouseUp);\n\t\tdocument.addEventListener(\"contextmenu\", bf.onItemContextMenu);\n\n\t\tiiv.userActionData.itemX = pd[iiv.userActionData.itemIndex].x;\n\t\tiiv.userActionData.itemY = pd[iiv.userActionData.itemIndex].y;\n\n\t\tloadResizingState(this, iiv.userActionData);\n\n\t\tevent.preventDefault();\n\t}\n\n\t//\n\tevent.stopPropagation();\n};\n\nexport const onItemTouchStart = function (event) {\n\tconst e = getElements(this);\n\tconst publicConstants = getPublicConstants(this);\n\tconst pd = getPositionData(this);\n\n\tconst iiv = getItemInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tif (event.touches.length !== 1) {\n\t\tonItemTouchContextMenu.call(this, event);\n\t\treturn;\n\t}\n\n\tif (event.which !== 0) {\n\t\tonItemTouchContextMenu.call(this, event);\n\t\treturn;\n\t}\n\n\tconst touchPosOnLimberGridItem = calculateTouchPosOnItem(this, event);\n\tif (touchPosOnLimberGridItem === false) {\n\t\treturn;\n\t}\n\n\tconst _userActionData = getUserActionData(this, event);\n\tif (!_userActionData) {\n\t\treturn;\n\t}\n\n\tObject.assign(iiv.userActionData, _userActionData);\n\n\tif (iiv.userActionData.type === \"move\") {\n\t\tiiv.touchHoldCancel = false;\n\t\tiiv.touchHoldTimerComplete = false;\n\n\t\t// e.$limberGridView.removeEventListener(\"touchstart\", bf.onDeskTouchStart);\n\t\tdocument.addEventListener(\"touchmove\", bf.onItemTouchMove);\n\t\tdocument.addEventListener(\"touchend\", bf.onItemTouchEnd);\n\t\tdocument.addEventListener(\"touchcancel\", bf.onItemTouchCancel);\n\t\tdocument.addEventListener(\"contextmenu\", bf.onItemTouchContextMenu);\n\n\t\tiiv.longTouchCheck = setTimeout(\n\t\t\ttapHoldCheck.bind(this, event),\n\t\t\tpublicConstants.TOUCH_HOLD_TIME\n\t\t);\n\n\t\tevent.preventDefault();\n\t} else if (iiv.userActionData.type === \"resize\") {\n\t\tiiv.touchHoldCancel = false;\n\t\tiiv.touchHoldTimerComplete = true;\n\n\t\t// e.$limberGridView.removeEventListener(\"touchstart\", bf.onDeskTouchStart);\n\t\te.$limberGridView.addEventListener(\"touchmove\", bf.onItemTouchMove);\n\t\tdocument.addEventListener(\"touchend\", bf.onItemTouchEnd);\n\t\tdocument.addEventListener(\"touchcancel\", bf.onItemTouchCancel);\n\t\t//\n\t\tdocument.addEventListener(\"contextmenu\", bf.onItemTouchContextMenu);\n\n\t\tiiv.userActionData.itemX = pd[iiv.userActionData.itemIndex].x;\n\t\tiiv.userActionData.itemY = pd[iiv.userActionData.itemIndex].y;\n\n\t\tloadResizingState(this, iiv.userActionData);\n\n\t\tevent.preventDefault();\n\t}\n\n\tevent.stopPropagation();\n};\n\nexport const mouseDownCheck = function (event) {\n\tconst iiv = getItemInteractionVars(this);\n\n\tif (iiv.mouseDownCancel === false) {\n\t\tiiv.mouseDownTimerComplete = true;\n\n\t\tloadMoveState(this, iiv.userActionData, event);\n\t}\n};\n\nexport const tapHoldCheck = function (event) {\n\tconst iiv = getItemInteractionVars(this);\n\n\tif (iiv.touchHoldCancel === false) {\n\t\tiiv.touchHoldTimerComplete = true;\n\n\t\tloadMoveState(this, iiv.userActionData, event);\n\t}\n};\n\nexport const onItemMouseMove = function (event) {\n\tconst e = getElements(this);\n\tconst privateConstants = getPrivateConstants(this);\n\tconst publicConstants = getPublicConstants(this);\n\n\tconst iiv = getItemInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tif (iiv.mouseDownTimerComplete === true) {\n\t\tif (iiv.userActionData.type === \"move\") {\n\t\t\tloadOnMoveState(this, iiv.userActionData, event, \"move\");\n\n\t\t\tclearTimeout(iiv.showMoveDemoTimeOutVariable);\n\n\t\t\tconst mousePositionOnLimberGrid = calculateMousePosOnDesk(this, event);\n\n\t\t\tif (mousePositionOnLimberGrid !== false) {\n\t\t\t\tconst yMousePosition = mousePositionOnLimberGrid.y;\n\t\t\t\tadjustHeight(this, yMousePosition);\n\n\t\t\t\tiiv.showMoveDemoTimeOutVariable = setTimeout(\n\t\t\t\t\tshowMoveDemo.bind(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\tiiv.userActionData.itemIndex,\n\t\t\t\t\t\tmousePositionOnLimberGrid\n\t\t\t\t\t),\n\t\t\t\t\tpublicConstants.DEMO_WAIT_TIME\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tloadOnMoveState(this, iiv.userActionData, event, \"resize\");\n\n\t\t\tclearTimeout(iiv.showResizeDemoTimeOutVariable);\n\n\t\t\tconst scrollTop = e.$limberGridView.scrollTop;\n\t\t\tconst scrollLeft = e.$limberGridView.scrollLeft;\n\n\t\t\tconst x = iiv.userActionData.itemX;\n\t\t\tconst y = iiv.userActionData.itemY;\n\n\t\t\tconst newWidth =\n\t\t\t\tevent.offsetX - x + scrollLeft - privateConstants.PADDING_LEFT;\n\t\t\tconst newHeight =\n\t\t\t\tevent.offsetY - y + scrollTop - privateConstants.PADDING_TOP;\n\n\t\t\tiiv.userActionData.newWidth = newWidth;\n\t\t\tiiv.userActionData.newHeight = newHeight;\n\n\t\t\tconst yMousePosition = event.offsetY + scrollTop;\n\t\t\tadjustHeight(this, yMousePosition);\n\n\t\t\tif (newWidth > 0 && newHeight > 0) {\n\t\t\t\te.$limberGridViewPseudoItem.style.width = newWidth + \"px\";\n\t\t\t\te.$limberGridViewPseudoItem.style.height = newHeight + \"px\";\n\t\t\t\te.$limberGridViewPseudoItem.setAttribute(\n\t\t\t\t\t\"data-after\",\n\t\t\t\t\t`w: ${parseInt(newWidth)}px, h: ${parseInt(newHeight)}px`\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tiiv.showResizeDemoTimeOutVariable = setTimeout(\n\t\t\t\tshowResizeDemo.bind(\n\t\t\t\t\tthis,\n\t\t\t\t\tiiv.userActionData.itemIndex,\n\t\t\t\t\tnewWidth,\n\t\t\t\t\tnewHeight\n\t\t\t\t),\n\t\t\t\tpublicConstants.DEMO_WAIT_TIME\n\t\t\t);\n\t\t}\n\t} else {\n\t\tiiv.mouseDownCancel = true;\n\n\t\tonItemContextMenu.call(this, event);\n\t\t// clearTimeout(iiv.longPressCheck);\n\t\t// document.removeEventListener(\"mousemove\", bf.onItemMouseMove);\n\t\t// e.$limberGridView.removeEventListener(\"mousemove\", bf.onItemMouseMove);\n\t\t// document.removeEventListener(\"mouseup\", bf.onItemMouseUp);\n\t\t// document.removeEventListener(\"contextmenu\", bf.onItemContextMenu);\n\n\t\t// canceling mouseHold\n\t}\n\tevent.preventDefault();\n\tevent.stopPropagation();\n};\n\nexport const onItemTouchMove = function (event) {\n\tconst e = getElements(this);\n\tconst privateConstants = getPrivateConstants(this);\n\tconst publicConstants = getPublicConstants(this);\n\n\tconst iiv = getItemInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tif (iiv.touchHoldTimerComplete === true && event.touches.length === 1) {\n\t\tif (iiv.userActionData.type === \"move\") {\n\t\t\tloadOnMoveState(this, iiv.userActionData, event, \"move\");\n\n\t\t\tclearTimeout(iiv.showMoveDemoTimeOutVariable);\n\n\t\t\tconst touchPositionOnLimberGrid = calculateTouchPosOnDesk(this, event);\n\n\t\t\tif (touchPositionOnLimberGrid !== false) {\n\t\t\t\tconst scrollTop = e.$limberGridView.scrollTop;\n\t\t\t\tconst scrollLeft = e.$limberGridView.scrollLeft;\n\n\t\t\t\tconst limberGridViewBoundingClientRect = e.$limberGridView.getBoundingClientRect();\n\t\t\t\tconst limberGridViewWidthVisibleWidth =\n\t\t\t\t\te.$limberGridView.offsetWidth - limberGridViewBoundingClientRect.left;\n\t\t\t\tconst limberGridViewHeightVisibleHeight =\n\t\t\t\t\te.$limberGridView.offsetHeight - limberGridViewBoundingClientRect.top;\n\t\t\t\tconst limberGridViewOnVisibleAreaX =\n\t\t\t\t\ttouchPositionOnLimberGrid.x +\n\t\t\t\t\tprivateConstants.PADDING_LEFT -\n\t\t\t\t\tscrollLeft;\n\t\t\t\tconst limberGridViewOnVisibleAreaY =\n\t\t\t\t\ttouchPositionOnLimberGrid.y +\n\t\t\t\t\tprivateConstants.PADDING_TOP -\n\t\t\t\t\tscrollTop;\n\n\t\t\t\tconst yTouchPosition = touchPositionOnLimberGrid.y;\n\t\t\t\tadjustHeight(this, yTouchPosition);\n\n\t\t\t\tconst programScrolled = adjustScroll(\n\t\t\t\t\tthis,\n\t\t\t\t\tlimberGridViewOnVisibleAreaY,\n\t\t\t\t\tlimberGridViewHeightVisibleHeight\n\t\t\t\t);\n\n\t\t\t\tif (programScrolled !== true) {\n\t\t\t\t\tiiv.showMoveDemoTimeOutVariable = setTimeout(\n\t\t\t\t\t\tshowMoveDemo.bind(\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\tiiv.userActionData.itemIndex,\n\t\t\t\t\t\t\ttouchPositionOnLimberGrid\n\t\t\t\t\t\t),\n\t\t\t\t\t\tpublicConstants.DEMO_WAIT_TIME\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tloadOnMoveState(this, iiv.userActionData, event, \"resize\");\n\n\t\t\tclearTimeout(iiv.showResizeDemoTimeOutVariable);\n\n\t\t\tconst x = iiv.userActionData.itemX;\n\t\t\tconst y = iiv.userActionData.itemY;\n\n\t\t\tconst touchPositionOnLimberGrid = calculateTouchPosOnDesk(this, event);\n\n\t\t\tconst newWidth = touchPositionOnLimberGrid.x - x;\n\t\t\tconst newHeight = touchPositionOnLimberGrid.y - y;\n\n\t\t\tif (touchPositionOnLimberGrid !== false) {\n\t\t\t\tiiv.userActionData.newWidth = newWidth;\n\t\t\t\tiiv.userActionData.newHeight = newHeight;\n\n\t\t\t\tif (newWidth > 0 && newHeight > 0) {\n\t\t\t\t\te.$limberGridViewPseudoItem.style.width = newWidth + \"px\";\n\t\t\t\t\te.$limberGridViewPseudoItem.style.height = newHeight + \"px\";\n\t\t\t\t\te.$limberGridViewPseudoItem.setAttribute(\n\t\t\t\t\t\t\"data-after\",\n\t\t\t\t\t\t`w: ${parseInt(newWidth)}px, h: ${parseInt(newHeight)}px`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (touchPositionOnLimberGrid !== false) {\n\t\t\t\tconst scrollTop = e.$limberGridView.scrollTop;\n\t\t\t\tconst scrollLeft = e.$limberGridView.scrollLeft;\n\n\t\t\t\tconst limberGridViewBoundingClientRect = e.$limberGridView.getBoundingClientRect();\n\t\t\t\tconst limberGridViewWidthVisibleWidth =\n\t\t\t\t\te.$limberGridView.offsetWidth - limberGridViewBoundingClientRect.left;\n\t\t\t\tconst limberGridViewHeightVisibleHeight =\n\t\t\t\t\te.$limberGridView.offsetHeight - limberGridViewBoundingClientRect.top;\n\t\t\t\tconst limberGridViewOnVisibleAreaX =\n\t\t\t\t\ttouchPositionOnLimberGrid.x +\n\t\t\t\t\tprivateConstants.PADDING_LEFT -\n\t\t\t\t\tscrollLeft;\n\t\t\t\tconst limberGridViewOnVisibleAreaY =\n\t\t\t\t\ttouchPositionOnLimberGrid.y +\n\t\t\t\t\tprivateConstants.PADDING_TOP -\n\t\t\t\t\tscrollTop;\n\n\t\t\t\tconst yTouchPosition = touchPositionOnLimberGrid.y;\n\t\t\t\tadjustHeight(this, yTouchPosition);\n\n\t\t\t\tconst programScrolled = adjustScroll(\n\t\t\t\t\tthis,\n\t\t\t\t\tlimberGridViewOnVisibleAreaY,\n\t\t\t\t\tlimberGridViewHeightVisibleHeight\n\t\t\t\t);\n\n\t\t\t\tif (programScrolled !== true) {\n\t\t\t\t\tiiv.showResizeDemoTimeOutVariable = setTimeout(\n\t\t\t\t\t\tshowResizeDemo.bind(\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\tiiv.userActionData.itemIndex,\n\t\t\t\t\t\t\tnewWidth,\n\t\t\t\t\t\t\tnewHeight\n\t\t\t\t\t\t),\n\t\t\t\t\t\tpublicConstants.DEMO_WAIT_TIME\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tconsole.log(\"else\");\n\t\tiiv.touchHoldCancel = true;\n\n\t\tonItemTouchContextMenu.call(this, event);\n\t\t// clearTimeout(iiv.longTouchCheck);\n\n\t\t// document.removeEventListener(\"contextmenu\", bf.onItemContextMenu);\n\n\t\t// document.removeEventListener(\"touchmove\", bf.onItemTouchMove);\n\t\t// e.$limberGridView.removeEventListener(\"touchmove\", bf.onItemTouchMove);\n\t\t// document.removeEventListener(\"touchend\", bf.onItemTouchEnd);\n\t\t// document.removeEventListener(\"contextmenu\", bf.onItemTouchContextMenu);\n\t\t// document.removeEventListener(\"touchcancel\", bf.onItemTouchCancel);\n\n\t\t// e.$limberGridView.addEventListener(\"touchstart\", bf.onDeskTouchStart);\n\n\t\t// canceling taphold\n\t}\n\n\tevent.stopPropagation();\n};\n\nexport const onItemMouseUp = async function (event) {\n\tconst e = getElements(this);\n\tconst pd = getPositionData(this);\n\n\tconst iiv = getItemInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tclearTimeout(iiv.showMoveDemoTimeOutVariable);\n\tclearTimeout(iiv.showResizeDemoTimeOutVariable);\n\n\tif (iiv.mouseDownTimerComplete === true) {\n\t\tif (iiv.userActionData.type === \"move\") {\n\t\t\t// unloadMoveState(this, iiv.userActionData);\n\t\t\t// unloadOnMoveState(this);\n\n\t\t\tconst mousePositionOnLimberGrid = calculateMousePosOnDesk(this, event);\n\t\t\tvar updatedCoordinates = {};\n\t\t\ttry {\n\t\t\t\tif (mousePositionOnLimberGrid !== false) {\n\t\t\t\t\tawait moveItem.call(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\tiiv.userActionData.itemIndex,\n\t\t\t\t\t\tmousePositionOnLimberGrid.x,\n\t\t\t\t\t\tmousePositionOnLimberGrid.y\n\t\t\t\t\t);\n\t\t\t\t\tupdatedCoordinates.x = mousePositionOnLimberGrid.x;\n\t\t\t\t\tupdatedCoordinates.y = mousePositionOnLimberGrid.y;\n\t\t\t\t} else {\n\t\t\t\t\tthrow \"Mouse position outside grid area.\";\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error);\n\t\t\t\trevertShowMoveOrResizeDemo(this);\n\t\t\t}\n\t\t} else {\n\t\t\t// unloadResizingState(this, iiv.userActionData);\n\t\t\t// unloadOnMoveState(this);\n\n\t\t\ttry {\n\t\t\t\tvar newWidth = iiv.userActionData.newWidth;\n\t\t\t\tvar newHeight = iiv.userActionData.newHeight;\n\n\t\t\t\tawait resizeItem.call(\n\t\t\t\t\tthis,\n\t\t\t\t\tiiv.userActionData.itemIndex,\n\t\t\t\t\tnewWidth,\n\t\t\t\t\tnewHeight\n\t\t\t\t);\n\t\t\t} catch (error) {\n\t\t\t\trevertShowMoveOrResizeDemo(this);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tiiv.mouseDownCancel = true;\n\t\t// clearTimeout(iiv.longPressCheck);\n\t\t// canceling mouseHold\n\t}\n\n\tonItemContextMenu.call(this, event);\n\n\t// document.removeEventListener(\"mousemove\", bf.onItemMouseMove);\n\t// e.$limberGridView.removeEventListener(\"mousemove\", bf.onItemMouseMove);\n\t// document.removeEventListener(\"mouseup\", bf.onItemMouseUp);\n\t// document.removeEventListener(\"contextmenu\", bf.onItemContextMenu);\n\n\t// event.preventDefault();\n\t// event.stopPropagation();\n\n\tiiv.userActionData = {};\n};\n\nexport const onItemTouchEnd = async function (event) {\n\tconsole.log(\"onItemTouchEnd\");\n\tconst e = getElements(this);\n\tconst pd = getPositionData(this);\n\n\tconst iiv = getItemInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tclearTimeout(iiv.showMoveDemoTimeOutVariable);\n\tclearTimeout(iiv.showResizeDemoTimeOutVariable);\n\n\tif (iiv.touchHoldTimerComplete === true && event.touches.length === 0) {\n\t\tif (iiv.userActionData.type === \"move\") {\n\t\t\t// unloadMoveState(this, iiv.userActionData);\n\t\t\t// unloadOnMoveState(this);\n\n\t\t\tconst touchPositionOnLimberGrid = calculateTouchPosOnDesk(this, event);\n\t\t\tvar updatedCoordinates = {};\n\t\t\ttry {\n\t\t\t\tif (touchPositionOnLimberGrid !== false) {\n\t\t\t\t\tawait moveItem.call(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\tiiv.userActionData.itemIndex,\n\t\t\t\t\t\ttouchPositionOnLimberGrid.x,\n\t\t\t\t\t\ttouchPositionOnLimberGrid.y\n\t\t\t\t\t);\n\t\t\t\t\tupdatedCoordinates.x = touchPositionOnLimberGrid.x;\n\t\t\t\t\tupdatedCoordinates.y = touchPositionOnLimberGrid.y;\n\t\t\t\t} else {\n\t\t\t\t\tthrow \"Touch position outside grid area.\";\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error);\n\t\t\t\trevertShowMoveOrResizeDemo(this);\n\t\t\t}\n\t\t} else {\n\t\t\t// unloadResizingState(this, iiv.userActionData);\n\t\t\t// unloadOnMoveState(this);\n\n\t\t\ttry {\n\t\t\t\tvar newWidth = iiv.userActionData.newWidth;\n\t\t\t\tvar newHeight = iiv.userActionData.newHeight;\n\n\t\t\t\tawait resizeItem.call(\n\t\t\t\t\tthis,\n\t\t\t\t\tiiv.userActionData.itemIndex,\n\t\t\t\t\tnewWidth,\n\t\t\t\t\tnewHeight\n\t\t\t\t);\n\t\t\t} catch (error) {\n\t\t\t\trevertShowMoveOrResizeDemo(this);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tiiv.touchHoldCancel = true;\n\t\t// clearTimeout(iiv.longTouchCheck);\n\t\t// canceling taphold\n\t}\n\n\tonItemTouchContextMenu.call(this, event);\n\t// document.removeEventListener(\"contextmenu\", bf.onItemContextMenu);\n\n\t// document.removeEventListener(\"touchmove\", bf.onItemTouchMove);\n\t// e.$limberGridView.removeEventListener(\"touchmove\", bf.onItemTouchMove);\n\t// document.removeEventListener(\"touchend\", bf.onItemTouchEnd);\n\t// document.removeEventListener(\"contextmenu\", bf.onItemTouchContextMenu);\n\t// document.removeEventListener(\"touchcancel\", bf.onItemTouchCancel);\n\n\t// e.$limberGridView.addEventListener(\"touchstart\", bf.onDeskTouchStart);\n\n\tevent.stopPropagation();\n\n\tiiv.userActionData = {};\n};\n\nexport const onItemContextMenu = function (event) {\n\tconst e = getElements(this);\n\n\tconst iiv = getItemInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tclearTimeout(iiv.showMoveDemoTimeOutVariable);\n\tclearTimeout(iiv.showResizeDemoTimeOutVariable);\n\tclearTimeout(iiv.longPressCheck);\n\tclearTimeout(iiv.longTouchCheck);\n\n\tunloadResizingState(this, iiv.userActionData);\n\tunloadMoveState(this, iiv.userActionData);\n\tunloadOnMoveState(this);\n\trevertShowMoveOrResizeDemo(this);\n\n\tdocument.removeEventListener(\"mousemove\", bf.onItemMouseMove);\n\te.$limberGridView.removeEventListener(\"mousemove\", bf.onItemMouseMove);\n\tdocument.removeEventListener(\"mouseup\", bf.onItemMouseUp);\n\tdocument.removeEventListener(\"contextmenu\", bf.onItemContextMenu);\n\n\tdocument.removeEventListener(\"touchmove\", bf.onItemTouchMove);\n\te.$limberGridView.removeEventListener(\"touchmove\", bf.onItemTouchMove);\n\tdocument.removeEventListener(\"touchend\", bf.onItemTouchEnd);\n\tdocument.removeEventListener(\"contextmenu\", bf.onItemTouchContextMenu);\n\tdocument.removeEventListener(\"touchcancel\", bf.onItemTouchCancel);\n\n\tiiv.userActionData = {};\n\t//\n\t// iiv.mouseDownCancel = false;\n\t// iiv.mouseDownTimerComplete = false;\n\n\t//\n\n\tevent.preventDefault();\n\tevent.stopPropagation();\n};\n\nexport const onItemTouchContextMenu = function (event) {\n\t// event.preventDefault();\n\tonItemContextMenu.call(this, event);\n};\n\nexport const onItemTouchCancel = function (event) {\n\t// const e = getElements(this);\n\n\t// const iiv = getItemInteractionVars(this);\n\t// const bf = getBindedFunctions(this);\n\n\tonItemContextMenu.call(this, event);\n\t// iiv.touchHoldTimerComplete = false;\n\t// e.$limberGridView.addEventListener(\"touchstart\", bf.onDeskTouchStart);\n};\n\nexport const showMoveDemo = async function (index, mousePosition) {\n\tconst e = getElements(this);\n\n\ttry {\n\t\tif (mousePosition !== false) {\n\t\t\tawait moveItemDemo.call(this, index, mousePosition.x, mousePosition.y);\n\n\t\t\t// e.$limberGridViewMoveGuide.style.transform =\n\t\t\t// \t\"translate(\" + mousePosition.x + \"px, \" + mousePosition.y + \"px)\";\n\t\t\t// e.$limberGridViewMoveGuide.classList.add(\n\t\t\t// \t\"limber-grid-view-move-guide-active\"\n\t\t\t// );\n\n\t\t\te.$pseudoContainerItem.classList.remove(\n\t\t\t\t\"limber-grid-view-pseudo-container-item-move-disallow\"\n\t\t\t);\n\t\t\te.$pseudoContainerItem.classList.add(\n\t\t\t\t\"limber-grid-view-pseudo-container-item-move-allow\"\n\t\t\t);\n\t\t} else {\n\t\t\tthrow \"Invalid mouse position.\";\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(error);\n\t\te.$pseudoContainerItem.classList.remove(\n\t\t\t\"limber-grid-view-pseudo-container-item-move-allow\"\n\t\t);\n\t\te.$pseudoContainerItem.classList.add(\n\t\t\t\"limber-grid-view-pseudo-container-item-move-disallow\"\n\t\t);\n\t}\n};\n\nexport const showResizeDemo = async function (index, width, height) {\n\tconst e = getElements(this);\n\n\ttry {\n\t\tawait resizeItemDemo.call(this, index, width, height);\n\t\te.$limberGridViewPseudoItem.classList.add(\n\t\t\t\"limber-grid-view-pseudo-item-resize-allow\"\n\t\t);\n\t} catch (error) {\n\t\tconsole.error(error);\n\t\te.$limberGridViewPseudoItem.classList.add(\n\t\t\t\"limber-grid-view-pseudo-item-resize-disallow\"\n\t\t);\n\t}\n};\n\nexport const revertShowMoveOrResizeDemo = function (context) {\n\tconst e = getElements(context);\n\tconst pd = getPositionData(context);\n\n\tconst len = e.$limberGridViewItems.length;\n\tfor (let i = 0; i < len; i++) {\n\t\te.$limberGridViewItems[\n\t\t\ti\n\t\t].style.transform = `translate(${pd[i].x}px, ${pd[i].y}px)`;\n\t}\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nexport const DESK_INTERACTION_MODE = { ADD: true, CUTSPACE: true };\n\nexport const LATCH_MOVED_ITEM = { true: true, false: true };\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport { getOptions } from \"../store/variables/options\";\nimport {\n\tgetPositionData,\n\tsetPositionData,\n\tgetModifiedPositionData,\n\tsetModifiedPositionData,\n\tsetPseudoContainerId,\n\tgetPseudoContainerId,\n} from \"../store/variables/essentials\";\nimport getElements, {\n\tset$body,\n\tset$pseudoContainer,\n\tset$limberGridViewContainer,\n\tset$limberGridView,\n\tset$pseudoContainerItem,\n\tset$limberGridViewPseudoItem,\n\tset$limberGridViewMoveGuide,\n\tset$limberGridViewHeightAdjustGuide,\n\tset$limberGridViewAddCutGuide,\n\tset$limberGridViewTouchHoldGuide,\n} from \"../store/variables/elements\";\nimport getPrivateConstants, {\n\tsetWidth,\n\tsetHeight,\n\tsetPaddingLeft,\n\tsetPaddingRight,\n\tsetPaddingTop,\n\tsetPaddingBottom,\n\tsetWidthScaleFactor,\n\tsetMargin,\n\tsetDefinedMinHeightAndWidth,\n\tgetDefinedMinHeightAndWidth,\n\tsetGridWidth,\n\tsetGridHeight,\n\tsetGridMargin,\n\tsetMinHeightAndWidth,\n} from \"../store/constants/privateConstants\";\nimport getPublicConstants, {\n\tsetPublicConstantByName,\n} from \"../store/constants/publicConstants\";\nimport { checkPositionData } from \"../libs/renderers/rendererUtils\";\nimport { getRandomString } from \"../libs/utils/utils\";\nimport { arrangeFromHeight } from \"../libs/arrange/arrange\";\nimport { DESK_INTERACTION_MODE } from \"../store/flags/flagDetails\";\n\nexport const init = async function (context, isResize, autoArrange) {\n\t// if (typeof options.el === \"string\") {\n\t// \tconst el = document.getElementById(options.el);\n\t// \tif (!el) {\n\t// \t\tthrow `No for element found for id ${options.el}`;\n\t// \t}\n\t// \tset$el(el);\n\t// } else if (options.el instanceof Element) {\n\t// \tset$el(options.el);\n\t// } else {\n\t// \tthrow \"Valid DOM Element or Id required\";\n\t// }\n\n\t// set$body(context, document.getElementsByTagName(\"body\")[0]);\n\t// setPseudoElementId(\n\t// \tcontext,\n\t// \t\"limber-grid-view-pseudo-container-\" + getRandomString()\n\t// );\n\t// e.$body[0].insertAdjacentHTML(\n\t// \t\"beforeend\",\n\t// \t`<div id = ${getPseudoElementId(\n\t// \t\tcontext\n\t// \t)} class = \"limber-grid-view-pseudo-container\"></div>`\n\t// );\n\t// set$bodyPseudoEl(\n\t// \tcontext,\n\t// \tdocument.getElementById(getPseudoElementId(context))\n\t// );\n\n\t// e.$el.innerHTML = `<div class = \"limber-grid-view-container\"><style></style><div class = \"limber-grid-view\"></div><div class = \"limber-grid-view-license\"><div class = \"limber-grid-view-license-icon\">©</div><div class = \"limber-grid-view-license-details\">LimberGridView Copyright © 2018-2020, Subendra Kumar Sharma. License: GNU General Public License version 3, or (at your option) any later version.</div></div></div>`;\n\t// set$limberGridViewContainer(\n\t// \tcontext,\n\t// \te.$el.querySelectorAll(\".limber-grid-view-container\")[0]\n\t// );\n\t// set$limberGridViewStyle(context, e.$el.getElementsByTagName(\"style\")[0]);\n\t// set$limberGridView(context, e.$el.querySelectorAll(\".limber-grid-view\")[0]);\n\n\tconst e = getElements(context);\n\tconst privateConstants = getPrivateConstants(context);\n\tconst publicConstants = getPublicConstants(context);\n\tconst pd = getPositionData(context);\n\n\tif (autoArrange === true || !checkPositionData(pd)) {\n\t\tconsole.warn(\"Auto-arranging\");\n\n\t\tsetModifiedPositionData(context, pd);\n\t\tconst mpd = getModifiedPositionData(context);\n\t\tconst len = pd.length;\n\t\tconst arr = new Array(len);\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tarr[i] = i;\n\t\t\tmpd[i].x = undefined;\n\t\t\tmpd[i].y = undefined;\n\n\t\t\tpd[i].x /= privateConstants.WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].y /= privateConstants.WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].width /= privateConstants.WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].height /= privateConstants.WIDTH_SCALE_FACTOR;\n\t\t}\n\n\t\tsetWidth(context, privateConstants.GRID_WIDTH);\n\t\tsetHeight(context, privateConstants.GRID_HEIGHT);\n\t\tsetMargin(context, privateConstants.GRID_MARGIN);\n\t\tsetWidthScaleFactor(context, 1);\n\t\tsetDefinedMinHeightAndWidth(context, privateConstants.MIN_HEIGHT_AND_WIDTH);\n\n\t\tawait arrangeFromHeight(context, arr, privateConstants.MARGIN);\n\t\tsetPositionData(context, mpd);\n\t}\n\n\tsetPaddingLeft(\n\t\tcontext,\n\t\tparseInt(\n\t\t\twindow\n\t\t\t\t.getComputedStyle(e.$limberGridView, null)\n\t\t\t\t.getPropertyValue(\"padding-left\")\n\t\t)\n\t);\n\tsetPaddingRight(\n\t\tcontext,\n\t\tparseInt(\n\t\t\twindow\n\t\t\t\t.getComputedStyle(e.$limberGridView, null)\n\t\t\t\t.getPropertyValue(\"padding-right\")\n\t\t)\n\t);\n\tsetPaddingTop(\n\t\tcontext,\n\t\tparseInt(\n\t\t\twindow\n\t\t\t\t.getComputedStyle(e.$limberGridView, null)\n\t\t\t\t.getPropertyValue(\"padding-top\")\n\t\t)\n\t);\n\tsetPaddingBottom(\n\t\tcontext,\n\t\tparseInt(\n\t\t\twindow\n\t\t\t\t.getComputedStyle(e.$limberGridView, null)\n\t\t\t\t.getPropertyValue(\"padding-bottom\")\n\t\t)\n\t);\n\n\tsetWidth(\n\t\tcontext,\n\t\te.$limberGridView.clientWidth -\n\t\t\tprivateConstants.PADDING_LEFT -\n\t\t\tprivateConstants.PADDING_RIGHT\n\t);\n\n\tsetHeight(\n\t\tcontext,\n\t\te.$limberGridView.clientHeight -\n\t\t\tprivateConstants.PADDING_TOP -\n\t\t\tprivateConstants.PADDING_BOTTOM\n\t);\n\n\t// privateConstants.WIDTH =\n\t// \te.$limberGridView.clientWidth -\n\t// \tprivateConstants.PADDING_LEFT -\n\t// \tprivateConstants.PADDING_RIGHT;\n\t// privateConstants.HEIGHT =\n\t// \te.$limberGridView.clientHeight -\n\t// \tprivateConstants.PADDING_TOP -\n\t// \tprivateConstants.PADDING_BOTTOM;\n\n\tif (isResize) {\n\t\t// resiet item x, y, width, height; MARGIN, MIN_HEIGHT_AND_WIDTH\n\t\tconst len = pd.length;\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tpd[i].x /= privateConstants.WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].y /= privateConstants.WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].width /= privateConstants.WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].height /= privateConstants.WIDTH_SCALE_FACTOR;\n\t\t}\n\n\t\tprivateConstants.MARGIN /= privateConstants.WIDTH_SCALE_FACTOR;\n\t\tprivateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH /=\n\t\t\tprivateConstants.WIDTH_SCALE_FACTOR;\n\t}\n\n\tsetWidthScaleFactor(\n\t\tcontext,\n\t\tprivateConstants.WIDTH / privateConstants.GRID_WIDTH\n\t);\n\tsetMargin(\n\t\tcontext,\n\t\tprivateConstants.MARGIN * privateConstants.WIDTH_SCALE_FACTOR\n\t);\n\tsetDefinedMinHeightAndWidth(\n\t\tcontext,\n\t\tprivateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH *\n\t\t\tprivateConstants.WIDTH_SCALE_FACTOR\n\t);\n};\n\nexport const initConstantsAndFlags = function (options) {\n\t// Private Constants BEGIN\n\tif (options?.gridData?.WIDTH && !isNaN(options.gridData.WIDTH)) {\n\t\tsetGridWidth(this, options.gridData.WIDTH);\n\t}\n\n\tif (options?.gridData?.HEIGHT && !isNaN(options.gridData.HEIGHT)) {\n\t\tsetGridHeight(this, options.gridData.HEIGHT);\n\t}\n\n\tif (options?.gridData?.MARGIN && !isNaN(options.gridData.MARGIN)) {\n\t\tsetGridMargin(this, options.gridData.MARGIN);\n\t}\n\n\tif (\n\t\toptions?.gridData?.MIN_HEIGHT_AND_WIDTH &&\n\t\t!isNaN(options.gridData.MIN_HEIGHT_AND_WIDTH)\n\t) {\n\t\tsetMinHeightAndWidth(this.options.gridData.MIN_HEIGHT_AND_WIDTH);\n\t}\n\t// Private Constants ENDED\n\n\t// Public Constants BEGIN\n\tif (\n\t\toptions?.publicConstants?.mobileAspectRatio &&\n\t\t!isNaN(options.publicConstants.mobileAspectRatio)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"MOBILE_ASPECT_RATIO\",\n\t\t\toptions.publicConstants.mobileAspectRatio\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.moveGuideRadius &&\n\t\t!isNaN(options.publicConstants.moveGuideRadius)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"MOVE_GUIDE_RADIUS\",\n\t\t\toptions.publicConstants.moveGuideRadius\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.resizeSquareGuideLength &&\n\t\t!isNaN(options.publicConstants.resizeSquareGuideLength)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"RESIZE_SQUARE_GUIDE_LENGTH\",\n\t\t\toptions.publicConstants.resizeSquareGuideLength\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.resizeSquareBorderGuideWidth &&\n\t\t!isNaN(options.publicConstants.resizeSquareBorderGuideWidth)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"RESIZE_SQUARE_GUIDE_BORDER_WIDTH\",\n\t\t\toptions.publicConstants.resizeSquareBorderGuideWidth\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.autoScrollDistance &&\n\t\t!isNaN(options.publicConstants.autoScrollDistance)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"AUTO_SCROLL_DISTANCE\",\n\t\t\toptions.publicConstants.autoScrollDistance\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.autoScrollPoint &&\n\t\t!isNaN(options.publicConstants.autoScrollPoint)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"AUTO_SCROLL_POINT\",\n\t\t\toptions.publicConstants.autoScrollPoint\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.moveOrResizeHeightIncrements &&\n\t\t!isNaN(options.publicConstants.moveOrResizeHeightIncrements)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"MOVE_OR_RESIZE_HEIGHT_INCREMENTS\",\n\t\t\toptions.publicConstants.moveOrResizeHeightIncrements\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.mouseDownTime &&\n\t\t!isNaN(options.publicConstants.mouseDownTime)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"MOUSE_DOWN_TIME\",\n\t\t\toptions.publicConstants.mouseDownTime\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.touchHoldTime &&\n\t\t!isNaN(options.publicConstants.touchHoldTime)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"TOUCH_HOLD_TIME\",\n\t\t\toptions.publicConstants.touchHoldTime\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.demoWaitTime &&\n\t\t!isNaN(options.publicConstants.demoWaitTime)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"DEMO_WAIT_TIME\",\n\t\t\toptions.publicConstants.demoWaitTime\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.windowResizeWaitTime &&\n\t\t!isNaN(options.publicConstants.windowResizeWaitTime)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"WINDOW_RESIZE_WAIT_TIME\",\n\t\t\toptions.publicConstants.windowResizeWaitTime\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.deskInteractionMode &&\n\t\tDESK_INTERACTION_MODE[options.publicConstants.deskInteractionMode]\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"DESK_INTERACTION_MODE\",\n\t\t\toptions.publicConstants.deskInteractionMode\n\t\t);\n\t}\n\n\tif (typeof options?.publicConstants?.latchMovedItem === \"boolean\") {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"LATCH_MOVED_ITEM\",\n\t\t\toptions.publicConstants.latchMovedItem\n\t\t);\n\t}\n\n\tif (typeof options?.publicConstants?.animateMovedItem === \"boolean\") {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"ANIMATE_MOVED_ITEM\",\n\t\t\toptions.publicConstants.animateMovedItem\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.animateTime &&\n\t\t!isNaN(options.publicConstants.animateTime)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"ANIMATE_TIME\",\n\t\t\toptions.publicConstants.animateTime\n\t\t);\n\t}\n\n\t// Public Constants ENDED\n\n\t// Miscellaneous BEGIN\n\n\t// Miscellaneous ENDED\n};\n\nexport const initRender = function () {\n\tconst e = getElements(this);\n\tconst options = getOptions(this);\n\n\tset$body(this, document.getElementsByTagName(\"body\")[0]);\n\n\tlet pseudoContainerId;\n\tdo {\n\t\tpseudoContainerId =\n\t\t\t\"limber-grid-view-pseudo-container-\" + getRandomString();\n\t} while (document.getElementById(pseudoContainerId) !== null);\n\tsetPseudoContainerId(this, pseudoContainerId);\n\n\tconst pseudoContainer = document.createElement(\"div\");\n\tpseudoContainer.setAttribute(\"class\", \"limber-grid-view-pseudo-container\");\n\tpseudoContainer.setAttribute(\"id\", pseudoContainerId);\n\tset$pseudoContainer(this, pseudoContainer);\n\n\t// pseudo container should be kept in defined container, if not defined then body\n\tif (options.pseudoElementContainer) {\n\t\tlet $pseudoElementContainer;\n\t\tif (typeof options.pseudoElementContainer === \"string\") {\n\t\t\t$pseudoElementContainer = document.getElementById(\n\t\t\t\toptions.pseudoElementContainer\n\t\t\t);\n\t\t} else if (options.pseudoElementContainer instanceof Element) {\n\t\t\t$pseudoElementContainer = options.pseudoElementContainer;\n\t\t}\n\t\t$pseudoElementContainer.appendChild(pseudoContainer);\n\t} else {\n\t\te.$body.appendChild(pseudoContainer);\n\t}\n\n\te.$el.innerHTML = `<div class = \"limber-grid-view-container\"><div class = \"limber-grid-view\"></div><div class = \"limber-grid-view-license\"><div class = \"limber-grid-view-license-icon\">©</div><div class = \"limber-grid-view-license-details\">LimberGridView Copyright © 2018-2020, Subendra Kumar Sharma. License: GNU General Public License version 3, or (at your option) any later version.</div></div></div>`;\n\tset$limberGridViewContainer(\n\t\tthis,\n\t\te.$el.getElementsByClassName(\"limber-grid-view-container\")[0]\n\t);\n\tset$limberGridView(this, e.$el.getElementsByClassName(\"limber-grid-view\")[0]);\n\n\tconst pseudoContainerItem = document.createElement(\"div\");\n\tconst limberGridViewPseudoItem = document.createElement(\"div\");\n\tconst limberGridViewMoveGuide = document.createElement(\"div\"); // thing that shows to if there is a latch on item available on move\n\tconst limberGridViewHeightAdjustGuide = document.createElement(\"div\");\n\tconst limberGridViewAddCutGuide = document.createElement(\"div\"); // desk interaction rect\n\tconst limberGridViewTouchHoldGuide = document.createElement(\"div\"); // touch hold animation\n\tlimberGridViewTouchHoldGuide.innerHTML = \"<div></div>\";\n\n\tpseudoContainerItem.setAttribute(\n\t\t\"class\",\n\t\t\"limber-grid-view-pseudo-container-item\"\n\t);\n\tlimberGridViewPseudoItem.setAttribute(\n\t\t\"class\",\n\t\t\"limber-grid-view-pseudo-item\"\n\t);\n\tlimberGridViewMoveGuide.setAttribute(\"class\", \"limber-grid-view-move-guide\");\n\tlimberGridViewHeightAdjustGuide.setAttribute(\n\t\t\"class\",\n\t\t\"limber-grid-view-height-adjust-guide\"\n\t);\n\tlimberGridViewAddCutGuide.setAttribute(\n\t\t\"class\",\n\t\t\"limber-grid-view-add-cut-guide\"\n\t);\n\tlimberGridViewTouchHoldGuide.setAttribute(\n\t\t\"class\",\n\t\t\"limber-grid-view-touch-hold-guide\"\n\t);\n\n\te.$pseudoContainer.appendChild(pseudoContainerItem);\n\te.$limberGridView.appendChild(limberGridViewPseudoItem);\n\te.$limberGridView.appendChild(limberGridViewMoveGuide);\n\te.$limberGridView.appendChild(limberGridViewHeightAdjustGuide);\n\te.$limberGridView.appendChild(limberGridViewAddCutGuide);\n\te.$limberGridView.appendChild(limberGridViewTouchHoldGuide);\n\n\tset$pseudoContainerItem(this, pseudoContainerItem);\n\tset$limberGridViewPseudoItem(this, limberGridViewPseudoItem);\n\tset$limberGridViewMoveGuide(this, limberGridViewMoveGuide);\n\tset$limberGridViewHeightAdjustGuide(this, limberGridViewHeightAdjustGuide);\n\tset$limberGridViewAddCutGuide(this, limberGridViewAddCutGuide);\n\tset$limberGridViewTouchHoldGuide(this, limberGridViewTouchHoldGuide);\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport getPublicConstants from \"../../store/constants/publicConstants\";\n// import getPrivateConstants from \"../../store/constants/privateConstants\";\nimport getOptions from \"../../store/variables/options\";\nimport { getCallbacks } from \"../../store/variables/essentials\";\nimport { getBindedFunctions } from \"../../store/variables/bindedFunctions\";\nimport { init } from \"../../initializers/initializers\";\nimport { render } from \"../renderers/renderers\";\n\nexport const onWindowResize = function (event) {\n\tconst publicConstants = getPublicConstants(this);\n\n\tsetTimeout(\n\t\tgetBindedFunctions(this).onWindowResizeTimerCallback,\n\t\t// onWindowResizeTimerCallback,\n\t\tpublicConstants.WINDOW_RESIZE_WAIT_TIME\n\t\t// this\n\t);\n\twindow.removeEventListener(\"resize\", getBindedFunctions(this).onWindowResize);\n};\n\nexport const onWindowResizeTimerCallback = async function (event) {\n\tawait init(this, true, false);\n\trender(this);\n\n\tconst options = getOptions(this);\n\n\tif (options.reRenderOnResize !== false) {\n\t\twindow.addEventListener(\"resize\", getBindedFunctions(this).onWindowResize);\n\t}\n};\n\nexport const onItemClick = function (event) {\n\tconst callbacks = getCallbacks(this);\n\n\tcallbacks.onItemClickCallback(event);\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport \"./index.css\";\nimport \"./index.scss\";\n\nimport {\n\tonItemMouseDown,\n\tonItemTouchStart,\n\tonItemMouseMove,\n\tonItemTouchMove,\n\tonItemMouseUp,\n\tonItemTouchEnd,\n\tonItemContextMenu,\n\tonItemTouchContextMenu,\n\tonItemTouchCancel,\n} from \"./libs/eventHandlerLib/itemInteraction\";\nimport {\n\tonDeskMouseDown,\n\tonDeskTouchStart,\n\tonDeskMouseMove,\n\tonDeskTouchMove,\n\tonDeskMouseUp,\n\tonDeskTouchEnd,\n\tonDeskContextMenu,\n\tonDeskTouchContextMenu,\n\tonDeskTouchCancel,\n} from \"./libs/eventHandlerLib/deskInteraction\";\nimport {\n\tonWindowResize,\n\tonWindowResizeTimerCallback,\n} from \"./libs/eventHandlerLib/miscellaneous\";\n\nimport { fixTo } from \"./libs/utils/utils\";\nimport {\n\tgetPublicConstants,\n\tsetPublicConstantByName,\n} from \"./store/constants/publicConstants\";\nimport {\n\tgetPrivateConstants,\n\t// setGridWidth,\n\t// setGridHeight,\n\t// setGridMargin,\n\t// setMinHeightAndWidth,\n} from \"./store/constants/privateConstants\";\nimport { setOptions } from \"./store/variables/options\";\n\nimport {\n\tsetPositionData,\n\tgetPositionData,\n\tsetGridData,\n\tsetCallbacks,\n\t// setPseudoContainerId,\n\t// getPseudoContainerId,\n} from \"./store/variables/essentials\";\nimport {\n\t// getElements,\n\t// set$body,\n\tset$el,\n\t// set$pseudoContainer,\n\t// set$limberGridViewContainer,\n\t// set$limberGridView,\n\t// set$pseudoContainerItem,\n\t// set$limberGridViewPseudoItem,\n\t// set$limberGridViewMoveGuide,\n\t// set$limberGridViewHeightAdjustGuide,\n\t// set$limberGridViewAddCutGuide,\n\t// set$limberGridViewTouchHoldGuide,\n} from \"./store/variables/elements\";\nimport {\n\tDESK_INTERACTION_MODE,\n\tLATCH_MOVED_ITEM,\n} from \"./store/flags/flagDetails\";\nimport { getBindedFunctions } from \"./store/variables/bindedFunctions\";\n\nimport {\n\trender,\n\trenderItem as _renderItem,\n\taddItem as _addItem,\n} from \"./libs/renderers/renderers\";\n// import { removeItems, addItems } from \"./libs/renderers/addOrRemoveItems\";\nimport {\n\tinit,\n\tinitConstantsAndFlags,\n\tinitRender,\n} from \"./initializers/initializers\";\n\nLimberGridView.prototype.constructor = LimberGridView;\n\n// ----------------------------------------------------------------------------------------- //\n\n// ---------------------------------- INPUT DATA FORMAT ------------------------------------ //\n\n// ----------------------------------------------------------------------------------------- //\n\n/*\n\n\tprocessTypes : render, addItems, addItemInteractive, removeItems, resizeItems, onDemand(default for invoked), <custom> (for invoked)\n\n\tvar options = {\n\t\tel : \"#\",\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// id of the parent element with #\n\t\teditable : true, \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// true/false (optional default true)\n\t\tenableInteractiveAddAndCut : true,\t\t\t\t\t\t\t\t\t\t\t\t\t\t// true/false (optional default true)\n\t\tenableTouchInteraction : true,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// true/false (optional default true)\n\t\t//dataType : \"string\", \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// string/node\n\t\tautoArrange : true,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// true/false (compulsory if x and y not present else optional)\n\t\treRenderOnResize : true, \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// true/false (optional default true)\n\t\tisMobileCheck: function\n\t\tpseudoElementContainer: string or element\n\t\titemMouseDownMoveCheck: function \t\t\t\t\t\t\t\t\t\t\t\t\t\t// x clicked/touched, y clicked/touched, item, index\n\t\titemMouseDownResizeCheck: function \t\t\t\t\t\t\t\t\t\t\t\t\t\t// x clicked/touched, y clicked/touched, item, index\n\n\t\tgridData : {\n\t\t\tWIDTH : 1920,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// width of limberGridView\n\t\t\tHEIGHT : 1080, \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// height of limberGridView\n\t\t\tMARGIN : 8, \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// margin for items\n\t\t\tMIN_HEIGHT_AND_WIDTH: 150 \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// min height and width of items\n\t\t},\n\t\tpositionData: [\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// position Data\n\t\t\t{x : <value>, y : <value>, width : <value>, height : <value>},\n\t\t\t\t{x : <value>, y : <value>, width : <value>, height : <value>},\n\n\t\t\t\t\tOR (if autoArrange set to true)\n\n\t\t\t\t{width : <value>, height : <value>},\n\t\t\t\t{width : <value>, height : <value>},\n\t\t\t\t...,\n\t\t\t\t...,\n\t\t\t\t...\n\t\t],\n\t\tcallbacks : {\n\t\t\trenderComplete : function(){}, \t\t\t\t\t\t\t\t\t\t\t\t\t\t// callback for completion of render function or renderItem, passes index of rendered Item if only was rendered by external program or passes index undefined if it was first render\n\t\t\trenderContent : function(index, width, height, type){},\t\t\t\t\t\t\t\t\t// callback to get data inside an item, type is \"isAdd\" on addItem and type is \"isResize\" on resizeItem. Update slipping \"isResize\" as it is not likely to be needed\n\t\t\taddComplete : function(index){}\n\t\t\tremoveComplete: function(index){}\n\t\t\tmoveComplete: function(index, toX, toY, arrangedIndices) {}\n\t\t\tresizeComplete: function(index, width, height, arrangedIndices){}\n\n\t\t\t//getItemRenderDataCallback : function(index, width, height, processType){}, \t\t\t// callback to get string or node object to render inside the item\n\t\t\tonItemClickCallback : function(event){},\t\t\t\t\t\t\t\t\t\t\t// click callback for item\n\t\t\t//itemsRenderComplete : function([index, index, ...], scale, processType){}, \t\t\t// callback for completion of renderItems function\n\t\t\t//resizeCompleteCallback : function(index, {x, y, width, height}){}, \t\t\t\t\t// callback for completion of resizing an item\n\t\t\t//moveCompleteCallback : function(status, index, {x, y, width, height} or event){}, \t\t\t\t\t// callback for completion of moving an item\n\t\t\t//addCompleteCallback : function([index, index, ...], width, height, processType){}, \t// callback for completion of adding an item\n\t\t\t//removeCompleteCallback : function([index, index, ...]){}, \t\t\t\t\t\t\t// callback for completion of removing an item\n\t\t},\n\t\tpublicConstants: {\n\t\t\tmobileAspectRatio : <value>, \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// aspect ratio of for mobile devices\n\n\t\t\tmoveGuideRadius: number,\n\t\t\tresizeSquareGuideLength: number\n\t\t\tresizeSquareGuideBorderWidth: number\n\t\t\tautoScrollDistance: number\n\t\t\tautoScrollPoint: number\n\t\t\tmoveOrResizeHeightIncrements: number\n\n\t\t\tmouseDownTime: number\n\t\t\ttouchHoldTime: number\n\t\t\tdemoWaitTime: number\n\t\t\twindowResizeWaitTime: number\n\n\t\t\tdeskInteractionMode: \"ADD\"/\"CUTSPACE\"\n\n\t\t\tlatchMovedItem: boolean\n\t\t\tanimateMovedItem: boolean\n\t\t\tanimateTime: number\n\t\t}\n\t}\n\t*/\n\n// ----------------------------------------------------------------------------------------- //\n\n// ---------------------------------- INPUT DATA FORMAT END -------------------------------- //\n\n// ----------------------------------------------------------------------------------------- //\n\n// ----------------------------------------------------------------------------------------- //\n\n// ---------------------------------- CONSTANTS YOU CAN CHANGE ----------------------------- //\n\n// ----------------------------------------------------------------------------------------- //\n\n// LimberGridView.prototype.MOVE_GUIDE_RADIUS = 10;\n// LimberGridView.prototype.RESIZE_SQUARE_GUIDE_LENGTH = 10;\n// LimberGridView.prototype.RESIZE_SQUARE_BORDER_GUIDE_WIDTH = 3;\n// LimberGridView.prototype.AUTO_SCROLL_DISTANCE = 50;\n// LimberGridView.prototype.AUTO_SCROLL_POINT = 50;\n// LimberGridView.prototype.MOVE_OR_RESIZE_HEIGHT_INCREMENTS = 50;\n\n// LimberGridView.prototype.MOUSE_DOWN_TIME = 500;\n// LimberGridView.prototype.TOUCH_HOLD_TIME = 300;\n// LimberGridView.prototype.DEMO_WAIT_TIME = 500;\n// LimberGridView.prototype.WINDOW_RESIZE_WAIT_TIME = 1000;\n// LimberGridView.prototype.MARGIN = 5;\n\n// LimberGridView.prototype.MOBILE_ASPECT_RATIO = 16 / 9;\n\n// LimberGridView.prototype.ADD_OR_CUTSPACE_TOGGLE = \"ADD\";\n\n// ----------------------------------------------------------------------------------------- //\n\n// ---------------------------------- CONSTANTS YOU CAN CHANGE END ------------------------- //\n\n// ----------------------------------------------------------------------------------------- //\n\nfunction LimberGridView(options) {\n\tthis.initializeStore();\n\tsetOptions(this, options);\n\tsetPositionData(this, options.positionData);\n\tsetCallbacks(this, options.callbacks);\n\n\t// INITIALIZATION BEGIN\n\tif (typeof options.el === \"string\") {\n\t\tconst el = document.getElementById(options.el);\n\t\tif (!el) {\n\t\t\tthrow `No for element found for id ${options.el}`;\n\t\t}\n\t\tset$el(this, el);\n\t} else if (options.el instanceof Element) {\n\t\tset$el(this, options.el);\n\t} else {\n\t\tthrow \"Valid DOM Element or Id required\";\n\t}\n\n\tinitConstantsAndFlags.call(this, options);\n\tinitRender.call(this);\n\n\t// INITIALIZATION ENDED\n\n\tif (this.options.reRenderOnResize === true) {\n\t\twindow.addEventListener(\"resize\", getBindedFunctions(this).onWindowResize);\n\t}\n\n\tsetTimeout(\n\t\tasync function () {\n\t\t\tawait init(this, false, options.autoArrange);\n\t\t\trender(this, true);\n\t\t}.bind(this)\n\t);\n}\n\nLimberGridView.prototype.initializeStore = function () {\n\tthis.options = {\n\t\teditable: true,\n\t\treRenderOnResize: true,\n\t\tenableInteractiveAddAndCut: true,\n\t\tenableTouchInteraction: true,\n\t};\n\tthis.store = {\n\t\tvariables: {\n\t\t\telements: {\n\t\t\t\t$body: undefined,\n\t\t\t\t$pseudoContainer: undefined,\n\t\t\t\t$pseudoContainerItem: undefined,\n\t\t\t\t$el: undefined,\n\t\t\t\t$limberGridViewContainer: undefined,\n\t\t\t\t$limberGridView: undefined,\n\t\t\t\t$limberGridViewItems: [],\n\t\t\t\t$limberGridViewPseudoItem: undefined,\n\t\t\t\t$limberGridViewMoveGuide: undefined,\n\t\t\t\t$limberGridViewHeightAdjustGuide: undefined,\n\t\t\t\t$limberGridViewAddCutGuide: undefined, // limberGridViewAddItemGuide\n\t\t\t\t$limberGridViewTouchHoldGuide: undefined, // limberGridViewAddItemOnTouchHoldGuide\n\t\t\t\t//  DEBUG elements:\n\t\t\t\t$limberGridViewDebugMergedTempRects: [],\n\t\t\t\t$limberGridViewDebugStackTopRect: undefined,\n\t\t\t\t$limberGridViewDebugStackTopAdjRect: undefined,\n\t\t\t\t$limberGridViewDebugMergedRect: undefined,\n\t\t\t\t$limberGridViewDebugAdjRect: undefined,\n\t\t\t\t$limberGridViewDebugResultStackRects: [],\n\t\t\t\t$limberGridViewDebugStackRects: [],\n\t\t\t\t$limberGridViewDebugUnmergedRects: [],\n\t\t\t\t$limberGridViewDebugMergedFreeRects: [],\n\t\t\t},\n\t\t\tessentials: {\n\t\t\t\tpseudoContainerId: undefined,\n\t\t\t\tpositionData: [],\n\t\t\t\tmodifiedPositionData: [],\n\t\t\t\tgridData: {},\n\t\t\t\tcallbacks: {},\n\t\t\t},\n\t\t\tbindedFunctions: {\n\t\t\t\tonItemMouseDown: onItemMouseDown.bind(this),\n\t\t\t\tonItemTouchStart: onItemTouchStart.bind(this),\n\t\t\t\tonItemMouseMove: onItemMouseMove.bind(this),\n\t\t\t\tonItemTouchMove: onItemTouchMove.bind(this),\n\t\t\t\tonItemMouseUp: onItemMouseUp.bind(this),\n\t\t\t\tonItemTouchEnd: onItemTouchEnd.bind(this),\n\t\t\t\tonItemContextMenu: onItemContextMenu.bind(this),\n\t\t\t\tonItemTouchContextMenu: onItemTouchContextMenu.bind(this),\n\t\t\t\tonItemTouchCancel: onItemTouchCancel.bind(this),\n\t\t\t\t// Desk\n\t\t\t\tonDeskMouseDown: onDeskMouseDown.bind(this),\n\t\t\t\tonDeskTouchStart: onDeskTouchStart.bind(this),\n\t\t\t\tonDeskMouseMove: onDeskMouseMove.bind(this),\n\t\t\t\tonDeskTouchMove: onDeskTouchMove.bind(this),\n\t\t\t\tonDeskMouseUp: onDeskMouseUp.bind(this),\n\t\t\t\tonDeskTouchEnd: onDeskTouchEnd.bind(this),\n\t\t\t\tonDeskTouchCancel: onDeskTouchCancel.bind(this),\n\t\t\t\tonDeskTouchContextMenu: onDeskTouchContextMenu.bind(this),\n\t\t\t\tonDeskContextMenu: onDeskContextMenu.bind(this),\n\n\t\t\t\t//\n\t\t\t\tonWindowResize: onWindowResize.bind(this),\n\t\t\t\tonWindowResizeTimerCallback: onWindowResizeTimerCallback.bind(this),\n\t\t\t},\n\t\t\teventSpecific: {\n\t\t\t\titemInteraction: {\n\t\t\t\t\tuserActionData: {},\n\t\t\t\t\tmouseDownCancel: false,\n\t\t\t\t\tmouseDownTimerComplete: true,\n\t\t\t\t\ttouchHoldCancel: false,\n\t\t\t\t\ttouchHoldTimerComplete: false,\n\t\t\t\t\tlongPressCheck: undefined,\n\t\t\t\t\tlongTouchCheck: undefined,\n\t\t\t\t\tshowResizeDemoTimeOutVariable: undefined,\n\t\t\t\t\tshowMoveDemoTimeOutVariable: undefined,\n\t\t\t\t},\n\t\t\t\tdeskInteraction: {\n\t\t\t\t\tuserActionData: {},\n\t\t\t\t\tmouseDownCancel: false,\n\t\t\t\t\tmouseDownTimerComplete: false,\n\t\t\t\t\ttapHoldCancel: false,\n\t\t\t\t\ttapHoldTimerComplete: false,\n\t\t\t\t\tlongPressCheck: undefined,\n\t\t\t\t\tlongTouchCheck: undefined,\n\t\t\t\t\taddItemAllowCheckTimeOutVariable: undefined,\n\t\t\t\t\tcutSpaceAllowCheckTimeOutVariable: undefined,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tconstants: {\n\t\t\tprivateConstants: {\n\t\t\t\t// reinitialized in init i.e. first render and window resize BEGIN\n\t\t\t\tWIDTH: 0,\n\t\t\t\tHEIGHT: 0,\n\n\t\t\t\tPADDING_LEFT: 0,\n\t\t\t\tPADDING_RIGHT: 0,\n\t\t\t\tPADDING_TOP: 0,\n\t\t\t\tPADDING_BOTTOM: 0,\n\n\t\t\t\tWIDTH_SCALE_FACTOR: 1,\n\n\t\t\t\tMARGIN: 8,\n\t\t\t\tDEFINED_MIN_HEIGHT_AND_WIDTH: 150,\n\t\t\t\t// reinitialized in init i.e. first render and window resize ENDED\n\n\t\t\t\t// These should be decided and set only once for app development, if custom values are used then it should be passed everytime\n\t\t\t\tGRID_WIDTH: 1920,\n\t\t\t\tGRID_HEIGHT: 1080,\n\t\t\t\tGRID_MARGIN: 8,\n\t\t\t\tMIN_HEIGHT_AND_WIDTH: 150,\n\t\t\t},\n\t\t\tpublicConstants: {\n\t\t\t\tMOBILE_ASPECT_RATIO: 5 / 4,\n\n\t\t\t\tMOVE_GUIDE_RADIUS: 10,\n\t\t\t\tRESIZE_SQUARE_GUIDE_LENGTH: 10,\n\t\t\t\tRESIZE_SQUARE_GUIDE_BORDER_WIDTH: 3,\n\t\t\t\tAUTO_SCROLL_DISTANCE: 50,\n\t\t\t\tAUTO_SCROLL_POINT: 50,\n\t\t\t\tMOVE_OR_RESIZE_HEIGHT_INCREMENTS: 50,\n\n\t\t\t\tMOUSE_DOWN_TIME: 500,\n\t\t\t\tTOUCH_HOLD_TIME: 300,\n\t\t\t\tDEMO_WAIT_TIME: 500,\n\t\t\t\tWINDOW_RESIZE_WAIT_TIME: 1000,\n\n\t\t\t\tDESK_INTERACTION_MODE: \"ADD\",\n\n\t\t\t\tLATCH_MOVED_ITEM: true,\n\n\t\t\t\tANIMATE_MOVED_ITEM: false,\n\t\t\t\tANIMATE_TIME: 250,\n\t\t\t},\n\t\t},\n\t};\n};\n\nLimberGridView.prototype.renderItem = function (index) {\n\t_renderItem(this, index);\n};\n\nLimberGridView.prototype.getGridData = function () {\n\tconst privateConstants = getPrivateConstants(this);\n\tconst pd = getPositionData(this);\n\n\tconst len = pd.length;\n\tconst arr = new Array(len);\n\tfor (let i = 0; i < len; i++) {\n\t\tarr[i] = {\n\t\t\tx: fixTo(pd[i].x / privateConstants.WIDTH_SCALE_FACTOR),\n\t\t\ty: fixTo(pd[i].y / privateConstants.WIDTH_SCALE_FACTOR),\n\t\t\twidth: fixTo(pd[i].width / privateConstants.WIDTH_SCALE_FACTOR),\n\t\t\theight: fixTo(pd[i].height / privateConstants.WIDTH_SCALE_FACTOR),\n\t\t};\n\t}\n\n\t// TO DO: have to scale positionData to GRID_HEIGHT, GRID_WIDTH and GRID_MARGIN\n\t// Have to send a copy since it will be scaled to output specifications\n\treturn {\n\t\tgridData: {\n\t\t\theight: privateConstants.GRID_HEIGHT,\n\t\t\twidth: privateConstants.GRID_WIDTH,\n\t\t\tmargin: privateConstants.GRID_MARGIN,\n\t\t\tMIN_HEIGHT_AND_WIDTH: privateConstants.MIN_HEIGHT_AND_WIDTH,\n\t\t},\n\t\tpositionData: arr,\n\t};\n};\n\nLimberGridView.prototype.setDeskInteractMode = function (flag) {\n\tif (DESK_INTERACTION_MODE[flag]) {\n\t\tsetPublicConstantByName(this, \"DESK_INTERACTION_MODE\", flag);\n\t}\n};\n\nLimberGridView.prototype.setLatchMovedItem = function (flag) {\n\tif (LATCH_MOVED_ITEM[flag]) {\n\t\tsetPublicConstantByName(this, \"LATCH_MOVED_ITEM\", flag);\n\t}\n};\n\nLimberGridView.prototype.addItem = function (item) {\n\tif (!item) {\n\t\tconst privateConstants = getPrivateConstants(this);\n\t\titem = {\n\t\t\twidth: privateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH,\n\t\t\theight: privateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH,\n\t\t};\n\t}\n\n\t_addItem(this, item);\n};\n\nLimberGridView.prototype.setIsMobileCheck = function (f) {\n\tthis.options.isMobileCheck = f;\n};\n\nexport default LimberGridView;\n"],"sourceRoot":""}
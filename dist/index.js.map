{"version":3,"sources":["webpack://LimberGridView/webpack/universalModuleDefinition","webpack://LimberGridView/webpack/bootstrap","webpack://LimberGridView/./node_modules/IntervalTreeJS/dist/index.js","webpack://LimberGridView/./node_modules/ClosestBST/dist/index.js","webpack://LimberGridView/./src/index.css?4149","webpack://LimberGridView/./src/index.scss","webpack://LimberGridView/./src/store/constants/privateConstants.js","webpack://LimberGridView/./src/store/constants/publicConstants.js","webpack://LimberGridView/./src/libs/utils/utils.js","webpack://LimberGridView/./src/store/variables/essentials.js","webpack://LimberGridView/./src/store/variables/elements.js","webpack://LimberGridView/./src/libs/utils/essentials.js","webpack://LimberGridView/./src/libs/eventHandlerLib/eventHandlerUtils.js","webpack://LimberGridView/./src/store/variables/options.js","webpack://LimberGridView/./src/libs/eventHandlerLib/itemInteractionUtils.js","webpack://LimberGridView/./src/libs/rect/rectUtils.js","webpack://LimberGridView/./src/libs/eventHandlerLib/deskInteractionUtils.js","webpack://LimberGridView/./src/libs/arrange/arrangeUtils.js","webpack://LimberGridView/./src/store/variables/bindedFunctions.js","webpack://LimberGridView/./src/libs/eventHandlerLib/initializers.js","webpack://LimberGridView/./src/store/variables/eventSpecific.js","webpack://LimberGridView/./src/libs/array/arrayUtils.js","webpack://LimberGridView/./src/libs/stack/stack.js","webpack://LimberGridView/./src/libs/debug/debug.js","webpack://LimberGridView/./src/libs/arrange/arrange.js","webpack://LimberGridView/./src/libs/renderers/rendererUtils.js","webpack://LimberGridView/./src/libs/renderers/renderers.js","webpack://LimberGridView/./src/libs/eventHandlerLib/deskInteraction.js","webpack://LimberGridView/./src/libs/interaction/itemInteractionUtils.js","webpack://LimberGridView/./src/libs/interaction/itemInteraction.js","webpack://LimberGridView/./src/libs/eventHandlerLib/itemInteraction.js","webpack://LimberGridView/./src/store/flags/flagDetails.js","webpack://LimberGridView/./src/initializers/initializers.js","webpack://LimberGridView/./src/libs/eventHandlerLib/miscellaneous.js","webpack://LimberGridView/./src/index.js"],"names":["setPrivateConstants","context","val","store","constants","privateConstants","getPrivateConstants","setPrivateConstantByName","name","value","hasOwnProperty","getPrivateConstantByName","setWidth","WIDTH","getWidth","setHeight","HEIGHT","getHeight","setPaddingLeft","PADDING_LEFT","getPaddingLeft","setPaddingRight","PADDING_RIGHT","getPaddingRight","setPaddingTop","PADDING_TOP","getPaddingTop","setPaddingBottom","PADDING_BOTTOM","getPaddingBottom","setWidthScaleFactor","WIDTH_SCALE_FACTOR","getWidthScaleFactor","setMargin","MARGIN","getMargin","setDefinedMinHeightAndWidth","DEFINED_MIN_HEIGHT_AND_WIDTH","getDefinedMinHeightAndWidth","setGridWidth","GRID_WIDTH","getGridWidth","setGridHeight","GRID_HEIGHT","getGridHeight","setGridMargin","GRID_MARGIN","getGridMargin","setMinHeightAndWidth","MIN_HEIGHT_AND_WIDTH","getMinHeightAndWidth","setPublicConstants","publicConstants","getPublicConstants","setPublicConstantByName","getPublicConstantByName","emptyObject","obj","keys","Object","length","i","isMobile","isMobileFunction","options","isMobileCheck","window","matchMedia","matches","fixTo","num","to","Math","trunc","pow","filter","arr","len","temp","Array","count","undefined","res","getRandomString","alpNum","floor","random","join","getItemDimenWithMargin","item","x","y","width","height","setEssentialVariables","ev","variables","essentials","getEssentialVariables","setPseudoContainerId","id","pseudoContainerId","getPseudoContainerId","setPositionData","pd","positionData","getPositionData","setModifiedPositionData","modifiedPositionData","getModifiedPositionData","setGridData","grid","gridData","assign","JSON","parse","stringify","getGridData","setCallbacks","cbs","callbacks","getCallbacks","setSerializedPositionData","serPos","serializedPositionData","getSerializedPositionData","getElements","elements","set$body","elm","$body","get$body","set$pseudoContainer","$pseudoContainer","get$pseudoContainer","set$pseudoContainerItem","$pseudoContainerItem","get$pseudoContainerItem","set$el","$el","get$el","set$limberGridViewContainer","$limberGridViewContainer","get$limberGridViewContainer","set$limberGridView","$limberGridView","get$limberGridView","set$limberGridViewItems","$limberGridViewItems","get$limberGridViewItems","set$limberGridViewPseudoItem","$limberGridViewPseudoItem","get$limberGridViewPseudoItem","set$limberGridViewMoveGuide","$limberGridViewMoveGuide","get$limberGridViewMoveGuide","set$limberGridViewHeightAdjustGuide","$limberGridViewHeightAdjustGuide","get$limberGridViewHeightAdjustGuide","set$limberGridViewAddCutGuide","$limberGridViewAddCutGuide","get$limberGridViewAddCutGuide","set$limberGridViewTouchHoldGuide","$limberGridViewTouchHoldGuide","get$limberGridViewTouchHoldGuide","set$limberGridViewDebugMergedTempRects","$limberGridViewDebugMergedTempRects","get$limberGridViewDebugMergedTempRects","set$limberGridViewDebugStackTopRect","$limberGridViewDebugStackTopRect","get$limberGridViewDebugStackTopRect","set$limberGridViewDebugStackTopAdjRect","$limberGridViewDebugStackTopAdjRect","get$limberGridViewDebugStackTopAdjRect","set$limberGridViewDebugMergedRect","$limberGridViewDebugMergedRect","get$limberGridViewDebugMergedRect","set$limberGridViewDebugAdjRect","$limberGridViewDebugAdjRect","get$limberGridViewDebugAdjRect","set$limberGridViewDebugStackRects","$limberGridViewDebugStackRects","get$limberGridViewDebugStackRects","set$limberGridViewDebugResultStackRects","$limberGridViewDebugResultStackRects","get$limberGridViewDebugResultStackRects","set$limberGridViewDebugUnmergedRects","$limberGridViewDebugUnmergedRects","get$limberGridViewDebugUnmergedRects","set$limberGridViewDebugMergedFreeRects","$limberGridViewDebugMergedFreeRects","get$limberGridViewDebugMergedFreeRects","getPlainFrom4Points","pointsArray","minX","minY","maxX","maxY","length_0","plane","getCoordinates","itemTopLeft","itemTopRight","itemBottomLeft","itemBottomRight","itemCoordinatesArr","getLines","topLine","rightLine","bottomLine","leftLine","allLines","arePlainsSame","A","B","arePlainsIdentical","isValidPlane","sortPlainsByArea","planes","order","sort","a","b","sortPlainsByHeight","sortPlainsByDepth","divideEqualNumber","DEFAULT","NaN","getMarginAtPoint","getRowSequence","serialize","rows","rowsArr","columns","push","Number","rowOrder","map","length_1","j","list","adjustHeight","yMouseOrTouchPosition","e","scrollHeight","AUTO_SCROLL_POINT","style","MOVE_OR_RESIZE_HEIGHT_INCREMENTS","adjustScroll","limberGridViewOnVisibleAreaY","limberGridViewHeightVisibleHeight","scrollTop","programScrolled","AUTO_SCROLL_DISTANCE","calculateMousePosOnDesk","event","limberGridViewPosition","getBoundingClientRect","clientX","left","clientY","top","scrollLeft","mouseXOnLimberGridView","mouseYOnLimberGridView","calculateTouchPosOnDesk","touch","type","changedTouches","touches","touchXOnLimberGridView","touchYOnLimberGridView","calculateTouchPosOnItem","limberGridViewItemPosition","currentTarget","attributes","setOptions","getOptions","getUserActionData","itemIndex","parseInt","radius","touchPosOnLimberGridItem","X","Y","which","sqrt","offsetX","offsetY","resizeUIBox","offsetWidth","RESIZE_SQUARE_GUIDE_LENGTH","offsetHeight","RESIZE_SQUARE_GUIDE_BORDER_WIDTH","itemMouseDownMoveCheck","MOVE_GUIDE_RADIUS","itemMouseDownResizeCheck","loadResizingState","userActionData","classList","add","setAttribute","transform","itemX","itemY","remove","itemsLen","unloadResizingState","loadMoveState","pageX","pageY","unloadMoveState","loadOnMoveState","unloadOnMoveState","isPointInsideRect","rect","point","rectCo","tl","tr","bl","doesPointTouchRect","doRectsOverlap","rectA","rectB","isNaN","tlA","brA","tlB","brB","doRectsOnlyTouch","subtractRect","oCoForm","rectACo","rectBCo","subRects","subRectT","br","subRectR","subRectB","subRectL","isValidRectCoForm","tm","rm","bm","lm","tlNtm","tmNtr","trNrm","rmNbr","brNbm","bmNbl","blNlm","lmNtl","horizontalSubtract","verticalSubtract","rects","getRectObjectFromCo","o","result","abs","right","bottom","areRectsAdjacent","mergeRects","merge","mergeOverlapping","diff","m","isRectInside","areRectsOnSameYAxisExPath","areRectsIdentical","loadInitState","DESK_INTERACTION_MODE","unloadInitState","isFlippingPosPossible","affectedItems","getMinMaxXY","resizedRightX","resizedBottomY","toY","movedBottomY","MAX_SAFE_INTEGER","filterToArrange","toArrangeItems","arranged","getBottomMax","mpd","max","mItem","getTopBottomWS","workSpaceRectCo","topWorkSpaceCo","bottomWorkSpaceCo","bottomMax","getItemsInWorkSpace","workSpaceRect","getIndices","itemsInWorkSpace","getItemsBelowBottomWorkSpace","items","getResizeWSItemsDetail","wsCo","topWsCo","bottomWsCo","cWsCo","itemsToArrange","wsPlusTopWsCo","wsPlusTopWs","bottomWs","cWs","iToALen","_itemsToArrange","filteredItemsToArrange","updatedItemsToArrange","uCount","iCount","_item","cBSTRectComparator","node","v","d","cBSTLComp","cBSTRComp","getScore","maxHWSum","getItemsToArrangeScore","maxHeight","maxWidth","score","scoreArr","getPerfectMatch","hwSum","shiftItemsDown","shiftItemsUp","shiftHeight","addItemAllowCheck","tempPlane","isInside","cutSpaceAllowCheck","atLeastOneOverlapping","isOverlapping","topPoint","bottomPoint","getBindedFunctions","bindedFunctions","reInitializeEvents","unInitializeEvents","initializeEvents","initializeVariables","bf","editable","enableInteractiveAddAndCut","addEventListener","onDeskMouseDown","enableTouchInteraction","onDeskTouchStart","onItemMouseDown","onItemTouchStart","onItemClickCallback","onItemClick","removeEventListener","initializeItemTouchEvents","unInitializeItemTouchEvents","getItemInteractionVars","eventSpecific","itemInteraction","setItemInteractionVarsByName","getDeskInteractionVars","deskInteraction","setDeskInteractionVarsByName","shuffle","Stack","stack","ptr","prototype","constructor","data","resize","pop","wipePop","oldlen","oldStack","getTop","isEmpty","getData","getAllData","getSize","empty","wipe","sleep","ms","Promise","resolve","reject","setTimeout","printUnmergedFreeRects","process","printMergedFreeRects","printResultStackRects","printStackRects","printMergedTempRects","printStackTopRect","printStackTopAdjRect","printMergedRect","printAdjRect","arrangeMove","isDemo","p1","performance","now","idCount","combinedWorkSpaceRectCo","shrinkRes","shrinkTopBottomWS","integrateTop","integrateBottom","itemsInBottomWorkSpace","itemsBelowBottomWorkSpace","combinedWorkSpaceRect","itemsInCombinedWorkSpace","passCount","arrangedCount","workSpaceResizeCount","DEBUG_COUNT","it","freeRectsItY","lastId1","sweepLine","freeRectsArr","getSortedData","assignAdjacentRects","mergedRects","lastId2","mergeFreeRects","overlappedRects","findOverlapped","_arranged","_itemsInBottomWorkSpace","lastId3","arrange","_arrangedArr","values","console","log","p2","arrangeResize","_workSpaceRectCo","_combinedWorkSpaceRectCo","_topWorkSpaceCo","_bottomWorkSpaceCo","_shrinkRes","_combinedWorkSpaceRect","incrementHeight","_freeRectsItY","_itemsInCombinedWorkSpace","arrangeFromHeight","topWorkSpace","bottomWorkSpace","topWSItems","bottomWSItems","sweepRes","sweepLineTop","sweepLineBottom","area","IntervalTreesIterative","insert","low","high","resultPoint","rLen","breakSig","findAll","areaCo","lastId","ref","tempItem","fInterval","intervals","iLen","dLen","k","interval","rectsItY","rectItYArr","resY","lenY","stackIt","resultStack","resultIt","adjacents","adj","keyslen","mergedObject","mergedRect","mergeRectsLen","atLeastOneFullMerge","freeRectsLen","filterAdjacents","isRectIdenticalOrInside","isIdenticalOrInside","visited","adjs","adjsKeys","adjsKeysLen","completeOverlapped","itArr","rlen","_rect","olpds","oLen","olpd","resArr","filteredResArr","wCBST","ClosestBST","orLen","itemsToArrangeStack","itemsToArrangeLaterStack","itemsToArrangeWithScore","aItem","wCBSTRes","findUsingComparator","pm","arrangeCleanUp","resLen","diffLen","diffObj","iolpd","ioKeys","ioKeysLen","indirectOverlaps","diffStack","itemWithMargins","subtractFlag","directOverlaps","pmOlps","pmOlapsLen","diffStackData","diffStackDataLen","_overlappedRects","completeOverlappedLen","_overlappedRectsLen","filteredOverlappedRects","checkPositionData","isArray","getPdBottomMax","render","scale","call","nodes","itemEl","document","createElement","renderData","renderContent","innerHTML","Element","appendChild","spd","MOBILE_ASPECT_RATIO","index","removeChild","getElementsByClassName","renderComplete","renderItem","addItem","allow","bottomY","addComplete","error","removeItem","splice","removeComplete","dkiv","target","contains","stopPropagation","mouseDownCancel","mouseDownTimerComplete","clearTimeout","longPressCheck","mouseDownCheck","bind","MOUSE_DOWN_TIME","onDeskMouseMove","onDeskMouseUp","onDeskContextMenu","tapHoldCancel","tapHoldTimerComplete","onDeskTouchMove","onDeskTouchEnd","onDeskTouchCancel","onDeskTouchContextMenu","longTouchCheck","tapHoldCheck","TOUCH_HOLD_TIME","addPositionX","addPositionY","touchPositionOnLimberGrid","removeAddItemOnTouchHoldGuideFunction","preventDefault","newWidth","newHeight","yMousePosition","addItemAllowCheckTimeOutVariable","addItemAllowCheckTimeOut","DEMO_WAIT_TIME","cutSpaceAllowCheckTimeOutVariable","cutSpaceAllowCheckTimeOut","limberGridViewBoundingClientRect","limberGridViewWidthVisibleWidth","limberGridViewOnVisibleAreaX","yTouchPosition","itemAddedFlag","renderDetails","cutDetails","addCompleteCallback","getResizeAffectedItems","affectedArr","getMoveAffectedItems","resizeItemInitialChecks","moveItemInitialChecks","toX","resetDemoUIChanges","movePointAdjust","pt","inside","overlappedItemIndex","resizeItem","modifiedItem","arrangedArr","key","resizeComplete","resizeItemDemo","moveItem","LATCH_MOVED_ITEM","adjustedPt","ANIMATE_MOVED_ITEM","transition","ANIMATE_TIME","moveComplete","moveItemDemo","iiv","onItemContextMenu","_userActionData","onItemMouseMove","onItemMouseUp","onItemTouchContextMenu","touchHoldCancel","touchHoldTimerComplete","onItemTouchMove","onItemTouchEnd","onItemTouchCancel","showMoveDemoTimeOutVariable","mousePositionOnLimberGrid","showMoveDemo","showResizeDemoTimeOutVariable","showResizeDemo","itemResizeFlag","itemMoveFlag","updatedCoordinates","revertShowMoveOrResizeDemo","moveCompleteCallback","resizeCompleteCallback","mousePosition","ADD","CUTSPACE","true","false","init","isResize","autoArrange","warn","getComputedStyle","getPropertyValue","clientWidth","clientHeight","initConstantsAndFlags","mobileAspectRatio","moveGuideRadius","resizeSquareGuideLength","resizeSquareBorderGuideWidth","autoScrollDistance","autoScrollPoint","moveOrResizeHeightIncrements","mouseDownTime","touchHoldTime","demoWaitTime","windowResizeWaitTime","deskInteractionMode","latchMovedItem","animateMovedItem","animateTime","initRender","getElementsByTagName","getElementById","pseudoContainer","pseudoElementContainer","$pseudoElementContainer","pseudoContainerItem","limberGridViewPseudoItem","limberGridViewMoveGuide","limberGridViewHeightAdjustGuide","limberGridViewAddCutGuide","limberGridViewTouchHoldGuide","onWindowResize","onWindowResizeTimerCallback","WINDOW_RESIZE_WAIT_TIME","reRenderOnResize","LimberGridView","initializeStore","el","_renderItem","margin","setDeskInteractMode","flag","setLatchMovedItem","_addItem","setIsMobileCheck","f"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;QCVA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;AClFA;AACA,IAAI,IAAyD;AAC7D;AACA,MAAM,EAK+B;AACrC,CAAC;AACD,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,gCAAgC;AAClF;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,kBAAkB;AAClF;AACA,yDAAyD,cAAc;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,iCAAiC;AAClF,wHAAwH,mBAAmB,EAAE;AAC7I;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0BAA0B,EAAE;AAC/D,yCAAyC,eAAe;AACxD;AACA;AACA;AACA;AACA;AACA,8DAA8D,+DAA+D;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iFAAiF,8CAA8C,EAAE;AACjI,iFAAiF,8CAA8C,EAAE;;AAEjI;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;;AAEA;;AAEA,kBAAkB,YAAY;AAC9B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,YAAY;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,YAAY;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,iBAAiB,eAAe;AAChC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,iBAAiB,oBAAoB;AACrC;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;;AAEA;;;;;;AAMA,OAAO;AACP;AACA,CAAC;AACD,iC;;;;;;AChwCA;AACA,IAAI,IAAyD;AAC7D;AACA,MAAM,EAK2B;AACjC,CAAC;AACD,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,gCAAgC;AAClF;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,kBAAkB;AAClF;AACA,yDAAyD,cAAc;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,iCAAiC;AAClF,wHAAwH,mBAAmB,EAAE;AAC7I;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0BAA0B,EAAE;AAC/D,yCAAyC,eAAe;AACxD;AACA;AACA;AACA;AACA;AACA,8DAA8D,+DAA+D;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qEAAqE,sCAAsC,EAAE;;AAE7G;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;;AAEA;;AAEA,iBAAiB,WAAW;AAC5B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+EAA+E,UAAU,yBAAyB,EAAE,IAAI,yBAAyB;AACjJ;;AAEA,iFAAiF,UAAU,IAAI,UAAU;AACzG,+DAA+D,OAAO;AACtE,uEAAuE,6CAA6C;AACpH,kEAAkE,MAAM;AACxE,mEAAmE,MAAM,OAAO,MAAM;AACtF;;AAEA;AACA,gCAAgC,iBAAiB,QAAQ,oEAAoE,QAAQ,UAAU,QAAQ,2CAA2C;AAClM;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;;AAEA,kDAAkD,mBAAmB,YAAY,sCAAsC,yEAAyE,cAAc,EAAE,oBAAoB;AACpO;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,YAAY;AAC7B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,iBAAiB,WAAW;AAC5B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;;AAEA;;;;;AAKA,OAAO;AACP;AACA,CAAC;AACD,iC;;;;;;AClwBA,uC;;;;;;ACAA,uC;;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA,MAAMA,mBAAmB,GAAG,UAAUC,OAAV,EAAmBC,GAAnB,EAAwB;AACnDD,SAAO,CAACE,KAAR,CAAcC,SAAd,CAAw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,OAAK,IAAIhB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgB,GAApB,EAAyBhB,CAAC,EAA1B,EAA8B;AAC7Be,OAAG,CAACf,CAAD,CAAH,GAAS,EAAE,GAAG2C,EAAE,CAAC3C,CAAD;AAAP,KAAT;AACAe,OAAG,CAACf,CAAD,CAAH,CAAOwlB,KAAP,GAAexlB,CAAf;AACA;;AAED,SAAOe,GAAG,CAACgJ,IAAJ,CAAS,CAACC,CAAD,EAAIC,CAAJ,KAAU;AACzB,QAAID,CAAC,CAAClI,CAAF,KAAQmI,CAAC,CAACnI,CAAd,EAAiB;AAChB,aAAOkI,CAAC,CAACnI,CAAF,GAAMoI,CAAC,CAACpI,CAAf;AACA;;AACD,WAAOmI,CAAC,CAAClI,CAAF,GAAMmI,CAAC,CAACnI,CAAf;AACA,GALM,CAAP;AAMA,CAdM,C,CAgBP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,K;;ACtsBA;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;CAMA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAKA;AAIA;AACA;CAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"LimberGridView\"] = factory();\n\telse\n\t\troot[\"LimberGridView\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"assets\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"IntervalTreeJS\"] = factory();\n\telse\n\t\troot[\"IntervalTreeJS\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"assets\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"IntervalTreesRecursive\", function() { return /* reexport */ intervalTreesRecursive; });\n__webpack_require__.d(__webpack_exports__, \"IntervalTreesIterative\", function() { return /* reexport */ intervalTreesIterative; });\n\n// CONCATENATED MODULE: ./src/utils/utils.js\n/*\n\nIntervalTreeJS, a JavaScript Binary Search Tree library that helps to query, insert and delete intervals in the binary search tree.\n\nCopyright © 2019-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of IntervalTreeJS.\n\nIntervalTreeJS is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nIntervalTreeJS is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with IntervalTreeJS.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\nvar inOrder = function inOrder(node, parent, length) {\n  var current = node;\n  var currentParent = parent;\n  var path = new Array(length);\n  var pathIter = -1;\n  path[++pathIter] = current;\n\n  while (current.left !== null) {\n    currentParent = current;\n    current = current.left;\n    path[++pathIter] = current;\n  }\n\n  var leafLow = current.interval.low;\n  var copyPathIter = pathIter;\n  var top = null;\n  var currentToTopArr = new Array(pathIter + 1);\n  var currentToTopArrIter = -1;\n\n  while (copyPathIter >= 0 && path[copyPathIter].interval.low === leafLow) {\n    top = path[copyPathIter];\n    copyPathIter--;\n    currentToTopArr[++currentToTopArrIter] = top;\n  }\n\n  if (copyPathIter >= 0) {\n    // make the immediate left node of parent of top (or current if top === current) to null\n    //  OR right child of top (or current if top === current)\n    if (top.right !== null) {\n      path[copyPathIter].left = top.right;\n      top.right = null;\n    } else {\n      path[copyPathIter].left = null;\n    }\n  }\n\n  pathIter = copyPathIter;\n\n  while (pathIter >= 0) {\n    // update min, max of all the nodes above top.\n    var newMinMax = getNewMinMax(path[pathIter]);\n    path[pathIter].min = newMinMax.min;\n    path[pathIter].max = newMinMax.max;\n    pathIter--;\n  }\n\n  var right = null;\n\n  if (top !== current) {\n    if (top === node) {\n      right = top.right;\n    } else {\n      right = node;\n    }\n  } else {\n    if (current === node) {\n      right = current.right;\n    } else {\n      right = node;\n    }\n  }\n\n  currentToTopArr = removeTrailingEmptyFromArray(currentToTopArr);\n  return {\n    top: top,\n    current: current,\n    right: right,\n    currentToTopArr: currentToTopArr\n  };\n};\nvar fixMinMaxFromCurrentToTop = function fixMinMaxFromCurrentToTop(currentToTopArr) {\n  var iter = 0;\n  var len = currentToTopArr.length;\n\n  while (iter < len) {\n    var newMinMax = getNewMinMax(currentToTopArr[iter]);\n    currentToTopArr[iter].min = newMinMax.min;\n    currentToTopArr[iter].max = newMinMax.max;\n    iter++;\n  }\n};\nvar getNewMinMax = function getNewMinMax(root) {\n  var _root$left, _root$right, _root$right2, _root$left2, _root$left3, _root$right3, _root$right4;\n\n  var min = root.interval.low;\n  var max = root.interval.high;\n  var leftMin = !isNaN((_root$left = root.left) === null || _root$left === void 0 ? void 0 : _root$left.min) ? root.left.min : null;\n  var rightMin = !isNaN((_root$right = root.right) === null || _root$right === void 0 ? void 0 : _root$right.min) ? (_root$right2 = root.right) === null || _root$right2 === void 0 ? void 0 : _root$right2.min : null;\n  var leftMax = !isNaN((_root$left2 = root.left) === null || _root$left2 === void 0 ? void 0 : _root$left2.max) ? (_root$left3 = root.left) === null || _root$left3 === void 0 ? void 0 : _root$left3.max : null;\n  var rightMax = !isNaN((_root$right3 = root.right) === null || _root$right3 === void 0 ? void 0 : _root$right3.max) ? (_root$right4 = root.right) === null || _root$right4 === void 0 ? void 0 : _root$right4.max : null;\n\n  if (leftMin < min && leftMin !== null) {\n    min = leftMin;\n  }\n\n  if (rightMin < min && rightMin !== null) {\n    min = rightMin;\n  }\n\n  if (leftMax > max && leftMax !== null) {\n    max = leftMax;\n  }\n\n  if (rightMax > max && rightMax !== null) {\n    max = rightMax;\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n};\nvar removeTrailingEmptyFromArray = function removeTrailingEmptyFromArray(source) {\n  var count = 0;\n  var len = source.length;\n\n  for (var i = 0; i < len; i++) {\n    if (source[i]) count++;\n  }\n\n  var dest = new Array(count);\n\n  for (var _i = 0; _i < count; _i++) {\n    dest[_i] = source[_i];\n  }\n\n  return dest;\n};\n// CONCATENATED MODULE: ./src/utils/printUtils.js\n/*\n\nIntervalTreeJS, a JavaScript Binary Search Tree library that helps to query, insert and delete intervals in the binary search tree.\n\nCopyright © 2019-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of IntervalTreeJS.\n\nIntervalTreeJS is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nIntervalTreeJS is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with IntervalTreeJS.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\nvar getNodelevel = function getNodelevel(root, node) {\n  var level = 0;\n\n  while (root !== node) {\n    if (root.interval.low >= node.interval.low) {\n      root = root.left;\n    } else {\n      root = root.right;\n    }\n\n    level++;\n  }\n\n  if (root === node) {\n    level++;\n  } else if (root === null) {\n    level = 0;\n  }\n\n  return level;\n};\nvar printBinaryTree = function printBinaryTree(root, length) {\n  var _root = JSON.parse(JSON.stringify(root));\n\n  var s = new Array(length);\n  var sIter = -1;\n  var totalLevels = 0;\n  var count = -1;\n  s[++sIter] = _root;\n\n  while (sIter >= 0) {\n    var t = s[sIter];\n    t.id = ++count;\n    sIter--;\n    var level = getNodelevel(_root, t) - 1;\n\n    if (level > totalLevels) {\n      totalLevels = level;\n    }\n\n    t.level = level;\n\n    if (t.right !== null) {\n      t.right.parentId = t.id;\n      t.right.branched = \"right\";\n      t.right.parent = t;\n      s[++sIter] = t.right;\n    }\n\n    if (t.left !== null) {\n      t.left.parentId = t.id;\n      t.left.branched = \"left\";\n      t.left.parent = t;\n      s[++sIter] = t.left;\n    }\n  }\n\n  var html = [];\n  var arrowsHtml = [];\n  var WIDTH = 60;\n  var HEIGHT = 60;\n  var BORDER = 1;\n  var MARGIN = 5;\n  var TOTAL_WIDTH = WIDTH + 2 * BORDER + 2 * MARGIN;\n  var TOTAL_HEIGHT = HEIGHT + 2 * BORDER + 2 * MARGIN;\n  var leafNodesNum = Math.pow(2, totalLevels);\n  var maxLevelWidth = leafNodesNum * TOTAL_WIDTH;\n  var stack = new Array(length);\n  var stackIter = -1;\n  stack[++stackIter] = _root;\n\n  while (stackIter >= 0) {\n    var top = stack[stackIter];\n    stackIter--;\n\n    if (top.level === 0) {\n      top.pos = {\n        c: maxLevelWidth / 2,\n        x: maxLevelWidth / 2 - TOTAL_WIDTH / 2,\n        y: MARGIN\n      };\n    } else {\n      var distanceBetnChildren = (Math.pow(2, totalLevels - top.level) - 1) / 2 * TOTAL_WIDTH;\n\n      if (top.branched === \"left\") {\n        top.pos = {\n          c: top.parent.pos.c - distanceBetnChildren - TOTAL_WIDTH / 2,\n          x: top.parent.pos.c - distanceBetnChildren - TOTAL_WIDTH,\n          y: MARGIN\n        };\n      } else {\n        top.pos = {\n          c: top.parent.pos.c + distanceBetnChildren + TOTAL_WIDTH / 2,\n          x: top.parent.pos.c + distanceBetnChildren,\n          y: MARGIN\n        };\n      }\n    }\n\n    if (!html[top.level]) {\n      html[top.level] = \"<g class=\\\"interval-tree-print-level\\\" data-attr=\\\"level-\".concat(top.level, \"\\\" transform=\\\"translate(\", 0, \", \").concat(top.level * TOTAL_HEIGHT, \")\\\">\");\n    }\n\n    html[top.level] += \"<g class=\\\"interval-tree-print-node\\\" transform=\\\"translate(\".concat(top.pos.x, \", \").concat(top.pos.y, \")\\\">\\n\\t\\t\\t<text class=\\\"interval-tree-print-node-id\\\" dx=\\\"5\\\" dy=\\\"0\\\">id: \").concat(top.id, \"</text>\\n\\t\\t\\t<text class=\\\"interval-tree-print-node-parentId\\\" dx=\\\"5\\\" dy=\\\"15\\\">pId: \").concat(!isNaN(top.parentId) ? top.parentId : \"none\", \"</text>\\n\\t\\t\\t<text class=\\\"interval-tree-print-node-interval\\\" dx=\\\"5\\\" dy=\\\"30\\\">l: \").concat(top.interval.low, \", h: \").concat(top.interval.high, \"</text>\\n\\t\\t\\t<text class=\\\"interval-tree-print-node-minmax\\\" dx=\\\"5\\\" dy=\\\"45\\\">m: \").concat(top.min, \", x: \").concat(top.max, \"</text></g>\");\n\n    if (top.parent) {\n      var line = \"<line x1=\\\"\".concat(top.parent.pos.c, \"\\\" y1=\\\"\").concat(top.parent.level * TOTAL_HEIGHT + MARGIN + BORDER + HEIGHT + BORDER, \"\\\" x2=\\\"\").concat(top.pos.c, \"\\\" y2=\\\"\").concat(top.level * TOTAL_HEIGHT + MARGIN + BORDER, \"\\\" class=\\\"interval-tree-print-arrow\\\" stroke=\\\"black\\\"/>\");\n      arrowsHtml.push(line);\n    }\n\n    if (top.right !== null) {\n      stack[++stackIter] = top.right;\n    }\n\n    if (top.left !== null) {\n      stack[++stackIter] = top.left;\n    }\n  }\n\n  for (var i = 0; i < html.length; i++) {\n    html[i] += \"</g>\";\n  }\n\n  return \"<svg class=\\\"interval-tree-print\\\" width=\\\"\".concat(maxLevelWidth + 40, \"\\\" height=\\\"\").concat((totalLevels + 1) * TOTAL_HEIGHT + 40, \"\\\"><g class=\\\"interval-tree-print-container\\\" transform=\\\"translate(20, 20)\\\">\").concat(html.join(\"\")).concat(arrowsHtml.join(\"\"), \"</g></svg>\");\n};\n// CONCATENATED MODULE: ./src/intervalTreesRecursive.js\n/*\n\nIntervalTreeJS, a JavaScript Binary Search Tree library that helps to query, insert and delete intervals in the binary search tree.\n\nCopyright © 2019-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of IntervalTreeJS.\n\nIntervalTreeJS is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nIntervalTreeJS is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with IntervalTreeJS.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\n // var IntervalTreeRecursive = (function() {\n\n/**\n\t\tnode = {\n\t\t\tmax: 0,\n\t\t\tmin: 0,\n\t\t\tinterval: {\n\t\t\t\tlow: null,\n\t\t\t\thigh: null\n\t\t\t},\n\t\t\td: <type> user data\n\t\t\tleft: null,\n\t\t\tright: null\n\t\t}\n\t*/\n\nfunction IntervalTreeRecursive(options) {\n  this.root = null;\n  this.data = [];\n  this.length = 0;\n\n  if (options && Array.isArray(options.data)) {\n    this.data = JSON.parse(JSON.stringify(options.data));\n    this.constructTree();\n  }\n}\n\nIntervalTreeRecursive.prototype.constructor = IntervalTreeRecursive;\n\nIntervalTreeRecursive.prototype.constructNode = function (interval) {\n  return {\n    max: interval.high,\n    min: interval.low,\n    interval: {\n      low: interval.low,\n      high: interval.high\n    },\n    d: interval.d,\n    left: null,\n    right: null\n  };\n};\n\nIntervalTreeRecursive.prototype.constructTree = function () {\n  var length = this.data.length;\n\n  for (var i = 0; i < length; i++) {\n    this.root = this.insert(this.data[i], this.root);\n  }\n};\n\nIntervalTreeRecursive.prototype.insertRoot = function (interval) {\n  // this function is deprecated\n  this.root = this.constructNode(interval);\n  return this.root;\n};\n\nIntervalTreeRecursive.prototype.getRoot = function () {\n  return this.root;\n};\n\nIntervalTreeRecursive.prototype.insert = function (interval) {\n  this.root = this._insert(this.root, interval);\n  return this.root;\n};\n\nIntervalTreeRecursive.prototype._insert = function (root, interval) {\n  if (root === null) {\n    this.length++;\n    return this.constructNode(interval);\n  }\n\n  if (root.interval.low > interval.low) {\n    root.left = this._insert(root.left, interval);\n  } else if (root.interval.low === interval.low) {\n    this.length++;\n    var tempLeftSubtree = root.left;\n    root.left = this.constructNode(interval);\n    root.left.left = tempLeftSubtree;\n    var newMinMax = getNewMinMax(root.left);\n    root.left.min = newMinMax.min;\n    root.left.max = newMinMax.max;\n  } else {\n    root.right = this._insert(root.right, interval);\n  }\n\n  if (root.max < interval.high) {\n    root.max = interval.high;\n  }\n\n  if (root.min > interval.low) {\n    root.min = interval.low;\n  }\n\n  return root;\n};\n\nIntervalTreeRecursive.prototype.find = function (interval, d) {\n  return this._find(this.root, interval, d);\n};\n\nIntervalTreeRecursive.prototype._find = function (root, interval, d) {\n  if (root === null) return null;\n\n  if (this.doOverlap(root.interval, interval) && (d !== null && d !== undefined ? root.d === d ? true : false : true)) {\n    return root;\n  }\n\n  if (root.left !== null && root.left.max >= interval.low) {\n    // go left\n    return find(root.left, interval);\n  } else {\n    // go right\n    return find(root.right, interval);\n  }\n};\n\nIntervalTreeRecursive.prototype.findAll = function (interval, d) {\n  var stack = [];\n\n  this._findAll(this.root, interval, d, stack);\n\n  return stack;\n};\n\nIntervalTreeRecursive.prototype._findAll = function (root, interval, d, stack) {\n  if (root === null) return null;\n\n  if (this.doOverlap(root.interval, interval) && (d !== null && d !== undefined ? root.d === d ? true : false : true)) {\n    stack.push(root);\n  }\n\n  if (root.left !== null && root.left.max >= interval.low) {\n    // go left\n    this._findAll(root.left, interval, stack);\n  }\n\n  if (root.right !== null && root.right.min <= interval.high) {\n    // go right\n    this._findAll(root.right, interval, stack);\n  }\n};\n\nIntervalTreeRecursive.prototype.remove = function (interval, d) {\n  var removed = null;\n\n  this._remove(this.root, interval, d, removed);\n\n  return removed;\n};\n\nIntervalTreeRecursive.prototype._remove = function (root, interval, d, removed) {\n  if (root === null) return root;\n\n  if (root.interval.low === interval.low && root.interval.high === interval.high && (d !== null && d !== undefined ? root.d === d ? true : false : true)) {\n    removed = {\n      low: root.interval.low,\n      high: root.interval.high,\n      d: root.d\n    };\n    this.length--;\n\n    if (root.left === null) {\n      return root.right;\n    } else if (root.right === null) {\n      return root.left;\n    }\n\n    var obj = inOrder(root.right, root);\n    root.interval = obj.top.interval;\n    root.d = obj.top.d;\n    var temp = root.left;\n    root.left = obj.top.left;\n    root.right = obj.right;\n\n    if (obj.current === obj.top) {\n      root.left = temp;\n    } else {\n      obj.current.left = temp;\n    }\n\n    fixMinMaxFromCurrentToTop(obj.currentToTopArr);\n    return root;\n  }\n\n  if (root.interval.low >= interval.low) {\n    // go left\n    root.left = this._remove(root.left, interval, d, removed);\n    var newMinMax = getNewMinMax(root);\n    root.min = newMinMax.min;\n    root.max = newMinMax.max;\n  } else if (root.right !== null && root.interval.low < interval.low) {\n    // new condition: root.right !== null && root.interval.low < interval.low\n    // old condition: root.right !== null && root.right.min <= interval.high\n    // go right\n    root.right = this._remove(root.right, interval, d, removed);\n\n    var _newMinMax = getNewMinMax(root);\n\n    root.min = _newMinMax.min;\n    root.max = _newMinMax.max;\n  }\n\n  return root;\n};\n\nIntervalTreeRecursive.prototype.removeAll = function (interval, d) {\n  var removed = [];\n\n  this._removeAll(this.root, interval, d, removed);\n\n  return removed;\n};\n\nIntervalTreeRecursive.prototype._removeAll = function (root, interval, d, removed) {\n  if (root === null) return root;\n\n  if (root.interval.low >= interval.low) {\n    // go left\n    root.left = this._removeAll(root.left, interval, d, removed);\n    var newMinMax = getNewMinMax(root);\n    root.min = newMinMax.min;\n    root.max = newMinMax.max;\n  } else if (root.right !== null && root.interval.low < interval.low) {\n    // new condition: root.right !== null && root.interval.low < interval.low\n    // old condition: root.right !== null && root.right.min <= interval.high\n    // go right\n    root.right = this._removeAll(root.right, interval, d, removed);\n\n    var _newMinMax2 = getNewMinMax(root);\n\n    root.min = _newMinMax2.min;\n    root.max = _newMinMax2.max;\n  }\n\n  if (root.interval.low === interval.low && root.interval.high === interval.high && (d !== null && d !== undefined ? root.d === d ? true : false : true)) {\n    removed.push({\n      low: root.interval.low,\n      high: root.interval.high,\n      d: root.d\n    });\n    this.length--;\n\n    if (root.left === null) {\n      return root.right;\n    } else if (root.right === null) {\n      return root.left;\n    }\n\n    var obj = inOrder(root.right, root);\n    root.interval = obj.top.interval;\n    root.d = obj.top.d;\n    var temp = root.left;\n    root.left = obj.top.left;\n    root.right = obj.right;\n\n    if (obj.current === obj.top) {\n      root.left = temp;\n    } else {\n      obj.current.left = temp;\n    }\n\n    fixMinMaxFromCurrentToTop(obj.currentToTopArr);\n  }\n\n  return root;\n};\n\nIntervalTreeRecursive.prototype.getDataInArray = function () {\n  var elements = new Array(this.length);\n  var iter = {\n    iter: 0\n  };\n  this.getArray(this.root, elements, iter);\n  return elements;\n};\n\nIntervalTreeRecursive.prototype.getArray = function (root, elements, iter) {\n  if (root === null) return null;\n\n  if (root.left !== null) {\n    this.getArray(root.left, elements, iter);\n  }\n\n  if (root !== null) {\n    elements[iter.iter++] = {\n      interval: {\n        low: root.interval.low,\n        high: root.interval.high\n      },\n      d: root.d\n    };\n  }\n\n  if (root.right !== null) {\n    this.getArray(root.right, elements, iter);\n  }\n};\n\nIntervalTreeRecursive.prototype.doOverlap = function (interval, _interval) {\n  if (interval.low <= _interval.high && _interval.low <= interval.high) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nIntervalTreeRecursive.prototype.isExact = function (interval, _interval) {\n  if (interval.low === _interval.low && interval.high === _interval.high) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nIntervalTreeRecursive.prototype.printHtmlTree = function () {\n  return printBinaryTree(this.root, this.length);\n};\n\n/* harmony default export */ var intervalTreesRecursive = (IntervalTreeRecursive);\n// CONCATENATED MODULE: ./src/intervalTreesIterative.js\n/*\n\nIntervalTreeJS, a JavaScript Binary Search Tree library that helps to query, insert and delete intervals in the binary search tree.\n\nCopyright © 2019-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of IntervalTreeJS.\n\nIntervalTreeJS is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nIntervalTreeJS is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with IntervalTreeJS.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\n // var IntervalTreeIterative = (function() {\n\n/**\n\t\tnode = {\n\t\t\tmax: 0,\n\t\t\tmin: 0,\n\t\t\tinterval: {\n\t\t\t\tlow: null,\n\t\t\t\thigh: null\n\t\t\t},\n\t\t\td: <type> user data\n\t\t\tleft: null,\n\t\t\tright: null\n\t\t}\n\t*/\n\nfunction IntervalTreeIterative(options) {\n  this.root = null;\n  this.data = [];\n  this.length = 0;\n\n  if (options && Array.isArray(options.data)) {\n    this.data = JSON.parse(JSON.stringify(options.data));\n    this.constructTree();\n  }\n}\n\nIntervalTreeIterative.prototype.constructor = IntervalTreeIterative;\n\nIntervalTreeIterative.prototype.constructNode = function (interval) {\n  return {\n    max: interval.high,\n    min: interval.low,\n    interval: {\n      low: interval.low,\n      high: interval.high\n    },\n    d: interval.d,\n    left: null,\n    right: null\n  };\n};\n\nIntervalTreeIterative.prototype.constructTree = function () {\n  var length = this.data.length;\n\n  for (var i = 0; i < length; i++) {\n    this.insert(this.data[i]);\n  }\n};\n\nIntervalTreeIterative.prototype.insertRoot = function (interval) {\n  // this function is deprecated\n  this.root = this.constructNode(interval);\n  return this.root;\n};\n\nIntervalTreeIterative.prototype.getRoot = function () {\n  return this.root;\n};\n\nIntervalTreeIterative.prototype.insert = function (interval) {\n  return this._insert(this.root, interval);\n};\n\nIntervalTreeIterative.prototype._insert = function (root, interval) {\n  var newNode = this.constructNode(interval);\n  var iter = root;\n  var temp = null;\n\n  while (iter !== null) {\n    temp = iter;\n\n    if (iter.max < interval.high) {\n      iter.max = interval.high;\n    }\n\n    if (iter.min > interval.low) {\n      iter.min = interval.low;\n    }\n\n    if (iter.interval.low > interval.low) {\n      iter = iter.left;\n    } else if (iter.interval.low === interval.low) {\n      break;\n    } else {\n      iter = iter.right;\n    }\n  }\n\n  if (temp === null) {\n    temp = newNode;\n    this.root = newNode;\n  } else if (temp.interval.low > interval.low) {\n    temp.left = newNode;\n  } else if (temp.interval.low === interval.low) {\n    var tempLeftSubtree = temp.left;\n    temp.left = newNode;\n    temp.left.left = tempLeftSubtree;\n    var newMinMax = getNewMinMax(temp.left);\n    temp.left.min = newMinMax.min;\n    temp.left.max = newMinMax.max;\n  } else {\n    temp.right = newNode;\n  }\n\n  this.length++;\n  return newNode;\n};\n\nIntervalTreeIterative.prototype.find = function (interval, d, findType) {\n  return this._find(this.root, interval, d, findType);\n};\n\nIntervalTreeIterative.prototype._find = function (root, interval, d, findType) {\n  findType = findType || false;\n\n  if (findType === true) {\n    findType = this.isExact;\n  } else if (findType === false) {\n    findType = this.doOverlap;\n  }\n\n  if (root === null) return null;\n\n  while (root != null) {\n    if (findType(root.interval, interval) && (d !== null && d !== undefined ? root.d === d ? true : false : true)) {\n      return root;\n    }\n\n    if (root.left !== null && root.left.max >= interval.low) {\n      // go left\n      root = root.left;\n    } else {\n      // go right\n      root = root.right;\n    }\n  }\n\n  return null;\n};\n\nIntervalTreeIterative.prototype.findAll = function (interval, d, findType) {\n  return this._findAll(this.root, interval, d, findType);\n};\n\nIntervalTreeIterative.prototype._findAll = function (root, interval, d, findType) {\n  findType = findType || false;\n\n  if (findType === true) {\n    findType = this.isExact;\n  } else if (findType === false) {\n    findType = this.doOverlap;\n  }\n\n  var stack = new Array(this.length);\n  var stackIter = 0;\n  var queue = new Array(this.length);\n  var queueFront = -1;\n  var queueRear = 0;\n  queue[++queueFront] = root;\n  if (root === null) return null;\n\n  while (queueFront <= queueRear) {\n    //check to see if queue is not empty\n    var front = queue[queueFront];\n    queueFront++;\n\n    if (findType(front.interval, interval) && (d !== null && d !== undefined ? front.d === d ? true : false : true)) {\n      stack[stackIter++] = front;\n    }\n\n    if (front.left !== null && front.left.max >= interval.low) {\n      // go left\n      queue[++queueRear] = front.left;\n    }\n\n    if (front.right !== null && front.right.min <= interval.high) {\n      // go right\n      queue[++queueRear] = front.right;\n    }\n  }\n\n  var finalStack = new Array(stackIter);\n\n  for (var i = 0; i < stackIter; i++) {\n    finalStack[i] = stack[i];\n  }\n\n  return finalStack;\n};\n\nIntervalTreeIterative.prototype.remove = function (interval, d) {\n  return this._remove(this.root, interval, d);\n};\n\nIntervalTreeIterative.prototype._remove = function (root, interval, d) {\n  var parent = null;\n  var branched = null;\n  var removed = null;\n  var stack = new Array(this.length);\n  var stackIter = -1;\n  var path = new Array(this.length);\n  var pathIter = -1;\n  stack[++stackIter] = root;\n  if (root === null) return null;\n\n  while (stackIter >= 0) {\n    //check to see if stack is not empty\n    // pop top most item\n    var top = stack[stackIter];\n    stack[stackIter] = null;\n    stackIter--;\n\n    if (top.interval.low === interval.low && top.interval.high === interval.high && (d !== null && d !== undefined ? top.d === d ? true : false : true)) {\n      removed = {\n        low: top.interval.low,\n        high: top.interval.high,\n        d: top.d\n      };\n      this.length--;\n\n      if (top.left === null) {\n        if (parent) {\n          parent[branched] = top.right;\n          top = top.right;\n        } else {\n          this.root = top.right;\n        }\n      } else if (top.right === null) {\n        if (parent) {\n          parent[branched] = top.left;\n          top = top.left;\n        } else {\n          this.root = top.left;\n        }\n      } else {\n        var obj = inOrder(top.right, top);\n        top.interval = obj.top.interval;\n        top.d = obj.top.d;\n        var temp = top.left;\n        top.left = obj.top.left;\n        top.right = obj.right;\n\n        if (obj.current === obj.top) {\n          top.left = temp;\n        } else {\n          obj.current.left = temp;\n        }\n\n        fixMinMaxFromCurrentToTop(obj.currentToTopArr);\n      }\n\n      if (top) path[++pathIter] = top;\n      break;\n    }\n\n    path[++pathIter] = top;\n\n    if (top.right !== null && top.interval.low < interval.low) {\n      // new condition: top.right !== null && top.interval.low < interval.low\n      // old condition: top.right !== null && top.right.min <= interval.high\n      // go right\n      parent = top;\n      branched = \"right\";\n      stack[++stackIter] = top.right;\n    } else if (top.left !== null && top.interval.low >= interval.low) {\n      // go left\n      parent = top;\n      branched = \"left\";\n      stack[++stackIter] = top.left;\n    }\n  }\n\n  while (pathIter >= 0) {\n    var newMinMax = getNewMinMax(path[pathIter]);\n    path[pathIter].min = newMinMax.min;\n    path[pathIter].max = newMinMax.max;\n    pathIter--;\n  }\n\n  return removed;\n};\n\nIntervalTreeIterative.prototype.removeAll = function (interval, d) {\n  return this._removeAll(this.root, interval, d);\n};\n\nIntervalTreeIterative.prototype._removeAll = function (root, interval, d) {\n  var parent = null;\n  var branched = null;\n  var removeList = new Array(this.length);\n  var removeListIter = 0;\n  var stack = new Array(this.length);\n  var stackIter = -1;\n  var path = new Array(this.length);\n  var pathIter = -1;\n  stack[++stackIter] = root;\n  if (root === null) return null;\n\n  while (stackIter >= 0) {\n    //check to see if stack is not empty\n    // pop top most item\n    var top = stack[stackIter];\n    stack[stackIter] = null;\n    stackIter--;\n\n    if (top.interval.low === interval.low && top.interval.high === interval.high && (d !== null && d !== undefined ? top.d === d ? true : false : true)) {\n      removeList[removeListIter++] = {\n        low: top.interval.low,\n        high: top.interval.high,\n        d: top.d\n      };\n      this.length--;\n\n      if (top.left === null) {\n        if (parent) {\n          parent[branched] = top.right;\n          top = top.right;\n        } else {\n          this.root = top.right;\n        }\n      } else if (top.right === null) {\n        if (parent) {\n          parent[branched] = top.left;\n          top = top.left;\n        } else {\n          this.root = top.left;\n        }\n      } else {\n        var obj = inOrder(top.right, top);\n        top.interval = obj.top.interval;\n        top.d = obj.top.d;\n        var temp = top.left;\n        top.left = obj.top.left;\n        top.right = obj.right;\n\n        if (obj.current === obj.top) {\n          top.left = temp;\n        } else {\n          obj.current.left = temp;\n        }\n\n        fixMinMaxFromCurrentToTop(obj.currentToTopArr);\n      }\n\n      if (top) stack[++stackIter] = top;\n      continue;\n    }\n\n    path[++pathIter] = top;\n\n    if (top.right !== null && top.interval.low < interval.low) {\n      // new condition: top.right !== null && top.interval.low < interval.low\n      // old condition: top.right !== null && top.right.min <= interval.high\n      // go right\n      parent = top;\n      branched = \"right\";\n      stack[++stackIter] = top.right;\n    } else if (top.left !== null && top.interval.low >= interval.low) {\n      // go left\n      parent = top;\n      branched = \"left\";\n      stack[++stackIter] = top.left;\n    }\n  }\n\n  while (pathIter >= 0) {\n    var newMinMax = getNewMinMax(path[pathIter]);\n    path[pathIter].min = newMinMax.min;\n    path[pathIter].max = newMinMax.max;\n    pathIter--;\n  }\n\n  var finalRemoveList = new Array(removeListIter);\n\n  for (var i = 0; i < removeListIter; i++) {\n    finalRemoveList[i] = removeList[i];\n  }\n\n  return finalRemoveList;\n}; // IntervalTreeIterative.prototype.getDataInArray = function() {\n// pre order\n// \tif (this.root === null) return [];\n// \tconst elements = new Array(this.length);\n// \tlet iter = 0;\n// \tconst stack = new Array(this.length);\n// \tlet stackIter = -1;\n// \tstack[++stackIter] = this.root;\n// \tlet top;\n// \tlet curr = this.root;\n// \twhile (stackIter >= 0) {\n// \t\ttop = stack[stackIter--];\n// \t\telements[iter++] = top;\n// \t\tif (top.right !== null) {\n// \t\t\tstack[++stackIter] = top.right;\n// \t\t}\n// \t\tif (top.left !== null) {\n// \t\t\tstack[++stackIter] = top.left;\n// \t\t}\n// \t}\n// \treturn elements;\n// };\n\n\nIntervalTreeIterative.prototype.getSortedData = function () {\n  // inorder\n  if (this.root === null) return [];\n  var elements = new Array(this.length);\n  var iter = 0;\n  var stack = new Array(this.length);\n  var stackIter = -1;\n  var curr = this.root;\n\n  while (curr !== null || stackIter >= 0) {\n    while (curr !== null) {\n      stack[++stackIter] = curr;\n      curr = curr.left;\n    }\n\n    curr = stack[stackIter--];\n    elements[iter++] = {\n      interval: {\n        low: curr.interval.low,\n        high: curr.interval.high\n      },\n      d: curr.d\n    };\n    curr = curr.right;\n  }\n\n  return elements;\n};\n\nIntervalTreeIterative.prototype.doOverlap = function (interval, _interval) {\n  if (interval.low <= _interval.high && _interval.low <= interval.high) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nIntervalTreeIterative.prototype.isExact = function (interval, _interval) {\n  if (interval.low === _interval.low && interval.high === _interval.high) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nIntervalTreeIterative.prototype.printHtmlTree = function () {\n  return printBinaryTree(this.root, this.length);\n};\n\n/* harmony default export */ var intervalTreesIterative = (IntervalTreeIterative);\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/index.js\n/*\n\nIntervalTreeJS, a JavaScript Binary Search Tree library that helps to query, insert and delete intervals in the binary search tree.\n\nCopyright © 2019-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of IntervalTreeJS.\n\nIntervalTreeJS is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nIntervalTreeJS is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with IntervalTreeJS.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\n\n\n\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=index.js.map","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ClosestBST\"] = factory();\n\telse\n\t\troot[\"ClosestBST\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"assets\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"ClosestBST\", function() { return /* reexport */ src_ClosestBST; });\n\n// CONCATENATED MODULE: ./src/utils/utils.js\n/*\n\nClosestBST, a JavaScript Binary Search Tree library that helps to find the closest number in the binary search tree.\n\nCopyright © 2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of ClosestBST.\n\nClosestBST is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nClosestBST is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with ClosestBST.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\nconst inOrder = (node, parent, length) => {\n  var current = node;\n  var currentParent = parent;\n  let path = new Array(length);\n  let pathIter = -1;\n  path[++pathIter] = current;\n\n  while (current.l !== null) {\n    currentParent = current;\n    current = current.l;\n    path[++pathIter] = current;\n  }\n\n  const leafV = current.v;\n  let copyPathIter = pathIter;\n  let top = null;\n  let currentToTopArr = new Array(pathIter + 1);\n  let currentToTopArrIter = -1;\n\n  while (copyPathIter >= 0 && path[copyPathIter].v === leafV) {\n    top = path[copyPathIter];\n    copyPathIter--;\n    currentToTopArr[++currentToTopArrIter] = top;\n  }\n\n  if (copyPathIter >= 0) {\n    // make the immediate left node of parent of top (or current if top === current) to null\n    //  OR right child of top (or current if top === current)\n    if (top.r !== null) {\n      path[copyPathIter].l = top.r;\n      top.r = null;\n    } else {\n      path[copyPathIter].l = null;\n    }\n  }\n\n  pathIter = copyPathIter;\n\n  while (pathIter >= 0) {\n    // update min, max of all the nodes above top.\n    const newMinMax = getNewMinMax(path[pathIter]);\n    path[pathIter].m = newMinMax.m;\n    path[pathIter].x = newMinMax.x;\n    pathIter--;\n  }\n\n  let r = null;\n\n  if (top !== current) {\n    if (top === node) {\n      r = top.r;\n    } else {\n      r = node;\n    }\n  } else {\n    if (current === node) {\n      r = current.r;\n    } else {\n      r = node;\n    }\n  }\n\n  currentToTopArr = removeTrailingEmptyFromArray(currentToTopArr);\n  return {\n    top,\n    current,\n    r,\n    currentToTopArr\n  };\n};\nconst fixMinMaxFromCurrentToTop = function (currentToTopArr) {\n  let iter = 0;\n  let len = currentToTopArr.length;\n\n  while (iter < len) {\n    const newMinMax = getNewMinMax(currentToTopArr[iter]);\n    currentToTopArr[iter].m = newMinMax.m;\n    currentToTopArr[iter].x = newMinMax.x;\n    iter++;\n  }\n};\nconst getNewMinMax = function (root) {\n  var _root$l, _root$r, _root$r2, _root$l2, _root$l3, _root$r3, _root$r4;\n\n  let min = root.v;\n  let max = root.v;\n  let leftMin = !isNaN((_root$l = root.l) === null || _root$l === void 0 ? void 0 : _root$l.m) ? root.l.m : null;\n  let rightMin = !isNaN((_root$r = root.r) === null || _root$r === void 0 ? void 0 : _root$r.m) ? (_root$r2 = root.r) === null || _root$r2 === void 0 ? void 0 : _root$r2.m : null;\n  let leftMax = !isNaN((_root$l2 = root.l) === null || _root$l2 === void 0 ? void 0 : _root$l2.x) ? (_root$l3 = root.l) === null || _root$l3 === void 0 ? void 0 : _root$l3.x : null;\n  let rightMax = !isNaN((_root$r3 = root.r) === null || _root$r3 === void 0 ? void 0 : _root$r3.x) ? (_root$r4 = root.r) === null || _root$r4 === void 0 ? void 0 : _root$r4.x : null;\n\n  if (leftMin < min && leftMin !== null) {\n    min = leftMin;\n  }\n\n  if (rightMin < min && rightMin !== null) {\n    min = rightMin;\n  }\n\n  if (leftMax > max && leftMax !== null) {\n    max = leftMax;\n  }\n\n  if (rightMax > max && rightMax !== null) {\n    max = rightMax;\n  }\n\n  return {\n    m: min,\n    x: max\n  };\n};\nconst removeTrailingEmptyFromArray = source => {\n  let count = 0;\n  let len = source.length;\n\n  for (let i = 0; i < len; i++) {\n    if (source[i]) count++;\n  }\n\n  let dest = new Array(count);\n\n  for (let i = 0; i < count; i++) {\n    dest[i] = source[i];\n  }\n\n  return dest;\n};\n// CONCATENATED MODULE: ./src/utils/printUtils.js\n/*\n\nClosestBST, a JavaScript Binary Search Tree library that helps to find the closest number in the binary search tree.\n\nCopyright © 2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of ClosestBST.\n\nClosestBST is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nClosestBST is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with ClosestBST.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\nconst getNodelevel = (root, node) => {\n  let level = 0;\n\n  while (root !== node) {\n    if (root.v >= node.v) {\n      root = root.l;\n    } else {\n      root = root.r;\n    }\n\n    level++;\n  }\n\n  if (root === node) {\n    level++;\n  } else if (root === null) {\n    level = 0;\n  }\n\n  return level;\n};\nconst printBinaryTree = (root, length) => {\n  let _root = JSON.parse(JSON.stringify(root));\n\n  let s = new Array(length);\n  let sIter = -1;\n  let totalLevels = 0;\n  let count = -1;\n  s[++sIter] = _root;\n\n  while (sIter >= 0) {\n    let t = s[sIter];\n    t.id = ++count;\n    sIter--;\n    const level = getNodelevel(_root, t) - 1;\n\n    if (level > totalLevels) {\n      totalLevels = level;\n    }\n\n    t.level = level;\n\n    if (t.r !== null) {\n      t.r.parentId = t.id;\n      t.r.branched = \"r\";\n      t.r.parent = t;\n      s[++sIter] = t.r;\n    }\n\n    if (t.l !== null) {\n      t.l.parentId = t.id;\n      t.l.branched = \"l\";\n      t.l.parent = t;\n      s[++sIter] = t.l;\n    }\n  }\n\n  const html = [];\n  const arrowsHtml = [];\n  const WIDTH = 60;\n  const HEIGHT = 60;\n  const BORDER = 1;\n  const MARGIN = 5;\n  const TOTAL_WIDTH = WIDTH + 2 * BORDER + 2 * MARGIN;\n  const TOTAL_HEIGHT = HEIGHT + 2 * BORDER + 2 * MARGIN;\n  const leafNodesNum = Math.pow(2, totalLevels);\n  const maxLevelWidth = leafNodesNum * TOTAL_WIDTH;\n  let stack = new Array(length);\n  let stackIter = -1;\n  stack[++stackIter] = _root;\n\n  while (stackIter >= 0) {\n    const top = stack[stackIter];\n    stackIter--;\n\n    if (top.level === 0) {\n      top.pos = {\n        c: maxLevelWidth / 2,\n        x: maxLevelWidth / 2 - TOTAL_WIDTH / 2,\n        y: MARGIN\n      };\n    } else {\n      const distanceBetnChildren = (Math.pow(2, totalLevels - top.level) - 1) / 2 * TOTAL_WIDTH;\n\n      if (top.branched === \"l\") {\n        top.pos = {\n          c: top.parent.pos.c - distanceBetnChildren - TOTAL_WIDTH / 2,\n          x: top.parent.pos.c - distanceBetnChildren - TOTAL_WIDTH,\n          y: MARGIN\n        };\n      } else {\n        top.pos = {\n          c: top.parent.pos.c + distanceBetnChildren + TOTAL_WIDTH / 2,\n          x: top.parent.pos.c + distanceBetnChildren,\n          y: MARGIN\n        };\n      }\n    }\n\n    if (!html[top.level]) {\n      html[top.level] = `<g class=\"closest-bst-print-level\" data-attr=\"level-${top.level}\" transform=\"translate(${0}, ${top.level * TOTAL_HEIGHT})\">`;\n    }\n\n    html[top.level] += `<g class=\"closest-bst-print-node\" transform=\"translate(${top.pos.x}, ${top.pos.y})\">\n\t\t\t<text class=\"closest-bst-print-node-id\" dx=\"5\" dy=\"0\">id: ${top.id}</text>\n\t\t\t<text class=\"closest-bst-print-node-parentId\" dx=\"5\" dy=\"15\">pId: ${!isNaN(top.parentId) ? top.parentId : \"none\"}</text>\n\t\t\t<text class=\"closest-bst-print-node-value\" dx=\"5\" dy=\"30\">v: ${top.v}</text>\n\t\t\t<text class=\"closest-bst-print-node-minmax\" dx=\"5\" dy=\"45\">m: ${top.m}, x: ${top.x}</text>\n\t\t\t</g>`;\n\n    if (top.parent) {\n      const line = `<line x1=\"${top.parent.pos.c}\" y1=\"${top.parent.level * TOTAL_HEIGHT + MARGIN + BORDER + HEIGHT + BORDER}\" x2=\"${top.pos.c}\" y2=\"${top.level * TOTAL_HEIGHT + MARGIN + BORDER}\" class=\"closest-bst-print-arrow\" stroke=\"black\"/>`;\n      arrowsHtml.push(line);\n    }\n\n    if (top.r !== null) {\n      stack[++stackIter] = top.r;\n    }\n\n    if (top.l !== null) {\n      stack[++stackIter] = top.l;\n    }\n  }\n\n  for (let i = 0; i < html.length; i++) {\n    html[i] += `</g>`;\n  }\n\n  return `<svg class=\"closest-bst-print\" width=\"${maxLevelWidth + 40}\" height=\"${(totalLevels + 1) * TOTAL_HEIGHT + 40}\"><g class=\"closest-bst-print-container\" transform=\"translate(20, 20)\">${html.join(\"\")}${arrowsHtml.join(\"\")}</g></svg>`;\n};\n// CONCATENATED MODULE: ./src/ClosestBST.js\n/*\n\nClosestBST, a JavaScript Binary Search Tree library that helps to find the closest number in the binary search tree.\n\nCopyright © 2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of ClosestBST.\n\nClosestBST is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nClosestBST is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with ClosestBST.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\n\n/*\n\tnode = {\n\t\tm: number min,\n\t\tx: number max,\n\t\tv: number\n\t\td: <type> user data\n\t\tl: null,\n\t\tr: null\n\t}\n\n*/\n\nfunction ClosestBST(options) {\n  this.root = null;\n  this.data = [];\n  this.length = 0;\n\n  if (options && Array.isArray(options.data)) {\n    this.data = options.data;\n    this.constructTree();\n  }\n}\n\nClosestBST.prototype.constructor = ClosestBST;\n\nClosestBST.prototype.constructNode = function (data) {\n  return {\n    m: data.v,\n    x: data.v,\n    v: data.v,\n    d: data.d,\n    l: null,\n    r: null\n  };\n};\n\nClosestBST.prototype.constructTree = function () {\n  let length = this.data.length;\n\n  for (let i = 0; i < length; i++) {\n    this.insert(this.data[i]);\n  }\n};\n\nClosestBST.prototype.getRoot = function () {\n  return this.root;\n};\n\nClosestBST.prototype.insert = function (data) {\n  this._insert(this.root, data);\n};\n\nClosestBST.prototype._insert = function (root, data) {\n  let newNode = this.constructNode(data);\n  let iter = root;\n  let temp = null;\n\n  while (iter !== null) {\n    temp = iter;\n\n    if (iter.x < data.v) {\n      iter.x = data.v;\n    }\n\n    if (iter.m > data.v) {\n      iter.m = data.v;\n    }\n\n    if (iter.v > data.v) {\n      iter = iter.l;\n    } else if (iter.v === data.v) {\n      break;\n    } else {\n      iter = iter.r;\n    }\n  }\n\n  if (temp === null) {\n    this.root = newNode;\n  } else if (temp.v > data.v) {\n    temp.l = newNode;\n  } else if (temp.v === data.v) {\n    const tempLeftSubtree = temp.l;\n    temp.l = newNode;\n    temp.l.l = tempLeftSubtree;\n    const newMinMax = getNewMinMax(temp.l);\n    temp.l.m = newMinMax.m;\n    temp.l.x = newMinMax.x;\n  } else {\n    temp.r = newNode;\n  }\n\n  this.length++;\n  return newNode;\n};\n\nClosestBST.prototype.find = function (v, comp, d) {\n  return this._find(this.root, v, comp, d);\n};\n\nClosestBST.prototype._find = function (root, v, comp, d) {\n  if (root === null) return {};\n  let lm = {};\n  let um = {};\n\n  while (root !== null) {\n    if (root.v === v && (comp ? comp(root, v, d) : true) && (d !== null && d !== undefined ? root.d === d ? true : false : true)) {\n      return {\n        m: root,\n        lm: !isNaN(lm.v) ? lm : undefined,\n        um: !isNaN(um.v) ? um : undefined\n      };\n    }\n\n    if (root.v >= v) {\n      // go left\n      um = root;\n      root = root.l;\n    } else {\n      // go right\n      lm = root;\n      root = root.r;\n    }\n  }\n\n  return {\n    lm: !isNaN(lm.v) ? lm : undefined,\n    um: !isNaN(um.v) ? um : undefined,\n    m: undefined\n  };\n};\n\nClosestBST.prototype.findUsingComparator = function (comp, lcomp, rcomp) {\n  return this._findUsingComparator(this.root, comp, lcomp, rcomp);\n};\n\nClosestBST.prototype._findUsingComparator = function (root, comp, lcomp, rcomp) {\n  if (root === null) return [];\n  const result = new Array(this.length);\n  let count = 0;\n  const stack = new Array(this.length);\n  let stackIter = -1;\n  let top;\n  stack[++stackIter] = root;\n\n  while (stackIter >= 0) {\n    top = stack[stackIter];\n    stackIter--;\n\n    if (comp(top)) {\n      result[count++] = top;\n    }\n\n    if (top.r !== null && rcomp(top)) {\n      stack[++stackIter] = top.r;\n    }\n\n    if (top.l !== null && lcomp(top)) {\n      stack[++stackIter] = top.l;\n    }\n  }\n\n  const filteredResult = new Array(count);\n\n  for (let i = 0; i < count; i++) {\n    filteredResult[i] = result[i];\n  }\n\n  return filteredResult;\n};\n\nClosestBST.prototype.remove = function (v, d) {\n  return this._remove(this.root, v, d);\n};\n\nClosestBST.prototype._remove = function (root, v, d) {\n  let parent = null;\n  let branched = null;\n  let removed = null;\n  let stack = new Array(this.length);\n  let stackIter = -1;\n  let path = new Array(this.length);\n  let pathIter = -1;\n  stack[++stackIter] = root;\n  if (root === null) return null;\n\n  while (stackIter >= 0) {\n    // check to see if stack is not empty\n    // pop top most item\n    var top = stack[stackIter];\n    stack[stackIter] = null;\n    stackIter--;\n\n    if (top.v === v && (d !== null && d !== undefined ? top.d === d ? true : false : true)) {\n      removed = top;\n      this.length--;\n\n      if (top.l === null) {\n        if (parent) {\n          parent[branched] = top.r;\n          top = top.r;\n        } else {\n          this.root = top.r;\n        }\n      } else if (top.r === null) {\n        if (parent) {\n          parent[branched] = top.l;\n          top = top.l;\n        } else {\n          this.root = top.l;\n        }\n      } else {\n        var obj = inOrder(top.r, top);\n        top.v = obj.top.v;\n        top.d = obj.top.d;\n        const temp = top.l;\n        top.l = obj.top.l;\n        top.r = obj.r;\n\n        if (obj.current === obj.top) {\n          top.l = temp;\n        } else {\n          obj.current.l = temp;\n        }\n\n        fixMinMaxFromCurrentToTop(obj.currentToTopArr);\n      }\n\n      if (top) stack[++stackIter] = top;\n      break;\n    }\n\n    path[++pathIter] = top;\n\n    if (top.r !== null && top.v < v) {\n      parent = top;\n      branched = \"r\";\n      stack[++stackIter] = top.r;\n    } else if (top.l !== null && top.v >= v) {\n      // go left\n      parent = top;\n      branched = \"l\";\n      stack[++stackIter] = top.l;\n    }\n  }\n\n  while (pathIter >= 0) {\n    const newMinMax = getNewMinMax(path[pathIter]);\n    path[pathIter].m = newMinMax.m;\n    path[pathIter].x = newMinMax.x;\n    pathIter--;\n  }\n\n  return removed;\n};\n\nClosestBST.prototype.getSortedData = function () {\n  // inorder\n  if (this.root === null) return [];\n  const elements = new Array(this.length);\n  let iter = 0;\n  const stack = new Array(this.length);\n  let stackIter = -1;\n  let curr = this.root;\n\n  while (curr !== null || stackIter >= 0) {\n    while (curr !== null) {\n      stack[++stackIter] = curr;\n      curr = curr.l;\n    }\n\n    curr = stack[stackIter--];\n    elements[iter++] = {\n      v: curr.v,\n      d: curr.d\n    };\n    curr = curr.r;\n  }\n\n  return elements;\n};\n\nClosestBST.prototype.printHtmlTree = function () {\n  return printBinaryTree(this.root, this.length);\n};\n\n/* harmony default export */ var src_ClosestBST = (ClosestBST);\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/index.js\n/*\n\nClosestBST, a JavaScript Binary Search Tree library that helps to find the closest number in the binary search tree.\n\nCopyright © 2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of ClosestBST.\n\nClosestBST is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nClosestBST is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with ClosestBST.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\n\n\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=index.js.map","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\n// const constants = {\n// \tWIDTH: 0,\n// \tHEIGHT: 0,\n\n// \tPADDING_LEFT: 0,\n// \tPADDING_RIGHT: 0,\n// \tPADDING_TOP: 0,\n// \tPADDING_BOTTOM: 0,\n\n// \tWIDTH_SCALE_FACTOR: 0,\n\n// \tGRID_WIDTH: 1080,\n// \tGRID_HEIGHT: 1920,\n// \tGRID_MARGIN: 5,\n// \tMARGIN: 5,\n\n// \tMIN_HEIGHT_AND_WIDTH: 150,\n// };\n\nconst setPrivateConstants = function (context, val) {\n\tcontext.store.constants.privateConstants = val;\n};\n\nconst getPrivateConstants = function (context) {\n\treturn context.store.constants.privateConstants;\n};\n\nconst setPrivateConstantByName = function (context, name, value) {\n\tif (context.store.constants.privateConstants.hasOwnProperty(name)) {\n\t\tcontext.store.constants.privateConstants[name] = value;\n\t}\n};\n\nconst getPrivateConstantByName = function (context, name) {\n\treturn context.store.constants.privateConstants[name];\n};\n\nconst setWidth = function (context, val) {\n\tcontext.store.constants.privateConstants.WIDTH = val;\n};\n\nconst getWidth = function (context) {\n\treturn context.store.constants.privateConstants.WIDTH;\n};\n\nconst setHeight = function (context, val) {\n\tcontext.store.constants.privateConstants.HEIGHT = val;\n};\n\nconst getHeight = function (context) {\n\treturn context.store.constants.privateConstants.HEIGHT;\n};\n\nconst setPaddingLeft = function (context, val) {\n\tcontext.store.constants.privateConstants.PADDING_LEFT = val;\n};\n\nconst getPaddingLeft = function (context) {\n\treturn context.store.constants.privateConstants.PADDING_LEFT;\n};\n\nconst setPaddingRight = function (context, val) {\n\tcontext.store.constants.privateConstants.PADDING_RIGHT = val;\n};\n\nconst getPaddingRight = function (context) {\n\treturn context.store.constants.privateConstants.PADDING_RIGHT;\n};\n\nconst setPaddingTop = function (context, val) {\n\tcontext.store.constants.privateConstants.PADDING_TOP = val;\n};\n\nconst getPaddingTop = function (context) {\n\treturn context.store.constants.privateConstants.PADDING_TOP;\n};\n\nconst setPaddingBottom = function (context, val) {\n\tcontext.store.constants.privateConstants.PADDING_BOTTOM = val;\n};\n\nconst getPaddingBottom = function (context) {\n\treturn context.store.constants.privateConstants.PADDING_BOTTOM;\n};\n\nconst setWidthScaleFactor = function (context, val) {\n\tcontext.store.constants.privateConstants.WIDTH_SCALE_FACTOR = val;\n};\n\nconst getWidthScaleFactor = function (context) {\n\treturn context.store.constants.privateConstants.WIDTH_SCALE_FACTOR;\n};\n\nconst setMargin = function (context, val) {\n\tcontext.store.constants.privateConstants.MARGIN = val;\n};\n\nconst getMargin = function (context) {\n\treturn context.store.constants.privateConstants.MARGIN;\n};\n\nconst setDefinedMinHeightAndWidth = function (context, val) {\n\tcontext.store.constants.privateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH = val;\n};\n\nconst getDefinedMinHeightAndWidth = function (context) {\n\treturn context.store.constants.privateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH;\n};\n\n//\nconst setGridWidth = function (context, val) {\n\tcontext.store.constants.privateConstants.GRID_WIDTH = val;\n};\n\nconst getGridWidth = function (context) {\n\treturn context.store.constants.privateConstants.GRID_WIDTH;\n};\n\nconst setGridHeight = function (context, val) {\n\tcontext.store.constants.privateConstants.GRID_HEIGHT = val;\n};\n\nconst getGridHeight = function (context) {\n\treturn context.store.constants.privateConstants.GRID_HEIGHT;\n};\n\nconst setGridMargin = function (context, val) {\n\tcontext.store.constants.privateConstants.GRID_MARGIN = val;\n};\n\nconst getGridMargin = function (context) {\n\treturn context.store.constants.privateConstants.GRID_MARGIN;\n};\n\nconst setMinHeightAndWidth = function (context, val) {\n\tcontext.store.constants.privateConstants.MIN_HEIGHT_AND_WIDTH = val;\n};\n\nconst getMinHeightAndWidth = function (context) {\n\treturn context.store.constants.privateConstants.MIN_HEIGHT_AND_WIDTH;\n};\n\nexport default getPrivateConstants;\nexport {\n\tsetPrivateConstants,\n\tgetPrivateConstants,\n\tsetPrivateConstantByName,\n\tgetPrivateConstantByName,\n\tsetWidth,\n\tgetWidth,\n\tsetHeight,\n\tgetHeight,\n\tsetPaddingLeft,\n\tgetPaddingLeft,\n\tsetPaddingRight,\n\tgetPaddingRight,\n\tsetPaddingTop,\n\tgetPaddingTop,\n\tsetPaddingBottom,\n\tgetPaddingBottom,\n\tsetWidthScaleFactor,\n\tgetWidthScaleFactor,\n\tsetMargin,\n\tgetMargin,\n\tsetDefinedMinHeightAndWidth,\n\tgetDefinedMinHeightAndWidth,\n\tsetGridWidth,\n\tgetGridWidth,\n\tsetGridHeight,\n\tgetGridHeight,\n\tsetGridMargin,\n\tgetGridMargin,\n\tsetMinHeightAndWidth,\n\tgetMinHeightAndWidth,\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport { getPrivateConstantByName } from \"./privateConstants\";\n\n// const constants = {\n// \tMOVE_GUIDE_RADIUS: 10,\n// \tRESIZE_SQUARE_GUIDE_LENGTH: 10,\n// \tRESIZE_SQUARE_BORDER_GUIDE_WIDTH: 3,\n// \tAUTO_SCROLL_DISTANCE: 50,\n// \tAUTO_SCROLL_POINT: 50,\n// \tMOVE_OR_RESIZE_HEIGHT_INCREMENTS: 50,\n\n// \tMOUSE_DOWN_TIME: 500,\n// \tTOUCH_HOLD_TIME: 300,\n// \tDEMO_WAIT_TIME: 500,\n// \tWINDOW_RESIZE_WAIT_TIME: 1000,\n// \tMARGIN: 5,\n\n// \tMOBILE_ASPECT_RATIO: 16 / 9,\n\n// \tADD_OR_CUTSPACE_TOGGLE: \"ADD\",\n\n// \tDEFINED_MIN_HEIGHT_AND_WIDTH: 150,\n// };\n\nconst setPublicConstants = function (context, val) {\n\tcontext.store.constants.publicConstants = val;\n};\n\nconst getPublicConstants = function (context) {\n\treturn context.store.constants.publicConstants;\n};\n\nconst setPublicConstantByName = function (context, name, value) {\n\tif (context.store.constants.publicConstants.hasOwnProperty(name)) {\n\t\tcontext.store.constants.publicConstants[name] = value;\n\t}\n};\n\nconst getPublicConstantByName = function (context, name) {\n\treturn context.store.constants.publicConstants[name];\n};\n\nexport default getPublicConstants;\nexport {\n\tsetPublicConstants,\n\tgetPublicConstants,\n\tsetPublicConstantByName,\n\tgetPublicConstantByName,\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport getPublicConstants from \"../../store/constants/publicConstants\";\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\n\nexport const emptyObject = function (obj) {\n\tlet keys = Object.keys(obj);\n\tlet length = keys.length;\n\tfor (let i = 0; i < length; i++) {\n\t\tdelete obj[keys[i]];\n\t}\n};\n\nexport let isMobile = function (context) {\n\tconst isMobileFunction = context.options.isMobileCheck;\n\n\tif (isMobileFunction) {\n\t\treturn isMobileFunction();\n\t}\n\n\t// production\n\treturn window.matchMedia(\n\t\t// \"only screen and (max-width: 1033px) and (min-width : 1px)\"\n\t\t\"only screen and (max-width: 979px) and (min-width : 1px)\"\n\t).matches;\n};\n\nexport const fixTo = (num, to = 6) => {\n\treturn Math.trunc(num * Math.pow(10, to)) / Math.pow(10, to);\n};\n\nexport const filter = (arr) => {\n\tconst len = arr.length;\n\tconst temp = new Array(len);\n\tlet count = 0;\n\tfor (let i = 0; i < len; i++) {\n\t\tif (arr[i] !== null && arr[i] !== undefined) {\n\t\t\ttemp[count++] = arr[i];\n\t\t}\n\t}\n\n\tconst res = new Array(count);\n\tfor (let i = 0; i < count; i++) {\n\t\tres[i] = temp[i];\n\t}\n\n\treturn res;\n};\n\nexport const getRandomString = (len = 22) => {\n\tconst alpNum = \"0123456789abcdefghijklmnopqrstuvwxyz\";\n\n\tconst arr = new Array(len);\n\tfor (let i = 0; i < len; i++) {\n\t\tarr[i] = alpNum[Math.floor(Math.random() * 36)];\n\t}\n\treturn arr.join(\"\");\n};\n\nexport const getItemDimenWithMargin = (MARGIN, item) => {\n\treturn {\n\t\tx: item.x - MARGIN,\n\t\ty: item.y - MARGIN,\n\t\twidth: item.width + MARGIN * 2,\n\t\theight: item.height + MARGIN * 2,\n\t};\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport { emptyObject } from \"../../libs/utils/utils\";\n\n// const ev = {\n// \t// elementID: \"\",\n// \tpseudoElementId: \"\",\n// };\n// const positionData = [];\n// const modifiedPositionData = [];\n// const initialPositionData = [];\n// const initialGridData = {};\n// let callbacks = {};\n// const serializedPositionData = {};\n\n// const setElementId = function (id) {\n// \tev.elementID = id;\n// };\n\nconst setEssentialVariables = function (context, ev) {\n\tcontext.store.variables.essentials = ev;\n};\n\nconst getEssentialVariables = function (context) {\n\treturn context.store.variables.essentials;\n};\n\nconst setPseudoContainerId = function (context, id) {\n\tcontext.store.variables.essentials.pseudoContainerId = id;\n};\n\nconst getPseudoContainerId = function (context) {\n\treturn context.store.variables.essentials.pseudoContainerId;\n};\n\nconst setPositionData = function (context, pd) {\n\tconst len = pd.length;\n\tconst arr = new Array(len);\n\tfor (let i = 0; i < len; i++) {\n\t\tarr[i] = { ...pd[i] };\n\t}\n\n\tcontext.store.variables.essentials.positionData = arr;\n};\n\nconst getPositionData = function (context) {\n\treturn context.store.variables.essentials.positionData;\n};\n\nconst setModifiedPositionData = function (context, pd) {\n\tconst len = pd.length;\n\tconst arr = new Array(len);\n\tfor (let i = 0; i < len; i++) {\n\t\tarr[i] = { ...pd[i] };\n\t}\n\n\tcontext.store.variables.essentials.modifiedPositionData = arr;\n};\n\nconst getModifiedPositionData = function (context) {\n\treturn context.store.variables.essentials.modifiedPositionData;\n};\n\n// const setInitialPositionData = function (context, pos) {\n// \tcontext.store.variables.essentials.initialPositionData.length = 0;\n// \tObject.assign(\n// \t\tcontext.store.variables.essentials.initialPositionData,\n// \t\tJSON.parse(JSON.stringify(pos))\n// \t);\n// };\n\n// const getInitialPositionData = function (context) {\n// \treturn context.store.variables.essentials.initialPositionData;\n// };\n\nconst setGridData = function (context, grid) {\n\temptyObject(context.store.variables.essentials.gridData);\n\tObject.assign(\n\t\tcontext.store.variables.essentials.gridData,\n\t\tJSON.parse(JSON.stringify(grid))\n\t);\n};\n\nconst getGridData = function (context) {\n\treturn context.store.variables.essentials.gridData;\n};\n\nconst setCallbacks = function (context, cbs) {\n\temptyObject(context.store.variables.essentials.callbacks);\n\tObject.assign(context.store.variables.essentials.callbacks, cbs);\n};\n\nconst getCallbacks = function (context) {\n\treturn context.store.variables.essentials.callbacks;\n};\n\nconst setSerializedPositionData = function (context, serPos) {\n\temptyObject(context.store.variables.essentials.serializedPositionData);\n\tObject.assign(\n\t\tcontext.store.variables.essentials.serializedPositionData,\n\t\tserPos\n\t);\n};\n\nconst getSerializedPositionData = function (context) {\n\treturn context.store.variables.essentials.serializedPositionData;\n};\n\nexport default getEssentialVariables;\nexport {\n\t// setElementId,\n\tsetEssentialVariables,\n\tgetEssentialVariables,\n\tsetPseudoContainerId,\n\tgetPseudoContainerId,\n\tsetPositionData,\n\tgetPositionData,\n\tsetModifiedPositionData,\n\tgetModifiedPositionData,\n\tsetGridData,\n\tgetGridData,\n\tsetCallbacks,\n\tgetCallbacks,\n\tsetSerializedPositionData,\n\tgetSerializedPositionData,\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\n// import { emptyObject } from \"../libs/utils/utils\";\n\n// const e = {\n// \t$body: [],\n// \t$bodyPseudoEl: {},\n// \t$limberGridViewBodyPseudoItem: [],\n// \t$el: {},\n// \t$limberGridView: [],\n// \t$limberGridViewItems: [],\n// \t$limberGridViewDebugMergedTempRects: [],\n// \t$limberGridViewDebugStackTopRect: undefined,\n// \t$limberGridViewDebugStackTopAdjRect: undefined,\n// \t$limberGridViewDebugMergedRect: undefined,\n// \t$limberGridViewDebugAdjRect: undefined,\n// \t$limberGridViewDebugResultStackRects: [],\n// \t$limberGridViewDebugStackRects: [],\n// \t$limberGridViewDebugUnmergedRects: [],\n// \t$limberGridViewDebugMergedFreeRects: [],\n// \t$limberGridViewContainer: undefined,\n// \t$limberGridViewStyle: [],\n// \t$limberGridViewGridPseudoItem: undefined,\n// \t$limberGridViewMoveGuide: [],\n// \t$limberGridViewHeightAdjustGuide: [],\n// \t$limberGridViewAddItemGuide: [],\n// \t$limberGridViewAddItemOnTouchHoldGuide: [],\n// };\n\nconst getElements = function (context) {\n\treturn context.store.variables.elements;\n};\n\nconst set$body = function (context, elm) {\n\tcontext.store.variables.elements.$body = elm;\n};\n\nconst get$body = function (context) {\n\treturn context.store.variables.elements.$body;\n};\n\n// outside pseudos BEGIN\nconst set$pseudoContainer = function (context, elm) {\n\tcontext.store.variables.elements.$pseudoContainer = elm;\n};\n\nconst get$pseudoContainer = function (context) {\n\treturn context.store.variables.elements.$pseudoContainer;\n};\n\nconst set$pseudoContainerItem = function (context, elm) {\n\tcontext.store.variables.elements.$pseudoContainerItem = elm;\n};\n\nconst get$pseudoContainerItem = function (context) {\n\treturn context.store.variables.elements.$pseudoContainerItem;\n};\n// outside pseudos ENDED\n\n// Grid Elements BEGIN\nconst set$el = function (context, elm) {\n\tcontext.store.variables.elements.$el = elm;\n};\n\nconst get$el = function (context) {\n\treturn context.store.variables.elements.$el;\n};\n\nconst set$limberGridViewContainer = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewContainer = elm;\n};\n\nconst get$limberGridViewContainer = function (context) {\n\treturn context.store.variables.elements.$limberGridViewContainer;\n};\n\nconst set$limberGridView = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridView = elm;\n};\n\nconst get$limberGridView = function (context) {\n\treturn context.store.variables.elements.$limberGridView;\n};\n\nconst set$limberGridViewItems = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewItems = elm;\n};\n\nconst get$limberGridViewItems = function (context) {\n\treturn context.store.variables.elements.$limberGridViewItems;\n};\n\nconst set$limberGridViewPseudoItem = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewPseudoItem = elm;\n};\n\nconst get$limberGridViewPseudoItem = function (context) {\n\treturn context.store.variables.elements.$limberGridViewPseudoItem;\n};\n\nconst set$limberGridViewMoveGuide = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewMoveGuide = elm;\n};\n\nconst get$limberGridViewMoveGuide = function (context) {\n\treturn context.store.variables.elements.$limberGridViewMoveGuide;\n};\n\nconst set$limberGridViewHeightAdjustGuide = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewHeightAdjustGuide = elm;\n};\n\nconst get$limberGridViewHeightAdjustGuide = function (context) {\n\treturn context.store.variables.elements.$limberGridViewHeightAdjustGuide;\n};\n\nconst set$limberGridViewAddCutGuide = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewAddCutGuide = elm;\n};\n\nconst get$limberGridViewAddCutGuide = function (context) {\n\treturn context.store.variables.elements.$limberGridViewAddCutGuide;\n};\n\nconst set$limberGridViewTouchHoldGuide = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewTouchHoldGuide = elm;\n};\n\nconst get$limberGridViewTouchHoldGuide = function (context) {\n\treturn context.store.variables.elements.$limberGridViewTouchHoldGuide;\n};\n// Grid Elements ENDED\n\n// DEBUG Elements\nconst set$limberGridViewDebugMergedTempRects = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewDebugMergedTempRects = elm;\n};\n\nconst get$limberGridViewDebugMergedTempRects = function (context) {\n\treturn context.store.variables.elements.$limberGridViewDebugMergedTempRects;\n};\n\nconst set$limberGridViewDebugStackTopRect = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewDebugStackTopRect = elm;\n};\n\nconst get$limberGridViewDebugStackTopRect = function (context) {\n\treturn context.store.variables.elements.$limberGridViewDebugStackTopRect;\n};\n\nconst set$limberGridViewDebugStackTopAdjRect = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewDebugStackTopAdjRect = elm;\n};\n\nconst get$limberGridViewDebugStackTopAdjRect = function (context) {\n\treturn context.store.variables.elements.$limberGridViewDebugStackTopAdjRect;\n};\n\nconst set$limberGridViewDebugMergedRect = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewDebugMergedRect = elm;\n};\n\nconst get$limberGridViewDebugMergedRect = function (context) {\n\treturn context.store.variables.elements.$limberGridViewDebugMergedRect;\n};\n\nconst set$limberGridViewDebugAdjRect = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewDebugAdjRect = elm;\n};\n\nconst get$limberGridViewDebugAdjRect = function (context) {\n\treturn context.store.variables.elements.$limberGridViewDebugAdjRect;\n};\n\nconst set$limberGridViewDebugStackRects = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewDebugStackRects = elm;\n};\n\nconst get$limberGridViewDebugStackRects = function (context) {\n\treturn context.store.variables.elements.$limberGridViewDebugStackRects;\n};\n\nconst set$limberGridViewDebugResultStackRects = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewDebugResultStackRects = elm;\n};\n\nconst get$limberGridViewDebugResultStackRects = function (context) {\n\treturn context.store.variables.elements.$limberGridViewDebugResultStackRects;\n};\n\nconst set$limberGridViewDebugUnmergedRects = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewDebugUnmergedRects = elm;\n};\n\nconst get$limberGridViewDebugUnmergedRects = function (context) {\n\treturn context.store.variables.elements.$limberGridViewDebugUnmergedRects;\n};\n\nconst set$limberGridViewDebugMergedFreeRects = function (context, elm) {\n\tcontext.store.variables.elements.$limberGridViewDebugMergedFreeRects = elm;\n};\n\nconst get$limberGridViewDebugMergedFreeRects = function (context) {\n\treturn context.store.variables.elements.$limberGridViewDebugMergedFreeRects;\n};\n\nexport default getElements;\nexport {\n\tgetElements,\n\tset$body,\n\tget$body,\n\t// outside pseudo\n\tset$pseudoContainer,\n\tget$pseudoContainer,\n\tset$pseudoContainerItem,\n\tget$pseudoContainerItem,\n\t// Grid Elements\n\tset$el,\n\tget$el,\n\tset$limberGridView,\n\tget$limberGridView,\n\tset$limberGridViewItems,\n\tget$limberGridViewItems,\n\tset$limberGridViewContainer,\n\tget$limberGridViewContainer,\n\tset$limberGridViewPseudoItem,\n\tget$limberGridViewPseudoItem,\n\tset$limberGridViewMoveGuide,\n\tget$limberGridViewMoveGuide,\n\tset$limberGridViewHeightAdjustGuide,\n\tget$limberGridViewHeightAdjustGuide,\n\tset$limberGridViewAddCutGuide,\n\tget$limberGridViewAddCutGuide,\n\tset$limberGridViewTouchHoldGuide,\n\tget$limberGridViewTouchHoldGuide,\n\t// DEBUG Elements\n\tset$limberGridViewDebugMergedTempRects,\n\tget$limberGridViewDebugMergedTempRects,\n\tset$limberGridViewDebugStackTopRect,\n\tget$limberGridViewDebugStackTopRect,\n\tset$limberGridViewDebugStackTopAdjRect,\n\tget$limberGridViewDebugStackTopAdjRect,\n\tset$limberGridViewDebugMergedRect,\n\tget$limberGridViewDebugMergedRect,\n\tset$limberGridViewDebugAdjRect,\n\tget$limberGridViewDebugAdjRect,\n\tset$limberGridViewDebugStackRects,\n\tget$limberGridViewDebugStackRects,\n\tset$limberGridViewDebugResultStackRects,\n\tget$limberGridViewDebugResultStackRects,\n\tset$limberGridViewDebugUnmergedRects,\n\tget$limberGridViewDebugUnmergedRects,\n\tset$limberGridViewDebugMergedFreeRects,\n\tget$limberGridViewDebugMergedFreeRects,\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport getPublicConstants from \"../../store/constants/publicConstants\";\nimport { getPositionData } from \"../../store/variables/essentials\";\nimport getElements from \"../../store/variables/elements\";\n\nexport const getPlainFrom4Points = function (pointsArray) {\n\tvar minX = -1;\n\tvar minY = -1;\n\tvar maxX = -1;\n\tvar maxY = -1;\n\tvar length_0 = pointsArray.length;\n\tfor (var i = 0; i < length_0; i++) {\n\t\tif (pointsArray[i][0] < minX || minX < 0) {\n\t\t\tminX = pointsArray[i][0];\n\t\t}\n\t\tif (pointsArray[i][0] > maxX) {\n\t\t\tmaxX = pointsArray[i][0];\n\t\t}\n\t\tif (pointsArray[i][1] < minY || minY < 0) {\n\t\t\tminY = pointsArray[i][1];\n\t\t}\n\t\tif (pointsArray[i][1] > maxY) {\n\t\t\tmaxY = pointsArray[i][1];\n\t\t}\n\t}\n\n\tvar plane = {};\n\tplane.x = minX;\n\tplane.y = minY;\n\tplane.width = maxX - minX;\n\tplane.height = maxY - minY;\n\n\treturn plane;\n};\n\nexport const getCoordinates = function (item) {\n\tvar itemTopLeft = [item.x, item.y];\n\tvar itemTopRight = [item.x + item.width, item.y];\n\tvar itemBottomLeft = [item.x, item.y + item.height];\n\tvar itemBottomRight = [item.x + item.width, item.y + item.height];\n\n\tvar itemCoordinatesArr = [\n\t\titemTopLeft,\n\t\titemTopRight,\n\t\titemBottomRight,\n\t\titemBottomLeft,\n\t];\n\n\treturn itemCoordinatesArr;\n};\n\nexport const getLines = function (item) {\n\tvar itemTopLeft = JSON.parse(JSON.stringify([item.x, item.y]));\n\tvar itemTopRight = JSON.parse(JSON.stringify([item.x + item.width, item.y]));\n\tvar itemBottomLeft = JSON.parse(\n\t\tJSON.stringify([item.x, item.y + item.height])\n\t);\n\tvar itemBottomRight = JSON.parse(\n\t\tJSON.stringify([item.x + item.width, item.y + item.height])\n\t);\n\n\tvar topLine = [itemTopLeft, itemTopRight];\n\tvar rightLine = [itemTopRight, itemBottomRight];\n\tvar bottomLine = [itemBottomLeft, itemBottomRight];\n\tvar leftLine = [itemTopLeft, itemBottomLeft];\n\n\tvar allLines = [topLine, rightLine, bottomLine, leftLine];\n\n\treturn allLines;\n};\n\nexport const arePlainsSame = function (A, B) {\n\tif (A.x == B.x && A.y == B.y && A.width == B.width && A.height == B.height) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\nexport const arePlainsIdentical = function (A, B) {\n\tif (A.width == B.width && A.height == B.height) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\nexport const isValidPlane = function (plane) {\n\tif (plane.x >= 0 && plane.y >= 0 && plane.width > 0 && plane.height > 0) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\nexport const sortPlainsByArea = function (planes, order = \"dec\") {\n\tif (order == \"asc\") {\n\t\tplanes.sort(function (a, b) {\n\t\t\treturn (\n\t\t\t\t(a.x + a.width) * (a.y + a.height) - (b.x + b.width) * (b.y + b.height)\n\t\t\t);\n\t\t});\n\t} else {\n\t\tplanes.sort(function (a, b) {\n\t\t\treturn (\n\t\t\t\t(b.x + b.width) * (b.y + b.height) - (a.x + a.width) * (a.y + a.height)\n\t\t\t);\n\t\t});\n\t}\n\n\treturn planes;\n};\n\nexport const sortPlainsByHeight = function (planes, order = \"dec\") {\n\tif (order == \"asc\") {\n\t\tplanes.sort(function (a, b) {\n\t\t\treturn a.height - b.height;\n\t\t});\n\t} else {\n\t\tplanes.sort(function (a, b) {\n\t\t\treturn b.height - a.height;\n\t\t});\n\t}\n\n\treturn planes;\n};\n\nexport const sortPlainsByDepth = function (planes, order = \"dec\") {\n\tif (order == \"asc\") {\n\t\tplanes.sort(function (a, b) {\n\t\t\treturn a.y + a.height - (b.y + b.height);\n\t\t});\n\t} else {\n\t\tplanes.sort(function (a, b) {\n\t\t\treturn b.y + b.height - (a.y + a.height);\n\t\t});\n\t}\n\n\treturn planes;\n};\n\nexport const divideEqualNumber = function (a, DEFAULT = 0) {\n\tvar res = a / a;\n\tif (res == NaN) {\n\t\treturn 0;\n\t} else {\n\t\treturn 1;\n\t}\n};\n\nexport const getMarginAtPoint = function (a) {\n\tif (a == 0) {\n\t\treturn 0;\n\t} else {\n\t\treturn publicConstants.MARGIN;\n\t}\n};\n\nexport const getRowSequence = function (serialize) {\n\tvar rows = {};\n\tvar rowsArr = [];\n\tvar columns = {};\n\n\tvar length_0 = positionData.length;\n\n\tfor (var i = 0; i < length_0; i++) {\n\t\tif (rows.hasOwnProperty(positionData[i].y)) {\n\t\t\trows[positionData[i].y].push(i);\n\t\t} else {\n\t\t\trows[positionData[i].y] = [];\n\t\t\trowsArr.push(Number(positionData[i].y));\n\t\t\trows[positionData[i].y].push(i);\n\t\t}\n\t}\n\n\trowsArr.sort(function (a, b) {\n\t\treturn a - b;\n\t});\n\n\tvar length_0 = rowsArr.length;\n\tfor (var i = 0; i < length_0; i++) {\n\t\trows[rowsArr[i]].sort(function (a, b) {\n\t\t\treturn positionData[a].x - positionData[b].x;\n\t\t});\n\t}\n\n\tif (serialize != true) {\n\t\treturn { rowOrder: rowsArr, rows: rows };\n\t} else {\n\t\tvar arr = [];\n\t\tvar map = {};\n\t\tvar count = 0;\n\n\t\tvar length_0 = rowsArr.length;\n\t\tfor (var i = 0; i < length_0; i++) {\n\t\t\tvar length_1 = rows[rowsArr[i]].length;\n\t\t\tfor (var j = 0; j < length_1; j++) {\n\t\t\t\tarr.push(rows[rowsArr[i]][j]);\n\t\t\t\tmap[rows[rowsArr[i]][j]] = count++;\n\t\t\t}\n\t\t}\n\n\t\treturn { list: arr, map: map };\n\t}\n};\n\nexport const adjustHeight = function (context, yMouseOrTouchPosition) {\n\tconst e = getElements(context);\n\tconst publicConstants = getPublicConstants(context);\n\n\tconst scrollHeight = e.$limberGridView.scrollHeight;\n\tif (\n\t\tscrollHeight - yMouseOrTouchPosition <=\n\t\tpublicConstants.AUTO_SCROLL_POINT\n\t) {\n\t\te.$limberGridViewHeightAdjustGuide.style.height =\n\t\t\tyMouseOrTouchPosition +\n\t\t\tpublicConstants.MOVE_OR_RESIZE_HEIGHT_INCREMENTS +\n\t\t\t\"px\";\n\t}\n};\n\nexport const adjustScroll = function (\n\tcontext,\n\tlimberGridViewOnVisibleAreaY,\n\tlimberGridViewHeightVisibleHeight\n) {\n\tconst e = getElements(context);\n\tconst publicConstants = getPublicConstants(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tconst scrollTop = e.$limberGridView.scrollTop;\n\t// var scrollLeft = this.$limberGridView[0].scrollLeft;\n\tlet programScrolled = false;\n\tif (limberGridViewOnVisibleAreaY > 0) {\n\t\tif (\n\t\t\tlimberGridViewHeightVisibleHeight - limberGridViewOnVisibleAreaY <\n\t\t\tpublicConstants.AUTO_SCROLL_POINT\n\t\t) {\n\t\t\te.$limberGridView.scrollTop =\n\t\t\t\tscrollTop + publicConstants.AUTO_SCROLL_DISTANCE;\n\t\t\tprogramScrolled = true;\n\t\t}\n\t\tif (\n\t\t\tlimberGridViewOnVisibleAreaY < privateConstants.HEIGHT / 10 &&\n\t\t\tscrollTop !== 0\n\t\t) {\n\t\t\te.$limberGridView.scrollTop =\n\t\t\t\tscrollTop - publicConstants.AUTO_SCROLL_DISTANCE;\n\t\t\tprogramScrolled = true;\n\t\t}\n\t}\n\n\t// if(limberGridViewOnVisibleAreaX > 0){\n\t// \tif((limberGridViewWidthVisibleWidth - limberGridViewOnVisibleAreaX) < (this.WIDTH/10)){\n\t// \t\tthis.$limberGridView[0].scrollLeft = scrollLeft + 100;\n\t// \t\tvar programScrolled = true;\n\t// \t}\n\t// \tif((limberGridViewOnVisibleAreaX) < (this.WIDTH/10) && scrollLeft != 0){\n\t// \t\tthis.$limberGridView[0].scrollLeft = scrollLeft - 100;\n\t// \t\tvar programScrolled = true;\n\t// \t}\n\t// }\n\treturn programScrolled;\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport getElements from \"../../store/variables/elements\";\nimport { getPositionData } from \"../../store/variables/essentials\";\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport getPublicConstants from \"../../store/constants/publicConstants\";\n\nexport const calculateMousePosOnDesk = function (context, event) {\n\tconst e = getElements(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tconst limberGridViewPosition = e.$limberGridView.getBoundingClientRect();\n\tif (\n\t\tevent.clientX >= limberGridViewPosition.left &&\n\t\tevent.clientX <=\n\t\t\tlimberGridViewPosition.left + limberGridViewPosition.width &&\n\t\tevent.clientY >= limberGridViewPosition.top &&\n\t\tevent.clientY <= limberGridViewPosition.top + limberGridViewPosition.height\n\t) {\n\t\tconst scrollTop = e.$limberGridView.scrollTop;\n\t\tconst scrollLeft = e.$limberGridView.scrollLeft;\n\n\t\tconst mouseXOnLimberGridView =\n\t\t\tevent.clientX -\n\t\t\tlimberGridViewPosition.left -\n\t\t\tprivateConstants.PADDING_LEFT +\n\t\t\tscrollLeft;\n\t\tconst mouseYOnLimberGridView =\n\t\t\tevent.clientY -\n\t\t\tlimberGridViewPosition.top -\n\t\t\tprivateConstants.PADDING_TOP +\n\t\t\tscrollTop;\n\n\t\tif (mouseXOnLimberGridView < 0 || mouseYOnLimberGridView < 0) {\n\t\t\treturn false;\n\t\t}\n\t\treturn { x: mouseXOnLimberGridView, y: mouseYOnLimberGridView };\n\t} else {\n\t\t// mouse pointer NOT inside limberGridView\n\t\treturn false;\n\t}\n};\n\nexport const calculateTouchPosOnDesk = function (context, event) {\n\tconst e = getElements(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tconst limberGridViewPosition = e.$limberGridView.getBoundingClientRect();\n\tlet touch;\n\n\tif (event.type === \"touchend\") {\n\t\ttouch = {\n\t\t\tclientX: event.changedTouches[0].clientX,\n\t\t\tclientY: event.changedTouches[0].clientY,\n\t\t};\n\t} else {\n\t\ttouch = {\n\t\t\tclientX: event.touches[0].clientX,\n\t\t\tclientY: event.touches[0].clientY,\n\t\t};\n\t}\n\tif (\n\t\ttouch.clientX >= limberGridViewPosition.left &&\n\t\ttouch.clientX <=\n\t\t\tlimberGridViewPosition.left + limberGridViewPosition.width &&\n\t\ttouch.clientY >= limberGridViewPosition.top &&\n\t\ttouch.clientY <= limberGridViewPosition.top + limberGridViewPosition.height\n\t) {\n\t\tconst scrollTop = e.$limberGridView.scrollTop;\n\t\tconst scrollLeft = e.$limberGridView.scrollLeft;\n\n\t\tconst touchXOnLimberGridView =\n\t\t\ttouch.clientX -\n\t\t\tlimberGridViewPosition.left -\n\t\t\tprivateConstants.PADDING_LEFT +\n\t\t\tscrollLeft;\n\t\tconst touchYOnLimberGridView =\n\t\t\ttouch.clientY -\n\t\t\tlimberGridViewPosition.top -\n\t\t\tprivateConstants.PADDING_TOP +\n\t\t\tscrollTop;\n\n\t\tif (touchXOnLimberGridView < 0 || touchYOnLimberGridView < 0) {\n\t\t\treturn false;\n\t\t}\n\t\treturn { x: touchXOnLimberGridView, y: touchYOnLimberGridView };\n\t} else {\n\t\t// touch NOT inside limberGridView\n\t\treturn false;\n\t}\n};\n\nexport const calculateTouchPosOnItem = function (context, event) {\n\tconst e = getElements(context);\n\n\tconst limberGridViewItemPosition = e.$limberGridViewItems[\n\t\tevent.currentTarget.attributes[\"data-index\"].value\n\t].getBoundingClientRect();\n\n\tif (\n\t\tevent.touches[0].clientX >= limberGridViewItemPosition.left &&\n\t\tevent.touches[0].clientX <=\n\t\t\tlimberGridViewItemPosition.left + limberGridViewItemPosition.width &&\n\t\tevent.touches[0].clientY >= limberGridViewItemPosition.top &&\n\t\tevent.touches[0].clientY <=\n\t\t\tlimberGridViewItemPosition.top + limberGridViewItemPosition.height\n\t) {\n\t\tconst touchXOnLimberGridView =\n\t\t\tevent.touches[0].clientX - limberGridViewItemPosition.left;\n\t\tconst touchYOnLimberGridView =\n\t\t\tevent.touches[0].clientY - limberGridViewItemPosition.top;\n\n\t\treturn { x: touchXOnLimberGridView, y: touchYOnLimberGridView };\n\t} else {\n\t\t// touch NOT inside limberGridViewItem\n\t\treturn false;\n\t}\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\n// SEE index.js for options format\n\nconst setOptions = function (context, options) {\n\tcontext.options = options;\n};\n\nconst getOptions = function (context) {\n\treturn context.options;\n};\n\nexport default getOptions;\nexport { setOptions, getOptions };\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport getElements from \"../../store/variables/elements\";\nimport getOptions from \"../../store/variables/options\";\nimport { getPositionData } from \"../../store/variables/essentials\";\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport getPublicConstants from \"../../store/constants/publicConstants\";\nimport { calculateTouchPosOnItem } from \"./eventHandlerUtils\";\n\nexport const getUserActionData = (context, event) => {\n\tconst publicConstants = getPublicConstants(context);\n\tconst options = getOptions(context);\n\tconst pd = getPositionData(context);\n\n\tconst itemIndex = parseInt(\n\t\tevent.currentTarget.attributes[\"data-index\"].value\n\t);\n\tlet radius;\n\tlet touchPosOnLimberGridItem;\n\tlet X, Y;\n\n\tif (event.which === 1) {\n\t\tradius = Math.sqrt(\n\t\t\tMath.pow(0 - event.offsetX, 2) + Math.pow(0 - event.offsetY, 2)\n\t\t);\n\t\tX = event.offsetX;\n\t\tY = event.offsetY;\n\t} else if (event.which === 0) {\n\t\ttouchPosOnLimberGridItem = calculateTouchPosOnItem(context, event);\n\t\tradius = Math.sqrt(\n\t\t\tMath.pow(0 - touchPosOnLimberGridItem.x, 2) +\n\t\t\t\tMath.pow(0 - touchPosOnLimberGridItem.y, 2)\n\t\t);\n\t\tX = touchPosOnLimberGridItem.x;\n\t\tY = touchPosOnLimberGridItem.y;\n\t} else {\n\t\treturn false;\n\t\t// throw \"Unidentified event\";\n\t}\n\n\tconst resizeUIBox = {\n\t\tx:\n\t\t\tevent.currentTarget.offsetWidth -\n\t\t\tpublicConstants.RESIZE_SQUARE_GUIDE_LENGTH,\n\t\ty:\n\t\t\tevent.currentTarget.offsetHeight -\n\t\t\tpublicConstants.RESIZE_SQUARE_GUIDE_LENGTH,\n\t\twidth:\n\t\t\tpublicConstants.RESIZE_SQUARE_GUIDE_LENGTH +\n\t\t\tpublicConstants.RESIZE_SQUARE_GUIDE_BORDER_WIDTH,\n\t\theight:\n\t\t\tpublicConstants.RESIZE_SQUARE_GUIDE_LENGTH +\n\t\t\tpublicConstants.RESIZE_SQUARE_GUIDE_BORDER_WIDTH,\n\t};\n\n\tif (\n\t\toptions.itemMouseDownMoveCheck &&\n\t\toptions.itemMouseDownMoveCheck(X, Y, { ...pd[itemIndex] }, itemIndex)\n\t) {\n\t\t// call developer defined function to check if mousedown for MOVE is in a valid place\n\t\treturn {\n\t\t\ttype: \"move\",\n\t\t\titemIndex: event.currentTarget.attributes[\"data-index\"].value,\n\t\t};\n\t}\n\n\tif (\n\t\tradius <= publicConstants.MOVE_GUIDE_RADIUS &&\n\t\t!options.itemMouseDownMoveCheck\n\t) {\n\t\treturn {\n\t\t\ttype: \"move\",\n\t\t\titemIndex: event.currentTarget.attributes[\"data-index\"].value,\n\t\t};\n\t}\n\n\tif (\n\t\toptions.itemMouseDownResizeCheck &&\n\t\toptions.itemMouseDownResizeCheck(X, Y, { ...pd[itemIndex] }, itemIndex)\n\t) {\n\t\t// call developer defined function to check if mousedown for RESIZE is in a valid place\n\t\treturn {\n\t\t\ttype: \"resize\",\n\t\t\titemIndex: event.currentTarget.attributes[\"data-index\"].value,\n\t\t};\n\t}\n\n\tif (\n\t\tX >= resizeUIBox.x &&\n\t\tX <= resizeUIBox.x + resizeUIBox.width &&\n\t\tY >= resizeUIBox.y &&\n\t\tY <= resizeUIBox.y + resizeUIBox.height &&\n\t\t!options.itemMouseDownResizeCheck\n\t) {\n\t\treturn {\n\t\t\ttype: \"resize\",\n\t\t\titemIndex: event.currentTarget.attributes[\"data-index\"].value,\n\t\t};\n\t}\n};\n\nexport const loadResizingState = (context, userActionData) => {\n\tconst e = getElements(context);\n\tconst pd = getPositionData(context);\n\n\tconst item = pd[userActionData.itemIndex];\n\n\te.$limberGridViewHeightAdjustGuide.style.height = 0 + \"px\";\n\te.$limberGridViewHeightAdjustGuide.classList.add(\n\t\t\"limber-grid-view-height-adjust-guide-active\"\n\t);\n\n\te.$limberGridViewPseudoItem.style.width = `${item.width}px`;\n\te.$limberGridViewPseudoItem.style.height = `${item.height}px`;\n\te.$limberGridViewPseudoItem.setAttribute(\"data-after\", `w: 0px, h: 0px`);\n\te.$limberGridViewPseudoItem.style.transform = `translate(${userActionData.itemX}px,${userActionData.itemY}px)`;\n\te.$limberGridViewPseudoItem.classList.add(\n\t\t\"limber-grid-view-pseudo-item-active\"\n\t);\n\te.$limberGridViewPseudoItem.classList.remove(\n\t\t\"limber-grid-view-pseudo-item-resize-allow\",\n\t\t\"limber-grid-view-pseudo-item-resize-disallow\"\n\t);\n\n\te.$body.classList.add(\"limber-grid-view-body-tag-state-editing\");\n\n\tconst itemsLen = e.$limberGridViewItems.length;\n\tfor (let i = 0; i < itemsLen; i++) {\n\t\te.$limberGridViewItems[i].classList.add(\n\t\t\t\"limber-grid-view-item-resizing-state\"\n\t\t);\n\t}\n\n\te.$limberGridViewPseudoItem.classList.add(\n\t\t\"limber-grid-view-pseudo-item-resizing-state\"\n\t);\n};\n\nexport const unloadResizingState = (context, userActionData) => {\n\tconst e = getElements(context);\n\tconst pd = getPositionData(context);\n\n\tconst item = pd[userActionData.itemIndex];\n\n\te.$limberGridViewHeightAdjustGuide.classList.remove(\n\t\t\"limber-grid-view-height-adjust-guide-active\"\n\t);\n\n\te.$limberGridViewPseudoItem.classList.remove(\n\t\t\"limber-grid-view-pseudo-item-active\"\n\t);\n\te.$limberGridViewPseudoItem.style.transform = `translate(0px, 0px)`;\n\n\te.$body.classList.remove(\"limber-grid-view-body-tag-state-editing\");\n\n\tconst itemsLen = e.$limberGridViewItems.length;\n\tfor (let i = 0; i < itemsLen; i++) {\n\t\te.$limberGridViewItems[i].classList.remove(\n\t\t\t\"limber-grid-view-item-resizing-state\"\n\t\t);\n\t}\n\n\te.$limberGridViewPseudoItem.classList.remove(\n\t\t\"limber-grid-view-pseudo-item-resizing-state\"\n\t);\n};\n\nexport const loadMoveState = (context, userActionData, event) => {\n\tconst e = getElements(context);\n\tconst pd = getPositionData(context);\n\n\tconst item = pd[userActionData.itemIndex];\n\n\te.$limberGridViewHeightAdjustGuide.style.height = 0 + \"px\";\n\te.$limberGridViewHeightAdjustGuide.classList.add(\n\t\t\"limber-grid-view-height-adjust-guide-active\"\n\t);\n\n\te.$limberGridViewItems[userActionData.itemIndex].classList.add(\n\t\t\"limber-grid-view-item-demo\"\n\t);\n\n\te.$pseudoContainerItem.classList.add(\n\t\t\"limber-Grid-View-pseudo-container-item-active\"\n\t);\n\n\te.$pseudoContainerItem.style.width = item.width + \"px\";\n\te.$pseudoContainerItem.style.height = item.height + \"px\";\n\n\tif (event.which === 1) {\n\t\te.$pseudoContainerItem.style.transform = `translate(${event.pageX}px, ${event.pageY}px)`;\n\t} else if (event.which === 0) {\n\t\te.$pseudoContainerItem.style.transform = `translate(${event.touches[0].pageX}px, ${event.touches[0].pageY}px)`;\n\t}\n\n\te.$body.classList.add(\"limber-grid-view-body-tag-state-editing\");\n};\n\nexport const unloadMoveState = (context, userActionData) => {\n\tconst e = getElements(context);\n\tconst pd = getPositionData(context);\n\n\tconst item = pd[userActionData.itemIndex];\n\n\te.$limberGridViewHeightAdjustGuide.classList.remove(\n\t\t\"limber-grid-view-height-adjust-guide-active\"\n\t);\n\n\te.$limberGridViewItems[userActionData.itemIndex].classList.remove(\n\t\t\"limber-grid-view-item-demo\"\n\t);\n\n\te.$pseudoContainerItem.classList.remove(\n\t\t\"limber-grid-view-pseudo-container-item-active\"\n\t);\n\n\te.$pseudoContainerItem.style.width = \"0px\";\n\te.$pseudoContainerItem.style.height = \"0px\";\n\n\te.$pseudoContainerItem.style.transform = `translate(0px, 0px)`;\n\n\te.$body.classList.remove(\"limber-grid-view-body-tag-state-editing\");\n};\n\nexport const loadOnMoveState = (context, userActionData, event, type) => {\n\tconst e = getElements(context);\n\tconst pd = getPositionData(context);\n\n\tconst item = pd[userActionData.itemIndex];\n\n\tif (type === \"move\") {\n\t\te.$limberGridViewMoveGuide.classList.remove(\n\t\t\t\"limber-grid-view-move-guide-active\"\n\t\t);\n\n\t\te.$pseudoContainerItem.classList.remove(\n\t\t\t\"limber-grid-view-pseudo-container-item-move-allow\",\n\t\t\t\"limber-grid-view-pseudo-container-item-move-disallow\"\n\t\t);\n\n\t\tif (event.which === 1) {\n\t\t\te.$pseudoContainerItem.style.transform = `translate(${event.pageX}px, ${event.pageY}px)`;\n\t\t} else if (event.which === 0) {\n\t\t\te.$pseudoContainerItem.style.transform = `translate(${event.touches[0].pageX}px, ${event.touches[0].pageY}px)`;\n\t\t}\n\t} else if (type === \"resize\") {\n\t\te.$limberGridViewPseudoItem.classList.remove(\n\t\t\t\"limber-grid-view-pseudo-item-resize-allow\",\n\t\t\t\"limber-grid-view-pseudo-item-resize-disallow\"\n\t\t);\n\t}\n};\n\nexport const unloadOnMoveState = (context) => {\n\tconst e = getElements(context);\n\n\te.$limberGridViewMoveGuide.classList.remove(\n\t\t\"limber-grid-view-move-guide-active\"\n\t);\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nexport const isPointInsideRect = (rect, point) => {\n\tconst rectCo = getCoordinates(rect);\n\ttry {\n\t\tif (\n\t\t\tpoint.x > rectCo.tl.x &&\n\t\t\tpoint.x < rectCo.tr.x &&\n\t\t\tpoint.y > rectCo.tl.y &&\n\t\t\tpoint.y < rectCo.bl.y\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t} catch (e) {\n\t\treturn null;\n\t}\n};\n\nexport const doesPointTouchRect = (rect, point) => {\n\tconst rectCo = getCoordinates(rect);\n\ttry {\n\t\tif (\n\t\t\tpoint.x >= rectCo.tl.x &&\n\t\t\tpoint.x <= rectCo.tr.x &&\n\t\t\tpoint.y >= rectCo.tl.y &&\n\t\t\tpoint.y <= rectCo.bl.y &&\n\t\t\t!isPointInsideRect(rect, point)\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t} catch (e) {\n\t\treturn null;\n\t}\n};\n\nexport const doRectsOverlap = (rectA, rectB) => {\n\ttry {\n\t\tif (\n\t\t\tisNaN(rectA.x) ||\n\t\t\tisNaN(rectA.y) ||\n\t\t\tisNaN(rectA.width) ||\n\t\t\tisNaN(rectA.height) ||\n\t\t\tisNaN(rectB.x) ||\n\t\t\tisNaN(rectB.y) ||\n\t\t\tisNaN(rectB.width) ||\n\t\t\tisNaN(rectB.height)\n\t\t) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst tlA = { x: rectA.x, y: rectA.y };\n\t\tconst brA = { x: rectA.x + rectA.width, y: rectA.y + rectA.height };\n\t\tconst tlB = { x: rectB.x, y: rectB.y };\n\t\tconst brB = { x: rectB.x + rectB.width, y: rectB.y + rectB.height };\n\n\t\tif (tlA.x >= brB.x || tlB.x >= brA.x) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (tlA.y >= brB.y || tlB.y >= brA.y) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (e) {\n\t\treturn null;\n\t}\n};\n\nexport const doRectsOnlyTouch = (rectA, rectB) => {\n\ttry {\n\t\tif (\n\t\t\tisNaN(rectA.x) ||\n\t\t\tisNaN(rectA.y) ||\n\t\t\tisNaN(rectA.width) ||\n\t\t\tisNaN(rectA.height) ||\n\t\t\tisNaN(rectB.x) ||\n\t\t\tisNaN(rectB.y) ||\n\t\t\tisNaN(rectB.width) ||\n\t\t\tisNaN(rectB.height)\n\t\t) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst tlA = { x: rectA.x, y: rectA.y };\n\t\tconst brA = { x: rectA.x + rectA.width, y: rectA.y + rectA.height };\n\t\tconst tlB = { x: rectB.x, y: rectB.y };\n\t\tconst brB = { x: rectB.x + rectB.width, y: rectB.y + rectB.height };\n\n\t\tif (tlA.x > brB.x || tlB.x > brA.x) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (tlA.y > brB.y || tlB.y > brA.y) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (doRectsOverlap(rectA, rectB) === false) return true;\n\n\t\treturn false;\n\t} catch (e) {\n\t\treturn null;\n\t}\n};\n\nexport const subtractRect = (rectA, rectB, oCoForm) => {\n\t// gives the non overlapping free spaces in rectA\n\tif (!doRectsOverlap(rectA, rectB)) {\n\t\treturn null;\n\t}\n\n\tconst rectACo = getCoordinates(rectA);\n\tconst rectBCo = getCoordinates(rectB);\n\n\t/*\n\t\t____|_______________|___\n\t\t|\t|\t\t\t\t|\t|\n\t____|___|_______________|___|____\n\t\t|\t|\t\t\t\t|\t|\n\t\t|\t|\t\t\t\t|\t|\n\t\t|\t|\t\t\t\t|\t|\n\t\t|\t|\t\t\t\t|\t|\n\t____|___|_______________|___|___\n\t\t|\t|\t\t\t\t|\t|\n\t\t|___|_______________|___|\n\t\t\t|\t\t\t\t|\n\t\t\n\t*/\n\tconst subRects = {\n\t\tsubRectT: {\n\t\t\ttl: rectACo.tl,\n\t\t\ttr: rectACo.tr,\n\t\t\tbr: { x: rectACo.tr.x, y: rectBCo.tr.y },\n\t\t\tbl: { x: rectACo.tl.x, y: rectBCo.tl.y },\n\t\t},\n\t\tsubRectR: {\n\t\t\ttl: { x: rectBCo.tr.x, y: rectACo.tr.y },\n\t\t\ttr: rectACo.tr,\n\t\t\tbr: rectACo.br,\n\t\t\tbl: { x: rectBCo.br.x, y: rectACo.br.y },\n\t\t},\n\t\tsubRectB: {\n\t\t\ttl: { x: rectACo.bl.x, y: rectBCo.bl.y },\n\t\t\ttr: { x: rectACo.br.x, y: rectBCo.br.y },\n\t\t\tbr: rectACo.br,\n\t\t\tbl: rectACo.bl,\n\t\t},\n\t\tsubRectL: {\n\t\t\ttl: rectACo.tl,\n\t\t\ttr: { x: rectBCo.tl.x, y: rectACo.tl.y },\n\t\t\tbr: { x: rectBCo.bl.x, y: rectACo.bl.y },\n\t\t\tbl: rectACo.bl,\n\t\t},\n\t};\n\n\tconst keys = Object.keys(subRects);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tif (!isValidRectCoForm(subRects[keys[i]])) {\n\t\t\tdelete subRects[keys[i]];\n\t\t}\n\t}\n\n\tlet tl, tm, tr, rm, br, bm, bl, lm;\n\tlet tlNtm, tmNtr, trNrm, rmNbr, brNbm, bmNbl, blNlm, lmNtl;\n\tif (subRects.subRectT && subRects.subRectR) {\n\t\ttlNtm = {\n\t\t\ttl: subRects.subRectT.tl,\n\t\t\ttr: subRects.subRectR.tl,\n\t\t\tbr: { x: subRects.subRectR.tl.x, y: subRects.subRectT.bl.y },\n\t\t\tbl: subRects.subRectT.bl,\n\t\t};\n\t\ttr = {\n\t\t\ttl: subRects.subRectR.tl,\n\t\t\ttr: subRects.subRectR.tr,\n\t\t\tbr: subRects.subRectT.br,\n\t\t\tbl: { x: subRects.subRectR.tl.x, y: subRects.subRectT.bl.y },\n\t\t};\n\t\trmNbr = {\n\t\t\ttl: { x: subRects.subRectR.tl.x, y: subRects.subRectT.bl.y },\n\t\t\ttr: subRects.subRectT.br,\n\t\t\tbr: subRects.subRectR.br,\n\t\t\tbl: subRects.subRectR.bl,\n\t\t};\n\t}\n\n\tif (subRects.subRectR && subRects.subRectB) {\n\t\ttrNrm = {\n\t\t\ttl: subRects.subRectR.tl,\n\t\t\ttr: subRects.subRectR.tr,\n\t\t\tbr: subRects.subRectB.tr,\n\t\t\tbl: { x: subRects.subRectR.bl.x, y: subRects.subRectB.tl.y },\n\t\t};\n\t\tbr = {\n\t\t\ttl: { x: subRects.subRectR.bl.x, y: subRects.subRectB.tl.y },\n\t\t\ttr: subRects.subRectB.tr,\n\t\t\tbr: subRects.subRectB.br,\n\t\t\tbl: subRects.subRectR.bl,\n\t\t};\n\t\tbmNbl = {\n\t\t\ttl: subRects.subRectB.tl,\n\t\t\ttr: { x: subRects.subRectR.bl.x, y: subRects.subRectB.tl.y },\n\t\t\tbr: subRects.subRectR.bl,\n\t\t\tbl: subRects.subRectB.bl,\n\t\t};\n\t}\n\n\tif (subRects.subRectB && subRects.subRectL) {\n\t\tlmNtl = {\n\t\t\ttl: subRects.subRectL.tl,\n\t\t\ttr: subRects.subRectL.tr,\n\t\t\tbr: { x: subRects.subRectL.tr.x, y: subRects.subRectB.tr.y },\n\t\t\tbl: subRects.subRectB.tl,\n\t\t};\n\t\tbl = {\n\t\t\ttl: subRects.subRectB.tl,\n\t\t\ttr: { x: subRects.subRectL.tr.x, y: subRects.subRectB.tr.y },\n\t\t\tbr: subRects.subRectL.br,\n\t\t\tbl: subRects.subRectB.bl,\n\t\t};\n\t\tbrNbm = {\n\t\t\ttl: { x: subRects.subRectL.tr.x, y: subRects.subRectB.tr.y },\n\t\t\ttr: subRects.subRectB.tr,\n\t\t\tbr: subRects.subRectB.br,\n\t\t\tbl: subRects.subRectL.br,\n\t\t};\n\t}\n\n\tif (subRects.subRectL && subRects.subRectT) {\n\t\tblNlm = {\n\t\t\ttl: subRects.subRectT.bl,\n\t\t\ttr: { x: subRects.subRectL.tr.x, y: subRects.subRectT.bl.y },\n\t\t\tbr: subRects.subRectL.br,\n\t\t\tbl: subRects.subRectL.bl,\n\t\t};\n\t\ttl = {\n\t\t\ttl: subRects.subRectT.tl,\n\t\t\ttr: subRects.subRectL.tr,\n\t\t\tbr: { x: subRects.subRectL.tr.x, y: subRects.subRectT.bl.y },\n\t\t\tbl: subRects.subRectT.bl,\n\t\t};\n\t\ttmNtr = {\n\t\t\ttl: subRects.subRectL.tr,\n\t\t\ttr: subRects.subRectT.tr,\n\t\t\tbr: subRects.subRectT.br,\n\t\t\tbl: { x: subRects.subRectL.tr.x, y: subRects.subRectT.bl.y },\n\t\t};\n\t}\n\n\ttm =\n\t\thorizontalSubtract(tlNtm, tl) ||\n\t\thorizontalSubtract(tmNtr, tr) ||\n\t\ttlNtm ||\n\t\ttmNtr;\n\trm =\n\t\tverticalSubtract(trNrm, tr) ||\n\t\tverticalSubtract(rmNbr, br) ||\n\t\ttrNrm ||\n\t\trmNbr;\n\tbm =\n\t\thorizontalSubtract(brNbm, br) ||\n\t\thorizontalSubtract(bmNbl, bl) ||\n\t\tbrNbm ||\n\t\tbmNbl;\n\tlm =\n\t\tverticalSubtract(blNlm, bl) ||\n\t\tverticalSubtract(lmNtl, tl) ||\n\t\tblNlm ||\n\t\tlmNtl;\n\n\tlet rects;\n\tif (oCoForm) {\n\t\trects = [tl, tm, tr, rm, br, bm, bl, lm];\n\t} else {\n\t\trects = [\n\t\t\tgetRectObjectFromCo(tl),\n\t\t\tgetRectObjectFromCo(tm),\n\t\t\tgetRectObjectFromCo(tr),\n\t\t\tgetRectObjectFromCo(rm),\n\t\t\tgetRectObjectFromCo(br),\n\t\t\tgetRectObjectFromCo(bm),\n\t\t\tgetRectObjectFromCo(bl),\n\t\t\tgetRectObjectFromCo(lm),\n\t\t];\n\t}\n\n\trects = rects.filter((o) => o);\n\n\tif (rects.length === 0) {\n\t\trects = Object.keys(subRects).map((o) => {\n\t\t\tif (oCoForm) {\n\t\t\t\treturn subRects[o];\n\t\t\t} else {\n\t\t\t\treturn getRectObjectFromCo(subRects[o]);\n\t\t\t}\n\t\t});\n\t}\n\n\treturn rects;\n};\n\nconst horizontalSubtract = (rectA, rectB) => {\n\t// rectA and rectB needs to be in Coordinate form\n\tif (!rectA && !rectB) return null;\n\tif (!doRectsOverlap(getRectObjectFromCo(rectA), getRectObjectFromCo(rectB)))\n\t\treturn null;\n\n\t/*\n\t\tCase I\n\t\t____________________\n\t\t| ____ \t\t\t\t|\n\t\t||____|\t\t\t\t|\n\t\t|___________________|\n\t\n\t\tCase II\n\t\t____________________\n\t\t| \t \t\t  _____\t|\n\t\t|\t\t\t  |____||\n\t\t|___________________|\n\t*/\n\n\tlet result = null;\n\tif (\n\t\trectA.tl.x === rectB.tl.x ||\n\t\tMath.abs(rectA.tl.x - rectB.tl.x) < Math.abs(rectA.tr.x - rectB.tr.x)\n\t) {\n\t\t// Case I\n\t\tresult = { tl: rectB.tr, tr: rectA.tr, br: rectA.br, bl: rectB.br };\n\t} else if (\n\t\trectA.tr === rectB.tr ||\n\t\tMath.abs(rectB.tl.x - rectA.tl.x) > Math.abs(rectB.tr.x - rectA.tr.x)\n\t) {\n\t\t// Case II\n\t\tresult = { tl: rectA.tl, tr: rectB.tl, br: rectB.bl, bl: rectA.bl };\n\t}\n\n\treturn result;\n};\n\nconst verticalSubtract = (rectA, rectB) => {\n\t// rectA and rectB needs to be in Coordinate form\n\tif (!rectA && !rectB) return null;\n\tif (!doRectsOverlap(getRectObjectFromCo(rectA), getRectObjectFromCo(rectB)))\n\t\treturn null;\n\n\t/*\n\t\tCase I \t\t\t\tCase II\n\t\t_______ \t\t\t________\n\t\t| ____ | \t\t\t|\t\t|\n\t\t| |   || \t\t\t|\t\t|\n\t\t| |___|| \t\t\t|\t\t|\n\t\t|  \t   | \t\t\t|  ____ |\n\t\t|      | \t\t\t|  |   ||\t\n\t\t|      | \t\t\t|  |___||\t\n\t\t|______| \t\t\t|_______|\n\t*/\n\n\tlet result = null;\n\tif (\n\t\trectA.tl.y === rectB.tl.y ||\n\t\tMath.abs(rectA.tl.y - rectB.tl.y) < Math.abs(rectA.bl.y - rectB.bl.y)\n\t) {\n\t\t// Case I\n\t\tresult = { tl: rectB.bl, tr: rectB.br, br: rectA.br, bl: rectA.bl };\n\t} else if (\n\t\trectA.bl.y === rectB.bl.y ||\n\t\tMath.abs(rectB.tl.y - rectA.tl.y) > Math.abs(rectB.bl.y - rectA.bl.y)\n\t) {\n\t\t// Case II\n\t\tresult = { tl: rectA.tl, tr: rectA.tr, br: rectB.tr, bl: rectB.tl };\n\t}\n\n\treturn result;\n};\n\nexport const isValidRectCoForm = function (rect) {\n\ttry {\n\t\tlet top, right, bottom, left;\n\t\ttop = rect.tr.x - rect.tl.x;\n\t\tright = rect.br.y - rect.tr.y;\n\t\tbottom = rect.br.x - rect.bl.x;\n\t\tleft = rect.bl.y - rect.tl.y;\n\n\t\tif (top <= 0 || right <= 0 || bottom <= 0 || left <= 0) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t} catch (e) {\n\t\treturn null;\n\t}\n};\n\nexport const getCoordinates = function (rect) {\n\tconst tl = { x: rect.x, y: rect.y };\n\tconst tr = { x: rect.x + rect.width, y: rect.y };\n\tconst br = { x: rect.x + rect.width, y: rect.y + rect.height };\n\tconst bl = { x: rect.x, y: rect.y + rect.height };\n\n\treturn { tl, tr, br, bl };\n};\n\nexport const getRectObjectFromCo = function (rect) {\n\tif (!isValidRectCoForm(rect)) return null;\n\treturn {\n\t\tx: rect.tl.x,\n\t\ty: rect.tl.y,\n\t\twidth: rect.tr.x - rect.tl.x,\n\t\theight: rect.bl.y - rect.tl.y,\n\t};\n};\n\nexport const areRectsAdjacent = (rectA, rectB) => {\n\tconst rectACo = getCoordinates(rectA);\n\tconst rectBCo = getCoordinates(rectB);\n\n\t// if (!doRectsOnlyTouch(rectA, rectB)) {\n\t// \treturn false;\n\t// }\n\n\tif (\n\t\t!(\n\t\t\tMath.abs(rectACo.tl.x - rectBCo.tr.x) < 1 ||\n\t\t\tMath.abs(rectBCo.tl.x - rectACo.tr.x) < 1 ||\n\t\t\tMath.abs(rectACo.tl.y - rectBCo.bl.y) < 1 ||\n\t\t\tMath.abs(rectBCo.tl.y - rectACo.bl.y) < 1\n\t\t)\n\t) {\n\t\treturn false;\n\t}\n\n\t// below filters point of intersection touch\n\tif (\n\t\t(rectACo.tl.y >= rectBCo.tl.y && rectACo.tl.y < rectBCo.bl.y) ||\n\t\t(rectBCo.tl.y >= rectACo.tl.y && rectBCo.tl.y < rectACo.bl.y) ||\n\t\t(rectACo.tl.x >= rectBCo.tl.x && rectACo.tl.x < rectBCo.tr.x) ||\n\t\t(rectBCo.tl.x >= rectACo.tl.x && rectBCo.tl.x < rectACo.tr.x) ||\n\t\t//\n\t\t(rectACo.bl.y <= rectBCo.bl.y && rectACo.bl.y > rectBCo.tl.y) ||\n\t\t(rectBCo.bl.y <= rectACo.bl.y && rectBCo.bl.y > rectACo.tl.y) ||\n\t\t(rectACo.tr.x <= rectBCo.tr.x && rectACo.tr.x > rectBCo.tl.x) ||\n\t\t(rectBCo.tr.x <= rectACo.tr.x && rectBCo.tr.x > rectACo.tl.x)\n\t) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\nexport const mergeRects = (rectA, rectB, oCoForm) => {\n\t// if (doRectsOverlap(rectA, rectB)) {\n\t// \treturn false;\n\t// }\n\tconst rectACo = getCoordinates(rectA);\n\tconst rectBCo = getCoordinates(rectB);\n\n\tlet result;\n\n\tconst merge = (rectACo, rectBCo) => {\n\t\tlet res;\n\t\t// check tl\n\t\tif (\n\t\t\trectACo.tl.x >= rectBCo.bl.x &&\n\t\t\trectACo.tl.x < rectBCo.br.x &&\n\t\t\trectACo.tl.y >= rectBCo.bl.y\n\t\t) {\n\t\t\tlet x = rectACo.tr.x < rectBCo.tr.x ? rectACo.tr.x : rectBCo.tr.x;\n\t\t\tres = {\n\t\t\t\ttl: { x: rectACo.tl.x, y: rectBCo.tl.y },\n\t\t\t\ttr: { x: x, y: rectBCo.tl.y },\n\t\t\t\tbr: { x: x, y: rectACo.bl.y },\n\t\t\t\tbl: { x: rectACo.bl.x, y: rectACo.bl.y },\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\trectACo.tl.y >= rectBCo.tr.y &&\n\t\t\trectACo.tl.y < rectBCo.br.y &&\n\t\t\trectACo.tl.x >= rectBCo.tr.x\n\t\t) {\n\t\t\tlet y = rectACo.br.y < rectBCo.br.y ? rectACo.br.y : rectBCo.br.y;\n\t\t\tres = {\n\t\t\t\ttl: { x: rectBCo.tl.x, y: rectACo.tl.y },\n\t\t\t\ttr: { x: rectACo.tr.x, y: rectACo.tr.y },\n\t\t\t\tbr: { x: rectACo.br.x, y: y },\n\t\t\t\tbl: { x: rectBCo.bl.x, y: y },\n\t\t\t};\n\t\t}\n\n\t\t// check tr\n\t\tif (\n\t\t\trectACo.tr.x <= rectBCo.br.x &&\n\t\t\trectACo.tr.x > rectBCo.bl.x &&\n\t\t\trectACo.tr.y >= rectBCo.bl.y\n\t\t) {\n\t\t\tlet x = rectACo.tl.x > rectBCo.tl.x ? rectACo.tl.x : rectBCo.tl.x;\n\t\t\tres = {\n\t\t\t\ttl: { x: x, y: rectBCo.tl.y },\n\t\t\t\ttr: { x: rectACo.tr.x, y: rectBCo.tr.y },\n\t\t\t\tbr: { x: rectACo.br.x, y: rectACo.br.y },\n\t\t\t\tbl: { x: x, y: rectACo.bl.y },\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\trectACo.tr.y >= rectBCo.tl.y &&\n\t\t\trectACo.tr.y < rectBCo.bl.y &&\n\t\t\trectACo.tr.x <= rectBCo.tl.x\n\t\t) {\n\t\t\tlet y = rectACo.bl.y < rectBCo.bl.y ? rectACo.bl.y : rectBCo.bl.y;\n\t\t\tres = {\n\t\t\t\ttl: { x: rectACo.tl.x, y: rectACo.tl.y },\n\t\t\t\ttr: { x: rectBCo.tr.x, y: rectACo.tl.y },\n\t\t\t\tbr: { x: rectBCo.br.x, y: y },\n\t\t\t\tbl: { x: rectACo.bl.x, y: y },\n\t\t\t};\n\t\t}\n\n\t\t// check br\n\t\tif (\n\t\t\trectACo.br.x <= rectBCo.tr.x &&\n\t\t\trectACo.br.x > rectBCo.tl.x &&\n\t\t\trectACo.br.y <= rectBCo.tl.y\n\t\t) {\n\t\t\tlet x = rectACo.tl.x > rectBCo.tl.x ? rectACo.tl.x : rectBCo.tl.x;\n\t\t\tres = {\n\t\t\t\ttl: { x: x, y: rectACo.tl.y },\n\t\t\t\ttr: { x: rectACo.tr.x, y: rectACo.tr.y },\n\t\t\t\tbr: { x: rectACo.tr.x, y: rectBCo.br.y },\n\t\t\t\tbl: { x: x, y: rectBCo.bl.y },\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\trectACo.br.y <= rectBCo.bl.y &&\n\t\t\trectACo.br.y > rectBCo.tl.y &&\n\t\t\trectACo.br.x <= rectBCo.tl.x\n\t\t) {\n\t\t\tlet y = rectACo.tl.y > rectBCo.tl.y ? rectACo.tl.y : rectBCo.tl.y;\n\t\t\tres = {\n\t\t\t\ttl: { x: rectACo.tl.x, y: y },\n\t\t\t\ttr: { x: rectBCo.tr.x, y: y },\n\t\t\t\tbr: { x: rectBCo.br.x, y: rectACo.br.y },\n\t\t\t\tbl: { x: rectACo.bl.x, y: rectACo.bl.y },\n\t\t\t};\n\t\t}\n\n\t\t// check bl\n\t\tif (\n\t\t\trectACo.bl.x >= rectBCo.tl.x &&\n\t\t\trectACo.bl.x < rectBCo.tr.x &&\n\t\t\trectACo.bl.y <= rectBCo.tl.y\n\t\t) {\n\t\t\tlet x = rectACo.tr.x < rectBCo.tr.x ? rectACo.tr.x : rectBCo.tr.x;\n\t\t\tres = {\n\t\t\t\ttl: { x: rectACo.tl.x, y: rectACo.tl.y },\n\t\t\t\ttr: { x: x, y: rectACo.tr.y },\n\t\t\t\tbr: { x: x, y: rectBCo.br.y },\n\t\t\t\tbl: { x: rectACo.bl.x, y: rectBCo.bl.y },\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\trectACo.bl.y <= rectBCo.br.y &&\n\t\t\trectACo.bl.y > rectBCo.tr.y &&\n\t\t\trectACo.bl.x >= rectBCo.tr.x\n\t\t) {\n\t\t\tlet y = rectACo.tl.y > rectBCo.tl.y ? rectACo.tl.y : rectBCo.tl.y;\n\t\t\tres = {\n\t\t\t\ttl: { x: rectBCo.tl.x, y: y },\n\t\t\t\ttr: { x: rectACo.tr.x, y: y },\n\t\t\t\tbr: { x: rectACo.br.x, y: rectACo.br.y },\n\t\t\t\tbl: { x: rectBCo.bl.x, y: rectACo.bl.y },\n\t\t\t};\n\t\t}\n\n\t\treturn res;\n\t};\n\n\tconst mergeOverlapping = () => {\n\t\tconst diff = subtractRect(rectA, rectB, true);\n\n\t\tconst arr = new Array(diff?.length || 0);\n\t\tlet m;\n\t\tlet count = 0;\n\t\tconst len = arr.length;\n\n\t\t// for (const d of diff) {\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tm = merge(diff[i], rectBCo);\n\t\t\tif (m && !isRectInside(rectA, getRectObjectFromCo(m))) {\n\t\t\t\tarr[count++] = m;\n\t\t\t}\n\t\t}\n\n\t\tconst res = new Array(count);\n\t\tfor (let i = 0; i < count; i++) {\n\t\t\tres[i] = arr[i];\n\t\t}\n\n\t\treturn res.length ? res : null;\n\t};\n\n\tresult = merge(rectACo, rectBCo);\n\tif (!result) result = merge(rectBCo, rectACo);\n\tif (result) result = [result];\n\tif (!result && !isRectInside(rectA, rectB) && !isRectInside(rectB, rectA)) {\n\t\tresult = mergeOverlapping();\n\t}\n\n\tif (result) {\n\t\tif (oCoForm) {\n\t\t\treturn result;\n\t\t} else {\n\t\t\treturn result.map((o) => getRectObjectFromCo(o));\n\t\t}\n\t}\n\n\treturn false;\n};\n\nexport const isRectInside = (rectA, rectB) => {\n\t// is rectB inside rectA\n\tconst rectACo = getCoordinates(rectA);\n\tconst rectBCo = getCoordinates(rectB);\n\n\tif (\n\t\trectACo.tl.x <= rectBCo.tl.x &&\n\t\trectACo.tr.x >= rectBCo.tr.x &&\n\t\trectACo.tl.y <= rectBCo.tl.y &&\n\t\trectACo.bl.y >= rectBCo.bl.y\n\t) {\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n\nexport const areRectsOnSameYAxisExPath = (rectA, rectB) => {\n\t// ExPath: Exclusive Path (in Exclusive and Inclusive)\n\tif (!(rectA?.tl?.x && rectA?.tr?.x && rectB?.tl?.x && rectA?.tr?.x)) {\n\t\treturn null;\n\t}\n\n\tif (rectA.tl.x >= rectB.tr.x || rectB.tl.x >= rectA.tr.x) {\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nexport const areRectsIdentical = (rectA, rectB) => {\n\tif (\n\t\trectA.tl.x === rectB.tl.x &&\n\t\trectA.tl.y === rectB.tl.y &&\n\t\trectA.tr.x === rectB.tr.x &&\n\t\trectA.tr.y === rectB.tr.y &&\n\t\trectA.br.x === rectB.br.x &&\n\t\trectA.br.y === rectB.br.y &&\n\t\trectA.bl.x === rectB.bl.x &&\n\t\trectA.bl.y === rectB.bl.y\n\t) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport getElements from \"../../store/variables/elements\";\nimport { getPositionData } from \"../../store/variables/essentials\";\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport getPublicConstants from \"../../store/constants/publicConstants\";\n\nexport const loadInitState = (context) => {\n\tconst e = getElements(context);\n\tconst publicConstants = getPublicConstants(context);\n\n\te.$body.classList.add(\n\t\t\"limber-grid-view-body-tag-state-editing\",\n\t\t\"limber-grid-view-body-tag-state-editing-adding-cutting\"\n\t);\n\n\tconst len = e.$limberGridViewItems.length;\n\tfor (let i = 0; i < len; i++) {\n\t\te.$limberGridViewItems[i].classList.add(\n\t\t\t\"limber-grid-view-item-resizing-state\"\n\t\t);\n\t}\n\n\tfor (let i = 0; i < len; i++) {\n\t\te.$limberGridViewPseudoItem.classList.add(\n\t\t\t\"limber-grid-view-pseudo-item-resizing-state\"\n\t\t);\n\t}\n\n\t// e.$limberGridViewAddItemGuide[0].style.height = 1 + \"px\";\n\t// e.$limberGridViewAddItemGuide[0].style.width = 1 + \"px\";\n\t// e.$limberGridViewAddItemGuide[0].style.transform =\n\t// \t\"translate(\" + x + \"px, \" + y + \"px)\";\n\n\tif (publicConstants.DESK_INTERACTION_MODE === \"ADD\") {\n\t\te.$limberGridViewAddCutGuide.classList.add(\n\t\t\t\"limber-grid-view-add-cut-guide-active\"\n\t\t);\n\t} else if (publicConstants.DESK_INTERACTION_MODE === \"CUTSPACE\") {\n\t\te.$limberGridViewAddCutGuide.classList.add(\n\t\t\t\"limber-grid-view-add-cut-guide-active\",\n\t\t\t\"limber-grid-view-add-cut-guide-cut-mode\"\n\t\t);\n\t}\n\n\te.$limberGridViewHeightAdjustGuide.style.height = 0 + \"px\";\n\te.$limberGridViewHeightAdjustGuide.classList.add(\n\t\t\"limber-grid-view-height-adjust-guide-active\"\n\t);\n};\n\nexport const unloadInitState = (context) => {\n\tconst e = getElements(context);\n\n\te.$body.classList.remove(\n\t\t\"limber-grid-view-body-tag-state-editing\",\n\t\t\"limber-grid-view-body-tag-state-editing-adding-cutting\"\n\t);\n\n\tconst len = e.$limberGridViewItems.length;\n\tfor (var i = 0; i < len; i++) {\n\t\te.$limberGridViewItems[i].classList.remove(\n\t\t\t\"limber-grid-view-item-resizing-state\"\n\t\t);\n\t\te.$limberGridViewPseudoItem.classList.remove(\n\t\t\t\"limber-grid-view-pseudo-item-resizing-state\"\n\t\t);\n\t}\n\n\te.$limberGridViewAddCutGuide.classList.remove(\n\t\t\"limber-grid-view-add-cut-guide-active\",\n\t\t\"limber-grid-view-add-cut-guide-cut-mode\",\n\t\t\"limber-grid-view-add-cut-guide-add-allow\",\n\t\t\"limber-grid-view-add-cut-guide-add-disallow\"\n\t);\n\n\te.$limberGridViewHeightAdjustGuide.style.height = 0 + \"px\";\n\te.$limberGridViewHeightAdjustGuide.classList.remove(\n\t\t\"limber-grid-view-height-adjust-guide-active\"\n\t);\n\n\te.$limberGridViewTouchHoldGuide.classList.remove(\n\t\t\"limber-grid-view-touch-hold-guide-active\"\n\t);\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport getElements from \"../../store/variables/elements\";\nimport {\n\tgetPositionData,\n\tgetModifiedPositionData,\n} from \"../../store/variables/essentials\";\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport getPublicConstants from \"../../store/constants/publicConstants\";\nimport {\n\tdoRectsOverlap,\n\tisRectInside,\n\tgetRectObjectFromCo,\n\tdoRectsOnlyTouch,\n\tisPointInsideRect,\n\tdoesPointTouchRect,\n} from \"../rect/rectUtils\";\nimport { filter } from \"../utils/utils\";\n\nexport const isFlippingPosPossible = (context) => {\n\tconst pd = getPositionData(context);\n\n\tif (affectedItems.length === 2) {\n\t\tconst diff = Math.abs(pd[affectedItems[0]].y - pd[affectedItems[1]].y);\n\t\tif (diff > privateConstants.HEIGHT) {\n\t\t\t// to check if both lie on th visible screen or viewport\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n};\n\nexport const getMinMaxXY = (\n\tcontext,\n\taffectedItems,\n\tresizedRightX,\n\tresizedBottomY,\n\ttoY,\n\tmovedBottomY\n) => {\n\tconst pd = getPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tlet minY = Number.MAX_SAFE_INTEGER;\n\tlet maxY = 0;\n\tlet minX = Number.MAX_SAFE_INTEGER;\n\tlet maxX = 0;\n\tconst len = affectedItems.length;\n\tfor (let i = 0; i < len; i++) {\n\t\tif (pd[affectedItems[i]].y < minY) {\n\t\t\tminY = pd[affectedItems[i]].y;\n\t\t}\n\t\tif (pd[affectedItems[i]].y + pd[affectedItems[i]].height > maxY) {\n\t\t\tmaxY = pd[affectedItems[i]].y + pd[affectedItems[i]].height;\n\t\t}\n\n\t\tif (pd[affectedItems[i]].x < minX) {\n\t\t\tminX = pd[affectedItems[i]].x;\n\t\t}\n\n\t\tif (pd[affectedItems[i]].x + pd[affectedItems[i]].width > maxX) {\n\t\t\tmaxX = pd[affectedItems[i]].x + pd[affectedItems[i]].width;\n\t\t}\n\t}\n\n\tif (resizedBottomY > maxY) maxY = resizedBottomY;\n\n\tif (resizedRightX > maxX) maxX = resizedRightX;\n\n\tif (toY < minY) minY = toY;\n\n\tif (movedBottomY > maxY) maxY = movedBottomY;\n\n\treturn {\n\t\tminX: minX - privateConstants.MARGIN,\n\t\tmaxX: maxX + privateConstants.MARGIN,\n\t\tminY: minY - privateConstants.MARGIN,\n\t\tmaxY: maxY + privateConstants.MARGIN,\n\t};\n};\n\nexport const filterToArrange = (context, toArrangeItems, arranged) => {\n\tconst len = toArrangeItems.length;\n\tconst result = new Array(len);\n\tfor (let i = 0; i < len; i++) {\n\t\tif (!arranged[toArrangeItems[i]]) {\n\t\t\tresult[i] = toArrangeItems[i];\n\t\t}\n\t}\n\treturn filter(result);\n};\n\nexport const getBottomMax = (context, minX, maxX) => {\n\tconst pd = getPositionData(context);\n\tconst mpd = getModifiedPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tlet max = 0;\n\tlet item, mItem;\n\tconst len = pd.length;\n\n\tfor (let i = 0; i < len; i++) {\n\t\titem = getItemDimenWithMargin(privateConstants.MARGIN, pd[i]);\n\t\tmItem = getItemDimenWithMargin(privateConstants.MARGIN, mpd[i]);\n\t\tif (\n\t\t\tpd[i].y + pd[i].height > max &&\n\t\t\titem.x < maxX &&\n\t\t\titem.x + item.width > minX\n\t\t) {\n\t\t\tmax = pd[i].y + pd[i].height;\n\t\t}\n\n\t\tif (\n\t\t\tmpd[i].y + mpd[i].height > max &&\n\t\t\tmItem.x < maxX &&\n\t\t\tmItem.x + mItem.width > minX\n\t\t) {\n\t\t\tmax = mpd[i].y + mpd[i].height;\n\t\t}\n\t}\n\n\treturn max;\n};\n\nexport const getTopBottomWS = (context, workSpaceRectCo, minX, maxX) => {\n\tlet topWorkSpaceCo, bottomWorkSpaceCo;\n\tif (workSpaceRectCo.tl.y > 0) {\n\t\ttopWorkSpaceCo = {\n\t\t\ttl: { x: minX, y: 0 },\n\t\t\ttr: { x: maxX, y: 0 },\n\t\t\tbr: { x: maxX, y: workSpaceRectCo.tr.y },\n\t\t\tbl: { x: minX, y: workSpaceRectCo.tl.y },\n\t\t};\n\t}\n\n\tconst bottomMax = getBottomMax(context, minX, maxX);\n\n\tif (bottomMax > workSpaceRectCo.bl.y) {\n\t\tbottomWorkSpaceCo = {\n\t\t\ttl: { x: minX, y: workSpaceRectCo.bl.y },\n\t\t\ttr: { x: maxX, y: workSpaceRectCo.bl.y },\n\t\t\tbr: { x: maxX, y: bottomMax },\n\t\t\tbl: { x: minX, y: bottomMax },\n\t\t};\n\t}\n\n\treturn { topWorkSpaceCo, bottomWorkSpaceCo };\n};\n\nexport const getItemsInWorkSpace = (\n\tcontext,\n\tworkSpaceRect,\n\tgetIndices = false\n) => {\n\tconst mpd = getModifiedPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tconst len = mpd.length;\n\tconst itemsInWorkSpace = new Array(len);\n\tlet count = 0;\n\tfor (let i = 0; i < len; i++) {\n\t\tif (\n\t\t\tdoRectsOverlap(\n\t\t\t\tworkSpaceRect,\n\t\t\t\tgetItemDimenWithMargin(privateConstants.MARGIN, mpd[i])\n\t\t\t)\n\t\t) {\n\t\t\tif (!getIndices) {\n\t\t\t\titemsInWorkSpace[count++] = mpd[i];\n\t\t\t} else {\n\t\t\t\titemsInWorkSpace[count++] = i;\n\t\t\t}\n\t\t}\n\t}\n\n\tconst res = new Array(count);\n\tfor (let i = 0; i < count; i++) {\n\t\tres[i] = itemsInWorkSpace[i];\n\t}\n\n\treturn res;\n};\n\nexport const getItemsBelowBottomWorkSpace = (\n\tcontext,\n\tworkSpaceRect,\n\tgetIndices = false\n) => {\n\tconst mpd = getModifiedPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tif (!workSpaceRect) {\n\t\treturn [];\n\t}\n\n\tconst len = mpd.length;\n\tconst items = new Array(len);\n\tlet count = 0;\n\n\tfor (let i = 0; i < len; i++) {\n\t\tif (\n\t\t\tworkSpaceRect.bl.y <=\n\t\t\tgetItemDimenWithMargin(privateConstants.MARGIN, mpd[i]).y\n\t\t) {\n\t\t\tif (!getIndices) {\n\t\t\t\titems[count++] = mpd[i];\n\t\t\t} else {\n\t\t\t\titems[count++] = i;\n\t\t\t}\n\t\t}\n\t}\n\n\tconst res = new Array(count);\n\tfor (let i = 0; i < count; i++) {\n\t\tres[i] = items[i];\n\t}\n\n\treturn res;\n};\n\nexport const getResizeWSItemsDetail = (\n\tcontext,\n\twsCo,\n\ttopWsCo,\n\tbottomWsCo,\n\tcWsCo,\n\tarranged,\n\titemsToArrange,\n\tgetIndices = false\n) => {\n\tconst mpd = getModifiedPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tconst wsPlusTopWsCo = {\n\t\ttl: { ...(topWsCo?.tl ? topWsCo.tl : wsCo.tl) },\n\t\ttr: { ...(topWsCo?.tr ? topWsCo.tr : wsCo.tr) },\n\t\tbr: { ...wsCo.br },\n\t\tbl: { ...wsCo.bl },\n\t};\n\tconst wsPlusTopWs = getRectObjectFromCo(wsPlusTopWsCo);\n\tconst bottomWs = getRectObjectFromCo(bottomWsCo);\n\tconst cWs = getRectObjectFromCo(cWsCo);\n\n\t// const itemsToArrangeMap = {};\n\t// const iToALen = itemsToArrange.length;\n\t// for (let i = 0; i < iToALen; i++) {\n\t// \titemsToArrangeMap[itemsToArrange[i]] = true;\n\t// }\n\n\tlet count = 0;\n\tconst iToALen = itemsToArrange.length;\n\tconst _itemsToArrange = new Array(iToALen);\n\tfor (let i = 0; i < iToALen; i++) {\n\t\tif (!arranged[itemsToArrange[i]]) {\n\t\t\t_itemsToArrange[count++] = itemsToArrange[i];\n\t\t}\n\t}\n\tconst filteredItemsToArrange = filter(_itemsToArrange);\n\n\tconst len = mpd.length;\n\tconst updatedItemsToArrange = new Array(len);\n\tlet uCount = 0;\n\tconst itemsInWorkSpace = new Array(len);\n\tlet iCount = 0;\n\n\tfor (let i = 0; i < len; i++) {\n\t\tconst _item = getItemDimenWithMargin(privateConstants.MARGIN, mpd[i]);\n\t\tif (doRectsOverlap(cWs, _item)) {\n\t\t\tif (arranged[i]) {\n\t\t\t\tif (!getIndices) {\n\t\t\t\t\titemsInWorkSpace[iCount++] = mpd[i];\n\t\t\t\t} else {\n\t\t\t\t\titemsInWorkSpace[iCount++] = i;\n\t\t\t\t}\n\t\t\t} else if (doRectsOverlap(wsPlusTopWs, _item)) {\n\t\t\t\tif (!getIndices) {\n\t\t\t\t\titemsInWorkSpace[iCount++] = mpd[i];\n\t\t\t\t} else {\n\t\t\t\t\titemsInWorkSpace[iCount++] = i;\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\tdoRectsOverlap(bottomWs, _item) &&\n\t\t\t\t!isRectInside(bottomWs, _item)\n\t\t\t) {\n\t\t\t\tif (!getIndices) {\n\t\t\t\t\titemsInWorkSpace[iCount++] = mpd[i];\n\t\t\t\t} else {\n\t\t\t\t\titemsInWorkSpace[iCount++] = i;\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\tdoRectsOverlap(bottomWs, _item) &&\n\t\t\t\tisRectInside(bottomWs, _item) &&\n\t\t\t\t!arranged[i]\n\t\t\t) {\n\t\t\t\tupdatedItemsToArrange[uCount++] = i;\n\t\t\t\tmpd[i].x = undefined;\n\t\t\t\tmpd[i].y = undefined;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tupdatedItemsToArrange: filter([\n\t\t\t...filteredItemsToArrange,\n\t\t\t...updatedItemsToArrange,\n\t\t]),\n\t\titemsInWorkSpace: filter(itemsInWorkSpace),\n\t};\n};\n\nexport const getItemDimenWithMargin = (MARGIN, item) => {\n\tconst _item = { ...item };\n\t_item.x -= MARGIN;\n\t_item.y -= MARGIN;\n\t_item.width += MARGIN * 2;\n\t_item.height += MARGIN * 2;\n\n\treturn _item;\n};\n\nexport const cBSTRectComparator = function (item) {\n\treturn (node, v, d) => {\n\t\tif (node.d.rect.width >= item.width && node.d.rect.height >= item.height) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n};\n\nexport const cBSTLComp = function (v) {\n\treturn (node) => {\n\t\tif (node.v > v) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n};\n\nexport const cBSTRComp = function () {\n\treturn true;\n};\n\nexport const getScore = (rect, maxHWSum) => {\n\treturn (rect.width + rect.height) / maxHWSum;\n};\n\n// export const assignScoreToFreeRects = (freeRects) => {\n// \tconst len = freeRects.length;\n\n// \tlet maxHWSum = 0;\n// \tlet sum = 0;\n// \tfor (let i = 0; i < len; i++) {\n// \t\tsum = freeRects[i].d.rect.width + freeRects[i].d.rect.height;\n// \t\tif (sum > maxHWSum) {\n// \t\t\tmaxHWSum = sum;\n// \t\t}\n// \t}\n\n// \tlet maxScore = 0;\n// \tfor (let i = 0; i < len; i++) {\n// \t\tfreeRects[i].d.score = getScore(freeRects[i].d.rect, maxHWSum);\n// \t\tif (freeRects[i].d.score > maxScore) {\n// \t\t\tmaxScore = freeRects[i].d.score;\n// \t\t}\n// \t}\n// \treturn { maxScore, maxHWSum };\n// };\n\nexport const getItemsToArrangeScore = (context, affectedItems) => {\n\tconst mpd = getModifiedPositionData(context);\n\n\tconst len = affectedItems.length;\n\tlet item;\n\tlet maxHeight = 0;\n\tlet maxWidth = 0;\n\tlet maxHWSum = 0;\n\n\tlet score;\n\n\tfor (let i = 0; i < len; i++) {\n\t\titem = mpd[affectedItems[i]];\n\n\t\tif (item.width > maxWidth) {\n\t\t\tmaxWidth = item.width;\n\t\t}\n\n\t\tif (item.height > maxHeight) {\n\t\t\tmaxHeight = item.height;\n\t\t}\n\t}\n\n\tmaxHWSum = maxWidth + maxHeight;\n\n\tconst scoreArr = new Array(len);\n\tfor (let i = 0; i < len; i++) {\n\t\titem = mpd[affectedItems[i]];\n\n\t\tscore = getScore(item, maxHWSum);\n\t\tscoreArr[i] = { score, d: affectedItems[i] };\n\t}\n\n\tscoreArr.sort((a, b) => a.score - b.score);\n\n\treturn scoreArr;\n};\n\nexport const getPerfectMatch = (arr, hwSum) => {\n\tconst len = arr.length;\n\n\tfor (let i = 0; i < len; i++) {\n\t\tarr[i].d.score = getScore(arr[i].d.rect, hwSum);\n\t}\n\n\tarr.sort((a, b) => a.d.score - b.d.score);\n\n\treturn arr[0];\n};\n\nexport const shiftItemsDown = (context, items, height) => {\n\tconst mpd = getModifiedPositionData(context);\n\n\tconst len = items.length;\n\n\tfor (let i = 0; i < len; i++) {\n\t\tmpd[items[i]].y += height;\n\t}\n};\n\nexport const shiftItemsUp = function (context, y, shiftHeight) {\n\tconst pd = getPositionData(context);\n\tconst e = getElements(context);\n\n\tconst len = pd.length;\n\tfor (let i = 0; i < len; i++) {\n\t\tif (pd[i].y >= y) {\n\t\t\tpd[i].y -= shiftHeight;\n\t\t\te.$limberGridViewItems[i].style.transform =\n\t\t\t\t\"translate(\" + pd[i].x + \"px, \" + pd[i].y + \"px)\";\n\t\t}\n\t}\n};\n\nexport const addItemAllowCheck = function (context, x, y, width, height) {\n\tconst privateConstants = getPrivateConstants(context);\n\tconst publicConstants = getPublicConstants(context);\n\tconst pd = getPositionData(context);\n\n\tvar tempPlane = {\n\t\tx: x - privateConstants.MARGIN,\n\t\ty: y - privateConstants.MARGIN,\n\t\twidth: width + publicConstants.MARGIN * 2,\n\t\theight: height + publicConstants.MARGIN * 2,\n\t};\n\n\tif (x < 0 || y < 0) {\n\t\treturn false;\n\t}\n\n\tif (typeof width !== \"number\" || typeof height !== \"number\") {\n\t\treturn false;\n\t}\n\n\tif (x + width > privateConstants.WIDTH) {\n\t\treturn false;\n\t}\n\n\tif (width < 50 || height < 50) {\n\t\treturn false;\n\t}\n\n\tlet isInside;\n\tconst len = pd.length;\n\tfor (let i = 0; i < len; i++) {\n\t\tisInside =\n\t\t\tdoRectsOverlap(\n\t\t\t\tgetItemDimenWithMargin(privateConstants.MARGIN, pd[i]),\n\t\t\t\ttempPlane\n\t\t\t) ||\n\t\t\tdoRectsOnlyTouch(\n\t\t\t\tgetItemDimenWithMargin(privateConstants.MARGIN, pd[i]),\n\t\t\t\ttempPlane\n\t\t\t);\n\n\t\tif (isInside) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n};\n\nexport const cutSpaceAllowCheck = function (context, x, y, width, height) {\n\tconst privateConstants = getPrivateConstants(context);\n\tconst pd = getPositionData(context);\n\n\tconst tempPlane = {\n\t\tx: 0,\n\t\ty: y,\n\t\twidth: privateConstants.WIDTH,\n\t\theight: height,\n\t};\n\n\tif (typeof width !== \"number\" || typeof height !== \"number\") {\n\t\treturn false;\n\t}\n\n\tlet minY = Number.MAX_SAFE_INTEGER;\n\tlet maxY = 0;\n\n\tlet atLeastOneOverlapping = false;\n\tlet isOverlapping;\n\tconst len = pd.length;\n\tfor (let i = 0; i < len; i++) {\n\t\tif (\n\t\t\tisRectInside(\n\t\t\t\ttempPlane,\n\t\t\t\tgetItemDimenWithMargin(privateConstants.MARGIN, pd[i])\n\t\t\t)\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\tisOverlapping =\n\t\t\tdoRectsOverlap(\n\t\t\t\ttempPlane,\n\t\t\t\tgetItemDimenWithMargin(privateConstants.MARGIN, pd[i])\n\t\t\t) ||\n\t\t\tdoRectsOnlyTouch(\n\t\t\t\ttempPlane,\n\t\t\t\tgetItemDimenWithMargin(privateConstants.MARGIN, pd[i])\n\t\t\t);\n\n\t\tif (isOverlapping) {\n\t\t\tatLeastOneOverlapping = true;\n\t\t\tconst topPoint = {\n\t\t\t\tx: pd[i].x,\n\t\t\t\ty: pd[i].y - privateConstants.MARGIN,\n\t\t\t};\n\t\t\tconst bottomPoint = {\n\t\t\t\tx: pd[i].x,\n\t\t\t\ty: pd[i].y + pd[i].height + privateConstants.MARGIN,\n\t\t\t};\n\t\t\tif (\n\t\t\t\tpd[i].y - privateConstants.MARGIN < minY &&\n\t\t\t\t(isPointInsideRect(tempPlane, topPoint) ||\n\t\t\t\t\tdoesPointTouchRect(tempPlane, topPoint))\n\t\t\t) {\n\t\t\t\tminY = pd[i].y - privateConstants.MARGIN;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tpd[i].y + pd[i].height + privateConstants.MARGIN > maxY &&\n\t\t\t\t(isPointInsideRect(tempPlane, bottomPoint) ||\n\t\t\t\t\tdoesPointTouchRect(tempPlane, bottomPoint))\n\t\t\t) {\n\t\t\t\tmaxY = pd[i].y + pd[i].height + privateConstants.MARGIN;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (atLeastOneOverlapping) {\n\t\tif (minY === Number.MAX_SAFE_INTEGER) {\n\t\t\tminY = y;\n\t\t}\n\n\t\tif (maxY === 0) {\n\t\t\tmaxY = y + height;\n\t\t}\n\n\t\tif (minY - maxY > 0) {\n\t\t\treturn { y: maxY, shiftHeight: minY - maxY };\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn { y: y, shiftHeight: height };\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nexport const getBindedFunctions = (context) => {\n\treturn context.store.variables.bindedFunctions;\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport getOptions from \"../../store/variables/options\";\nimport getElements from \"../../store/variables/elements\";\nimport { isMobile } from \"../utils/utils\";\nimport { getCallbacks } from \"../../store/variables/essentials\";\n// import { onItemMouseDown, onItemTouchStart } from \"./itemInteraction\";\n// import {\n// \tonLimberGridMouseDown,\n// \tonLimberGridTouchStart,\n// } from \"./deskInteraction\";\nimport { getBindedFunctions } from \"../../store/variables/bindedFunctions\";\n// import {\n// \tgetItemInteractionVars,\n// \tgetDeskInteractionVars,\n// } from \"../../store/variables/eventSpecific\";\n// import { onItemClick } from \"./miscellaneous\";\n\nexport const reInitializeEvents = function () {\n\tunInitializeEvents();\n\tinitializeEvents();\n};\n\nexport const initializeVariables = function () {};\n\nexport const initializeEvents = function () {\n\tconst options = getOptions(this);\n\tconst e = getElements(this);\n\tconst callbacks = getCallbacks(this);\n\n\tconst bf = getBindedFunctions(this);\n\n\tif (options.editable === true) {\n\t\tif (!isMobile(this)) {\n\t\t\tif (options.enableInteractiveAddAndCut !== false) {\n\t\t\t\te.$limberGridView.addEventListener(\"mousedown\", bf.onDeskMouseDown);\n\t\t\t\tif (options.enableTouchInteraction !== false) {\n\t\t\t\t\te.$limberGridView.addEventListener(\"touchstart\", bf.onDeskTouchStart);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar len = e.$limberGridViewItems.length;\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tif (!isMobile(this)) {\n\t\t\t\te.$limberGridViewItems[i].addEventListener(\n\t\t\t\t\t\"mousedown\",\n\t\t\t\t\tbf.onItemMouseDown\n\t\t\t\t);\n\t\t\t\tif (options.enableTouchInteraction !== false) {\n\t\t\t\t\te.$limberGridViewItems[i].addEventListener(\n\t\t\t\t\t\t\"touchstart\",\n\t\t\t\t\t\tbf.onItemTouchStart\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (callbacks.onItemClickCallback) {\n\t\t\t\te.$limberGridViewItems[i].addEventListener(\"click\", bf.onItemClick);\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const unInitializeEvents = function () {\n\tconst options = getOptions(this);\n\tconst e = getElements(this);\n\n\tconst bf = getBindedFunctions(this);\n\n\tif (options.editable === true) {\n\t\tif (e.$limberGridView !== undefined) {\n\t\t\te.$limberGridView.removeEventListener(\"mousedown\", bf.onDeskMouseDown);\n\t\t\te.$limberGridView.removeEventListener(\"touchstart\", bf.onDeskTouchStart);\n\t\t}\n\n\t\tif (e.$limberGridViewItems !== undefined) {\n\t\t\tconst len = e.$limberGridViewItems.length;\n\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\te.$limberGridViewItems[i].removeEventListener(\n\t\t\t\t\t\"mousedown\",\n\t\t\t\t\tbf.onItemMouseDown\n\t\t\t\t);\n\t\t\t\te.$limberGridViewItems[i].removeEventListener(\n\t\t\t\t\t\"touchstart\",\n\t\t\t\t\tbf.onItemTouchStart\n\t\t\t\t);\n\n\t\t\t\te.$limberGridViewItems[i].removeEventListener(\"click\", bf.onItemClick);\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const initializeItemTouchEvents = function () {\n\tconst e = getElements(this);\n\n\tconst bf = getBindedFunctions(this);\n\n\tif (e.$limberGridViewItems !== undefined) {\n\t\tconst len = e.$limberGridViewItems.length;\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\te.$limberGridViewItems[i].addEventListener(\n\t\t\t\t\"mousedown\",\n\t\t\t\tbf.onItemMouseDown\n\t\t\t);\n\t\t\te.$limberGridViewItems[i].addEventListener(\n\t\t\t\t\"touchstart\",\n\t\t\t\tbf.onItemTouchStart\n\t\t\t);\n\t\t}\n\t}\n};\n\nexport const unInitializeItemTouchEvents = function () {\n\tconst e = getElements(this);\n\n\tconst bf = getBindedFunctions(this);\n\n\tif (e.$limberGridViewItems !== undefined) {\n\t\tconst len = e.$limberGridViewItems.length;\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\te.$limberGridViewItems[i].removeEventListener(\n\t\t\t\t\"mousedown\",\n\t\t\t\tbf.onItemMouseDown\n\t\t\t);\n\t\t\te.$limberGridViewItems[i].removeEventListener(\n\t\t\t\t\"touchstart\",\n\t\t\t\tbf.onItemTouchStart\n\t\t\t);\n\t\t}\n\t}\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nexport const getItemInteractionVars = function (context) {\n\treturn context.store.variables.eventSpecific.itemInteraction;\n};\n\nexport const setItemInteractionVarsByName = function (context, name, value) {\n\tcontext.store.variables.eventSpecific.itemInteraction[name] = value;\n};\n\nexport const getDeskInteractionVars = function (context) {\n\treturn context.store.variables.eventSpecific.deskInteraction;\n};\n\nexport const setDeskInteractionVarsByName = function (context, name, value) {\n\tcontext.store.variables.eventSpecific.deskInteraction[name] = value;\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nexport const shuffle = (arr) => {\n\tlet temp,\n\t\tlen = arr.length,\n\t\tj;\n\tfor (let i = 0; i < len; i++) {\n\t\tj = Math.floor(Math.random() * (i + 1));\n\t\ttemp = arr[i];\n\t\tarr[i] = arr[j];\n\t\tarr[j] = temp;\n\t}\n\treturn arr;\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\n/*\n\t\t\n\tLIFO(Last In First Out) Stack Data Structure\n\n\n*/\n\nconst Stack = function () {\n\tthis.length = 100;\n\tthis.stack = new Array(this.length);\n\tthis.ptr = -1;\n};\n\nStack.prototype.constructor = Stack;\n\nStack.prototype.push = function (data) {\n\tif (data === null || data === undefined) {\n\t\treturn false;\n\t}\n\tif (this.ptr < this.length - 1) {\n\t\tthis.stack[++this.ptr] = data;\n\t} else {\n\t\tthis.resize();\n\t\tthis.stack[++this.ptr] = data;\n\t}\n\treturn true;\n};\n\nStack.prototype.pop = function () {\n\tif (this.ptr >= 0) {\n\t\tconst top = this.stack[this.ptr];\n\t\tthis.ptr--;\n\t\treturn top;\n\t}\n};\n\nStack.prototype.wipePop = function () {\n\tif (this.ptr >= 0) {\n\t\tconst top = this.stack[this.ptr];\n\t\tthis.stack[this.ptr] = undefined;\n\t\tthis.ptr--;\n\t\treturn top;\n\t}\n};\n\nStack.prototype.resize = function () {\n\tconst oldlen = this.length;\n\tconst oldStack = this.stack;\n\tthis.length += 100;\n\tthis.stack = new Array(this.length);\n\n\tfor (let i = 0; i < oldlen; i++) {\n\t\tthis.stack[i] = oldStack[i];\n\t}\n};\n\nStack.prototype.getTop = function () {\n\tif (this.ptr >= 0) {\n\t\treturn this.stack[this.ptr];\n\t}\n\treturn null;\n};\n\nStack.prototype.isEmpty = function () {\n\tif (this.ptr < 0) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n\nStack.prototype.getData = function () {\n\tconst arr = new Array(this.ptr + 1);\n\tfor (let i = 0; i <= this.ptr; i++) {\n\t\tarr[i] = this.stack[i];\n\t}\n\treturn arr;\n};\n\nStack.prototype.getAllData = function () {\n\tconst arr = new Array(this.length);\n\tfor (let i = 0; i < this.length; i++) {\n\t\tarr[i] = this.stack[i];\n\t}\n\treturn arr;\n};\n\nStack.prototype.getSize = function () {\n\treturn this.ptr + 1;\n};\n\nStack.prototype.empty = function () {\n\tthis.ptr = -1;\n};\n\nStack.prototype.wipe = function () {\n\tthis.length = 100;\n\tthis.stack = new Array(this.length);\n\tthis.ptr = -1;\n};\n\nexport default Stack;\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport getElements, {\n\tset$limberGridView,\n\tset$limberGridViewDebugStackTopRect,\n\tset$limberGridViewDebugStackTopAdjRect,\n\tset$limberGridViewDebugMergedRect,\n\tset$limberGridViewDebugAdjRect,\n\tset$limberGridViewDebugMergedTempRects,\n\tset$limberGridViewDebugStackRects,\n\tset$limberGridViewDebugResultStackRects,\n\tset$limberGridViewDebugUnmergedRects,\n\tset$limberGridViewDebugMergedFreeRects,\n} from \"../../store/variables/elements\";\nimport { DEBUG_MODE } from \"../../store/variables/essentials\";\n\nexport const sleep = (ms) => {\n\treturn new Promise((resolve, reject) => {\n\t\tsetTimeout(resolve, ms);\n\t});\n};\n\nexport const printUnmergedFreeRects = (context, arr) => {\n\tif (process.env.NODE_ENV === \"development\") {\n\t\tconst e = getElements(context);\n\t\tlet len = e.$limberGridViewDebugUnmergedRects.length;\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugUnmergedRects[i]);\n\t\t}\n\t\tset$limberGridViewDebugUnmergedRects(context, []);\n\n\t\t// USE it to hide items\n\t\t// e.$limberGridView.innerHTML = \"\";\n\n\t\tlen = arr.length;\n\t\tlet html;\n\t\tlet node;\n\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tnode = document.createElement(\"div\");\n\t\t\tnode.setAttribute(\n\t\t\t\t\"class\",\n\t\t\t\t\"limber-grid-view-debug-rect limber-grid-view-debug-unmerged-rect\"\n\t\t\t);\n\t\t\tnode.setAttribute(\n\t\t\t\t\"id\",\n\t\t\t\t`limber-grid-view-debug-unmerged-rect-${arr[i].id}`\n\t\t\t);\n\t\t\tnode.setAttribute(\"tabindex\", \"-1\");\n\n\t\t\tnode.setAttribute(\n\t\t\t\t\"title\",\n\t\t\t\t`${arr[i].id}: ${Object.keys(arr[i]?.a || []).map(\n\t\t\t\t\t(o) => arr[i].a[o].d.id\n\t\t\t\t)}`\n\t\t\t);\n\t\t\tnode.innerHTML = arr[i].id;\n\t\t\tnode.style.transform = `translate(${arr[i].rect.x}px, ${arr[i].rect.y}px)`;\n\t\t\tnode.style.width = arr[i].rect.width + \"px\";\n\t\t\tnode.style.height = arr[i].rect.height + \"px\";\n\t\t\te.$limberGridView.appendChild(node);\n\t\t}\n\n\t\tset$limberGridViewDebugUnmergedRects(\n\t\t\tcontext,\n\t\t\te.$limberGridView.querySelectorAll(\n\t\t\t\t\".limber-grid-view-debug-unmerged-rect\"\n\t\t\t)\n\t\t);\n\t}\n};\n\nexport const printMergedFreeRects = (context, arr) => {\n\tif (process.env.NODE_ENV === \"development\") {\n\t\tconst e = getElements(context);\n\t\tlet len = e.$limberGridViewDebugMergedFreeRects.length;\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugMergedFreeRects[i]);\n\t\t}\n\t\tset$limberGridViewDebugMergedFreeRects(context, []);\n\n\t\t// USE it to hide items\n\t\t// e.$limberGridView.innerHTML = \"\";\n\n\t\tlen = arr.length;\n\t\tlet html;\n\t\tlet node;\n\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tnode = document.createElement(\"div\");\n\t\t\tnode.setAttribute(\n\t\t\t\t\"class\",\n\t\t\t\t`limber-grid-view-debug-rect limber-grid-view-debug-merged-free-rect`\n\t\t\t);\n\t\t\tnode.setAttribute(\n\t\t\t\t\"id\",\n\t\t\t\t`limber-grid-view-debug-merged-free-rect-${arr[i].id}`\n\t\t\t);\n\t\t\tnode.setAttribute(\"tabindex\", -1);\n\n\t\t\tnode.setAttribute(\n\t\t\t\t\"title\",\n\t\t\t\t`${arr[i].id}: ${Object.keys(arr[i].o).map(\n\t\t\t\t\t(o) => arr[i].o[o]?.d?.id || \"\"\n\t\t\t\t)}`\n\t\t\t);\n\n\t\t\tnode.innerHTML = arr[i].id;\n\t\t\tnode.style.transform = `translate(${arr[i].rect.x}px, ${arr[i].rect.y}px)`;\n\t\t\tnode.style.width = arr[i].rect.width + \"px\";\n\t\t\tnode.style.height = arr[i].rect.height + \"px\";\n\t\t\te.$limberGridView.appendChild(node);\n\t\t}\n\n\t\tset$limberGridViewDebugMergedFreeRects(\n\t\t\tcontext,\n\t\t\te.$limberGridView.querySelectorAll(\n\t\t\t\t\".limber-grid-view-debug-merged-free-rect\"\n\t\t\t)\n\t\t);\n\t}\n};\n\nexport const printResultStackRects = (context, arr) => {\n\tif (process.env.NODE_ENV === \"development\") {\n\t\tconst e = getElements(context);\n\t\tlet len = e.$limberGridViewDebugResultStackRects.length;\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugResultStackRects[i]);\n\t\t}\n\t\tset$limberGridViewDebugResultStackRects(context, []);\n\n\t\t// USE it to hide items\n\t\t// e.$limberGridView.innerHTML = \"\";\n\n\t\tlen = arr.length;\n\t\tlet html;\n\t\tlet node;\n\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tnode = document.createElement(\"div\");\n\t\t\tnode.setAttribute(\n\t\t\t\t\"class\",\n\t\t\t\t`limber-grid-view-debug-rect limber-grid-view-debug-result-stack-rects`\n\t\t\t);\n\t\t\tnode.setAttribute(\n\t\t\t\t\"id\",\n\t\t\t\t`limber-grid-view-debug-result-stack-rects-${arr[i].id}`\n\t\t\t);\n\t\t\tnode.setAttribute(\"tabindex\", -1);\n\n\t\t\tnode.setAttribute(\n\t\t\t\t\"title\",\n\t\t\t\t`${arr[i].id}: ${Object.keys(arr[i].o).map(\n\t\t\t\t\t(o) => arr[i].o[o]?.d?.id || \"\"\n\t\t\t\t)}`\n\t\t\t);\n\n\t\t\tnode.innerHTML = arr[i].id;\n\t\t\tnode.style.transform = `translate(${arr[i].rect.x}px, ${arr[i].rect.y}px)`;\n\t\t\tnode.style.width = arr[i].rect.width + \"px\";\n\t\t\tnode.style.height = arr[i].rect.height + \"px\";\n\t\t\te.$limberGridView.appendChild(node);\n\t\t}\n\n\t\tset$limberGridViewDebugResultStackRects(\n\t\t\tcontext,\n\t\t\te.$limberGridView.querySelectorAll(\n\t\t\t\t\".limber-grid-view-debug-result-stack-rects\"\n\t\t\t)\n\t\t);\n\t}\n};\n\nexport const printStackRects = (context, arr) => {\n\tif (process.env.NODE_ENV === \"development\") {\n\t\tconst e = getElements(context);\n\t\tlet len = e.$limberGridViewDebugStackRects.length;\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugStackRects[i]);\n\t\t}\n\t\tset$limberGridViewDebugStackRects(context, []);\n\n\t\t// USE it to hide items\n\t\t// e.$limberGridView.innerHTML = \"\";\n\n\t\tlen = arr.length;\n\t\tlet html;\n\t\tlet node;\n\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tnode = document.createElement(\"div\");\n\t\t\tnode.setAttribute(\n\t\t\t\t\"class\",\n\t\t\t\t`limber-grid-view-debug-rect limber-grid-view-debug-stack-rects`\n\t\t\t);\n\t\t\tnode.setAttribute(\n\t\t\t\t\"id\",\n\t\t\t\t`limber-grid-view-debug-stack-rects-${arr[i].id}`\n\t\t\t);\n\t\t\tnode.setAttribute(\"tabindex\", -1);\n\n\t\t\tnode.setAttribute(\n\t\t\t\t\"title\",\n\t\t\t\t`${arr[i].id}: ${Object.keys(arr[i].o).map(\n\t\t\t\t\t(o) => arr[i].o[o]?.d?.id || \"\"\n\t\t\t\t)}`\n\t\t\t);\n\n\t\t\tnode.innerHTML = arr[i].id;\n\t\t\tnode.style.transform = `translate(${arr[i].rect.x}px, ${arr[i].rect.y}px)`;\n\t\t\tnode.style.width = arr[i].rect.width + \"px\";\n\t\t\tnode.style.height = arr[i].rect.height + \"px\";\n\t\t\te.$limberGridView.appendChild(node);\n\t\t}\n\n\t\tset$limberGridViewDebugStackRects(\n\t\t\tcontext,\n\t\t\te.$limberGridView.querySelectorAll(\".limber-grid-view-debug-stack-rects\")\n\t\t);\n\t}\n};\n\nexport const printMergedTempRects = (context, obj) => {\n\tif (process.env.NODE_ENV === \"development\") {\n\t\tconst e = getElements(context);\n\t\tconst node = document.createElement(\"div\");\n\t\tnode.setAttribute(\n\t\t\t\"class\",\n\t\t\t`limber-grid-view-debug-rect limber-grid-view-debug-merged-temp-rects`\n\t\t);\n\t\tnode.setAttribute(\n\t\t\t\"id\",\n\t\t\t`limber-grid-view-debug-merged-temp-rects-${obj.id}`\n\t\t);\n\t\tnode.setAttribute(\"tabindex\", -1);\n\n\t\tnode.setAttribute(\n\t\t\t\"title\",\n\t\t\t`${obj.id}: ${Object.keys(obj.o).map((o) => obj.o[o]?.d?.id || \"\")}`\n\t\t);\n\n\t\tnode.innerHTML = obj.id;\n\t\tnode.style.transform = `translate(${obj.rect.x}px, ${obj.rect.y}px)`;\n\t\tnode.style.width = obj.rect.width + \"px\";\n\t\tnode.style.height = obj.rect.height + \"px\";\n\t\te.$limberGridView.appendChild(node);\n\n\t\tset$limberGridViewDebugMergedTempRects(\n\t\t\tcontext,\n\t\t\te.$limberGridView.querySelectorAll(\n\t\t\t\t\".limber-grid-view-debug-merged-temp-rects\"\n\t\t\t)\n\t\t);\n\t}\n};\n\nexport const printStackTopRect = (context, obj) => {\n\tif (process.env.NODE_ENV === \"development\") {\n\t\tconst e = getElements(context);\n\t\tif (!obj) {\n\t\t\tif (e.$limberGridViewDebugStackTopRect) {\n\t\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugStackTopRect);\n\t\t\t\tset$limberGridViewDebugStackTopRect(context, undefined);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.$limberGridViewDebugStackTopRect) {\n\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugStackTopRect);\n\t\t}\n\n\t\tconst node = document.createElement(\"div\");\n\t\tnode.setAttribute(\n\t\t\t\"class\",\n\t\t\t`limber-grid-view-debug-rect limber-grid-view-debug-stack-top-rect`\n\t\t);\n\t\tnode.setAttribute(\"id\", `limber-grid-view-debug-stack-top-rect`);\n\t\tnode.setAttribute(\"tabindex\", -1);\n\n\t\tnode.setAttribute(\n\t\t\t\"title\",\n\t\t\t`${obj.id}: ${Object.keys(obj.o).map((o) => obj.o[o]?.d?.id || \"\")}`\n\t\t);\n\n\t\tnode.innerHTML = obj.id;\n\t\tnode.style.transform = `translate(${obj.rect.x}px, ${obj.rect.y}px)`;\n\t\tnode.style.width = obj.rect.width + \"px\";\n\t\tnode.style.height = obj.rect.height + \"px\";\n\t\te.$limberGridView.appendChild(node);\n\n\t\tset$limberGridViewDebugStackTopRect(\n\t\t\tcontext,\n\t\t\te.$limberGridView.querySelectorAll(\n\t\t\t\t\".limber-grid-view-debug-stack-top-rect\"\n\t\t\t)[0]\n\t\t);\n\t\t// console.log(e.$limberGridViewDebugStackTopRect);\n\t}\n};\n\nexport const printStackTopAdjRect = (context, obj) => {\n\tif (process.env.NODE_ENV === \"development\") {\n\t\tconst e = getElements(context);\n\t\tif (!obj) {\n\t\t\tif (e.$limberGridViewDebugStackTopAdjRect) {\n\t\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugStackTopAdjRect);\n\t\t\t\tset$limberGridViewDebugStackTopAdjRect(context, undefined);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.$limberGridViewDebugStackTopAdjRect) {\n\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugStackTopAdjRect);\n\t\t}\n\n\t\tconst node = document.createElement(\"div\");\n\t\tnode.setAttribute(\n\t\t\t\"class\",\n\t\t\t`limber-grid-view-debug-rect limber-grid-view-debug-stack-top-adj-rect`\n\t\t);\n\t\tnode.setAttribute(\"id\", `limber-grid-view-debug-stack-top-adj-rect`);\n\t\tnode.setAttribute(\"tabindex\", -1);\n\n\t\tnode.setAttribute(\n\t\t\t\"title\",\n\t\t\t`${obj.id}: ${Object.keys(obj.o).map((o) => obj.o[o]?.d?.id || \"\")}`\n\t\t);\n\n\t\tnode.innerHTML = obj.id;\n\t\tnode.style.transform = `translate(${obj.rect.x}px, ${obj.rect.y}px)`;\n\t\tnode.style.width = obj.rect.width + \"px\";\n\t\tnode.style.height = obj.rect.height + \"px\";\n\t\te.$limberGridView.appendChild(node);\n\n\t\tset$limberGridViewDebugStackTopAdjRect(\n\t\t\tcontext,\n\t\t\te.$limberGridView.querySelectorAll(\n\t\t\t\t\".limber-grid-view-debug-stack-top-adj-rect\"\n\t\t\t)[0]\n\t\t);\n\t\t// console.log(e.$limberGridViewDebugStackTopAdjRect);\n\t}\n};\n\nexport const printMergedRect = (context, obj) => {\n\tif (process.env.NODE_ENV === \"development\") {\n\t\tconst e = getElements(context);\n\t\tif (!obj) {\n\t\t\tif (e.$limberGridViewDebugMergedRect) {\n\t\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugMergedRect);\n\t\t\t\tset$limberGridViewDebugMergedRect(context, undefined);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.$limberGridViewDebugMergedRect) {\n\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugMergedRect);\n\t\t}\n\n\t\tconst node = document.createElement(\"div\");\n\t\tnode.setAttribute(\n\t\t\t\"class\",\n\t\t\t`limber-grid-view-debug-rect limber-grid-view-debug-merged-rect limber-grid-view-debug-merged-rect-thick`\n\t\t);\n\t\tnode.setAttribute(\"id\", `limber-grid-view-debug-merged-rect`);\n\t\tnode.setAttribute(\"tabindex\", -1);\n\n\t\tnode.setAttribute(\n\t\t\t\"title\",\n\t\t\t`${obj.id}: ${Object.keys(obj.o).map((o) => obj.o[o]?.d?.id || \"\")}`\n\t\t);\n\n\t\tnode.innerHTML = obj.id;\n\t\tnode.style.transform = `translate(${obj.rect.x}px, ${obj.rect.y}px)`;\n\t\tnode.style.width = obj.rect.width + \"px\";\n\t\tnode.style.height = obj.rect.height + \"px\";\n\t\te.$limberGridView.appendChild(node);\n\n\t\tset$limberGridViewDebugMergedRect(\n\t\t\tcontext,\n\t\t\te.$limberGridView.querySelectorAll(\n\t\t\t\t\".limber-grid-view-debug-merged-rect\"\n\t\t\t)[0]\n\t\t);\n\t\t// console.log(e.$limberGridViewDebugMergedRect);\n\t}\n};\n\nexport const printAdjRect = (context, obj) => {\n\tif (process.env.NODE_ENV === \"development\") {\n\t\tconst e = getElements(context);\n\t\tif (!obj) {\n\t\t\tif (e.$limberGridViewDebugAdjRect) {\n\t\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugAdjRect);\n\t\t\t\tset$limberGridViewDebugAdjRect(context, undefined);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.$limberGridViewDebugAdjRect) {\n\t\t\te.$limberGridView.removeChild(e.$limberGridViewDebugAdjRect);\n\t\t}\n\n\t\tconst node = document.createElement(\"div\");\n\t\tnode.setAttribute(\n\t\t\t\"class\",\n\t\t\t`limber-grid-view-debug-rect limber-grid-view-debug-adj-rect`\n\t\t);\n\t\tnode.setAttribute(\"id\", `limber-grid-view-debug-adj-rect`);\n\t\tnode.setAttribute(\"tabindex\", -1);\n\n\t\tnode.setAttribute(\n\t\t\t\"title\",\n\t\t\t`${obj.id}: ${Object.keys(obj.o).map((o) => obj.o[o]?.d?.id || \"\")}`\n\t\t);\n\n\t\tnode.innerHTML = obj.id;\n\t\tnode.style.transform = `translate(${obj.rect.x}px, ${obj.rect.y}px)`;\n\t\tnode.style.width = obj.rect.width + \"px\";\n\t\tnode.style.height = obj.rect.height + \"px\";\n\t\te.$limberGridView.appendChild(node);\n\n\t\tset$limberGridViewDebugAdjRect(\n\t\t\tcontext,\n\t\t\te.$limberGridView.querySelectorAll(\".limber-grid-view-debug-adj-rect\")[0]\n\t\t);\n\t\t// console.log(e.$limberGridViewDebugAdjRect);\n\t}\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport { IntervalTreesIterative } from \"IntervalTreeJS\";\nimport { ClosestBST } from \"ClosestBST\";\nimport {\n\tgetPositionData,\n\tgetModifiedPositionData,\n} from \"../../store/variables/essentials\";\nimport getElements from \"../../store/variables/elements\";\nimport getPrivateConstants, {\n\tgetPrivateConstantByName,\n} from \"../../store/constants/privateConstants\";\nimport getPublicConstants, {\n\tgetPublicConstantByName,\n} from \"../../store/constants/publicConstants\";\nimport {\n\tgetMinMaxXY,\n\tgetTopBottomWS,\n\tgetItemsInWorkSpace,\n\tgetItemsBelowBottomWorkSpace,\n\tgetItemDimenWithMargin,\n\tgetItemsToArrangeScore,\n\t// assignScoreToFreeRects,\n\tcBSTRectComparator,\n\tcBSTLComp,\n\tcBSTRComp,\n\tgetPerfectMatch,\n\tshiftItemsDown,\n\tgetResizeWSItemsDetail,\n} from \"./arrangeUtils\";\nimport {\n\tgetRectObjectFromCo,\n\tsubtractRect,\n\tdoRectsOverlap,\n\tareRectsAdjacent,\n\tgetCoordinates,\n\tmergeRects,\n\tisRectInside,\n\tareRectsOnSameYAxisExPath,\n\tareRectsIdentical,\n} from \"../rect/rectUtils\";\nimport { shuffle } from \"../array/arrayUtils\";\nimport { filter } from \"../utils/utils\";\nimport Stack from \"../stack/stack\";\nimport {\n\tsleep,\n\tprintUnmergedFreeRects,\n\tprintMergedFreeRects,\n\tprintResultStackRects,\n\tprintStackRects,\n\tprintMergedTempRects,\n\tprintStackTopRect,\n\tprintStackTopAdjRect,\n\tprintMergedRect,\n\tprintAdjRect,\n} from \"../debug/debug\";\n\nexport const arrangeMove = async (\n\tcontext,\n\taffectedItems,\n\ttoY,\n\tmovedBottomY,\n\tisDemo = false\n) => {\n\tconst privateConstants = getPrivateConstants(context);\n\tconst publicConstants = getPublicConstants(context);\n\tconst mpd = getModifiedPositionData(context);\n\n\tconst p1 = performance.now();\n\n\tconst idCount = { idCount: 0 };\n\n\tconst { minY, maxY } = getMinMaxXY(\n\t\tcontext,\n\t\taffectedItems,\n\t\tundefined,\n\t\tundefined,\n\t\ttoY,\n\t\tmovedBottomY\n\t);\n\n\t// last element is moved or resized item;\n\tconst itemsToArrange = new Array(affectedItems.length - 1);\n\tconst iToALen = affectedItems.length - 1;\n\tfor (let i = 0; i < iToALen; i++) {\n\t\titemsToArrange[i] = affectedItems[i];\n\t}\n\n\tconst workSpaceRectCo = {\n\t\ttl: { x: 0, y: minY },\n\t\ttr: { x: privateConstants.WIDTH, y: minY },\n\t\tbr: { x: privateConstants.WIDTH, y: maxY },\n\t\tbl: { x: 0, y: maxY },\n\t};\n\n\tconst combinedWorkSpaceRectCo = {\n\t\ttl: { ...workSpaceRectCo.tl },\n\t\ttr: { ...workSpaceRectCo.tr },\n\t\tbr: { ...workSpaceRectCo.br },\n\t\tbl: { ...workSpaceRectCo.bl },\n\t};\n\tconst { topWorkSpaceCo, bottomWorkSpaceCo } = getTopBottomWS(\n\t\tcontext,\n\t\tworkSpaceRectCo,\n\t\t0,\n\t\tprivateConstants.WIDTH\n\t);\n\tconst shrinkRes = shrinkTopBottomWS(\n\t\tcontext,\n\t\ttopWorkSpaceCo,\n\t\tbottomWorkSpaceCo\n\t);\n\n\tif (shrinkRes.integrateTop) {\n\t\tcombinedWorkSpaceRectCo.tl = { ...topWorkSpaceCo.tl };\n\t\tcombinedWorkSpaceRectCo.tr = { ...topWorkSpaceCo.tr };\n\t}\n\tif (shrinkRes.integrateBottom) {\n\t\tcombinedWorkSpaceRectCo.br = { ...bottomWorkSpaceCo.br };\n\t\tcombinedWorkSpaceRectCo.bl = { ...bottomWorkSpaceCo.bl };\n\t}\n\n\tlet itemsInBottomWorkSpace = getItemsInWorkSpace(\n\t\tcontext,\n\t\tgetRectObjectFromCo(bottomWorkSpaceCo),\n\t\ttrue\n\t);\n\tconst itemsBelowBottomWorkSpace = getItemsBelowBottomWorkSpace(\n\t\tcontext,\n\t\tbottomWorkSpaceCo,\n\t\ttrue\n\t);\n\n\tlet combinedWorkSpaceRect = getRectObjectFromCo(combinedWorkSpaceRectCo);\n\tlet itemsInCombinedWorkSpace = getItemsInWorkSpace(\n\t\tcontext,\n\t\tcombinedWorkSpaceRect\n\t);\n\n\tconst shiftHeight =\n\t\t(privateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH -\n\t\t\tprivateConstants.MARGIN * 2) /\n\t\t2;\n\n\tlet passCount = 0;\n\tlet arranged = {};\n\tlet arrangedCount = 0;\n\tlet workSpaceResizeCount = 0;\n\n\tlet DEBUG_COUNT = 0;\n\n\twhile (arrangedCount !== iToALen) {\n\t\t// sort items in workspace by lt.x  i.e horizontally\n\t\titemsInCombinedWorkSpace.sort((a, b) => a.x - b.x);\n\n\t\tconst { it: freeRectsItY, idCount: lastId1 } = sweepLine(\n\t\t\tcontext,\n\t\t\tcombinedWorkSpaceRect,\n\t\t\tcombinedWorkSpaceRectCo,\n\t\t\titemsInCombinedWorkSpace,\n\t\t\tidCount.idCount\n\t\t);\n\t\tidCount.idCount = lastId1;\n\n\t\tconst freeRectsArr = freeRectsItY.getSortedData();\n\t\tshuffle(freeRectsArr);\n\n\t\tassignAdjacentRects(freeRectsItY);\n\n\t\t// DEBUG:\n\t\t// printUnmergedFreeRects(context, freeRectsArr.map((o) => o.d));\n\n\t\tconst { mergedRects, idCount: lastId2 } = await mergeFreeRects(\n\t\t\tfreeRectsArr,\n\t\t\tidCount.idCount\n\t\t);\n\t\tidCount.idCount = lastId2;\n\n\t\t// DEBUG:\n\t\t// printMergedFreeRects(context, mergedRects.map((o) => o.d));\n\n\t\tconst { overlappedRects } = findOverlapped(mergedRects);\n\n\t\t// DEBUG:\n\t\t// printMergedFreeRects(context, overlappedRects.map((o) => o.d));\n\n\t\tconst {\n\t\t\tarranged: _arranged,\n\t\t\titemsInBottomWorkSpace: _itemsInBottomWorkSpace,\n\t\t\tidCount: lastId3,\n\t\t} = await arrange(\n\t\t\tcontext,\n\t\t\titemsToArrange.filter((id) => !arranged[id]),\n\t\t\toverlappedRects,\n\t\t\tgetRectObjectFromCo(topWorkSpaceCo),\n\t\t\tgetRectObjectFromCo(bottomWorkSpaceCo),\n\t\t\tcombinedWorkSpaceRectCo,\n\t\t\tidCount.idCount\n\t\t);\n\t\tidCount.idCount = lastId3;\n\n\t\titemsInBottomWorkSpace = [\n\t\t\t...itemsInBottomWorkSpace,\n\t\t\t...Object.keys(_itemsInBottomWorkSpace),\n\t\t];\n\n\t\tarranged = { ...arranged, ..._arranged };\n\t\tconst _arrangedArr = Object.values(_arranged);\n\t\titemsInCombinedWorkSpace = [...itemsInCombinedWorkSpace, ..._arrangedArr];\n\n\t\tarrangedCount += _arrangedArr.length;\n\n\t\tif (arrangedCount !== iToALen) {\n\t\t\t// resize workSpace and push bottom workspace down\n\t\t\tworkSpaceResizeCount++;\n\t\t\tconsole.log(\"workSpaceResizeCount\", workSpaceResizeCount);\n\n\t\t\tworkSpaceRectCo.br.y += shiftHeight;\n\t\t\tworkSpaceRectCo.bl.y += shiftHeight;\n\t\t\tif (bottomWorkSpaceCo) {\n\t\t\t\tbottomWorkSpaceCo.tl.y += shiftHeight;\n\t\t\t\tbottomWorkSpaceCo.tr.y += shiftHeight;\n\t\t\t\tbottomWorkSpaceCo.br.y += shiftHeight;\n\t\t\t\tbottomWorkSpaceCo.bl.y += shiftHeight;\n\t\t\t}\n\t\t\tcombinedWorkSpaceRectCo.br.y += shiftHeight;\n\t\t\tcombinedWorkSpaceRectCo.bl.y += shiftHeight;\n\n\t\t\tcombinedWorkSpaceRect = getRectObjectFromCo(combinedWorkSpaceRectCo);\n\n\t\t\tshiftItemsDown(context, itemsInBottomWorkSpace, shiftHeight);\n\t\t}\n\n\t\tpassCount++;\n\n\t\tDEBUG_COUNT++;\n\t\tif (DEBUG_COUNT > 50) {\n\t\t\tthrow \"Arrange time out\";\n\t\t}\n\t}\n\n\tif (workSpaceResizeCount > 0) {\n\t\t// push items in below bottom workspace below\n\t\tshiftItemsDown(\n\t\t\tcontext,\n\t\t\titemsBelowBottomWorkSpace,\n\t\t\tshiftHeight * workSpaceResizeCount\n\t\t);\n\n\t\t// put items in bottom workspace and below bottom workspace in arranged map\n\t\tlet len = itemsInBottomWorkSpace.length;\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tarranged[itemsInBottomWorkSpace[i]] = mpd[itemsInBottomWorkSpace[i]];\n\t\t}\n\n\t\tlen = itemsBelowBottomWorkSpace.length;\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tarranged[itemsBelowBottomWorkSpace[i]] =\n\t\t\t\tmpd[itemsBelowBottomWorkSpace[i]];\n\t\t}\n\t}\n\n\tconst p2 = performance.now();\n\tconsole.log(\"p1: \", p1);\n\tconsole.log(\"p2: \", p2);\n\tconsole.log(\"arrange total: \", p2 - p1);\n\n\treturn arranged;\n};\n\nexport const arrangeResize = async (\n\tcontext,\n\taffectedItems,\n\tresizedBottomY,\n\tresizedRightX,\n\tisDemo = false\n) => {\n\tconst privateConstants = getPrivateConstants(context);\n\tconst publicConstants = getPublicConstants(context);\n\n\tconst p1 = performance.now();\n\n\tconst idCount = { idCount: 0 };\n\n\tconst { minX, maxX, minY, maxY } = getMinMaxXY(\n\t\tcontext,\n\t\taffectedItems,\n\t\tresizedRightX,\n\t\tresizedBottomY,\n\t\tundefined,\n\t\tundefined\n\t);\n\n\t// last element is moved or resized item;\n\tlet itemsToArrange = new Array(affectedItems.length - 1);\n\tlet iToALen = affectedItems.length - 1;\n\tfor (let i = 0; i < iToALen; i++) {\n\t\titemsToArrange[i] = affectedItems[i];\n\t}\n\n\tconst workSpaceRectCo = {\n\t\ttl: { x: 0, y: minY },\n\t\ttr: { x: privateConstants.WIDTH, y: minY },\n\t\tbr: { x: privateConstants.WIDTH, y: maxY },\n\t\tbl: { x: 0, y: maxY },\n\t};\n\n\tconst combinedWorkSpaceRectCo = {\n\t\ttl: { ...workSpaceRectCo.tl },\n\t\ttr: { ...workSpaceRectCo.tr },\n\t\tbr: { ...workSpaceRectCo.br },\n\t\tbl: { ...workSpaceRectCo.bl },\n\t};\n\n\tconst { topWorkSpaceCo, bottomWorkSpaceCo } = getTopBottomWS(\n\t\tcontext,\n\t\tworkSpaceRectCo,\n\t\t0,\n\t\tprivateConstants.WIDTH\n\t);\n\tconst shrinkRes = shrinkTopBottomWS(\n\t\tcontext,\n\t\ttopWorkSpaceCo,\n\t\tbottomWorkSpaceCo\n\t);\n\n\tif (shrinkRes.integrateTop) {\n\t\tcombinedWorkSpaceRectCo.tl = { ...topWorkSpaceCo.tl };\n\t\tcombinedWorkSpaceRectCo.tr = { ...topWorkSpaceCo.tr };\n\t}\n\tif (shrinkRes.integrateBottom) {\n\t\tcombinedWorkSpaceRectCo.br = { ...bottomWorkSpaceCo.br };\n\t\tcombinedWorkSpaceRectCo.bl = { ...bottomWorkSpaceCo.bl };\n\t}\n\n\tconst _workSpaceRectCo = {\n\t\t// can safely do these operations\n\t\t// work space width should be greather than or equal to \"DEFINED_MIN_HEIGHT_AND_WIDTH + (MARGIN * 2)\"\n\t\t// minX - privateConstants.MARGIN\n\t\t// maxX + privateConstants.MARGIN\n\t\t// above two operations are already done in getMinMaxXY\n\t\ttl: { x: minX, y: minY },\n\t\ttr: { x: maxX, y: minY },\n\t\tbr: { x: maxX, y: maxY },\n\t\tbl: { x: minX, y: maxY },\n\t};\n\n\tconst _combinedWorkSpaceRectCo = {\n\t\ttl: { ..._workSpaceRectCo.tl },\n\t\ttr: { ..._workSpaceRectCo.tr },\n\t\tbr: { ..._workSpaceRectCo.br },\n\t\tbl: { ..._workSpaceRectCo.bl },\n\t};\n\n\tconst {\n\t\ttopWorkSpaceCo: _topWorkSpaceCo,\n\t\tbottomWorkSpaceCo: _bottomWorkSpaceCo,\n\t} = getTopBottomWS(\n\t\tcontext,\n\t\t_workSpaceRectCo,\n\t\tminX - privateConstants.MARGIN,\n\t\tmaxX + privateConstants.MARGIN\n\t);\n\n\tconst _shrinkRes = shrinkTopBottomWS(context, _topWorkSpaceCo);\n\n\tif (_shrinkRes.integrateTop) {\n\t\t_combinedWorkSpaceRectCo.tl = { ..._topWorkSpaceCo.tl };\n\t\t_combinedWorkSpaceRectCo.tr = { ..._topWorkSpaceCo.tr };\n\t}\n\tif (_bottomWorkSpaceCo) {\n\t\t_combinedWorkSpaceRectCo.br = { ..._bottomWorkSpaceCo.br };\n\t\t_combinedWorkSpaceRectCo.bl = { ..._bottomWorkSpaceCo.bl };\n\t}\n\n\tconst combinedWorkSpaceRect = getRectObjectFromCo(combinedWorkSpaceRectCo);\n\tlet itemsInCombinedWorkSpace = getItemsInWorkSpace(\n\t\tcontext,\n\t\tcombinedWorkSpaceRect\n\t);\n\n\tlet _combinedWorkSpaceRect = getRectObjectFromCo(_combinedWorkSpaceRectCo);\n\n\tconst incrementHeight = privateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH * 2;\n\n\tlet passCount = 0;\n\tlet arranged = {};\n\tlet arrangedCount = 0;\n\tlet workSpaceResizeCount = 0;\n\n\twhile (arrangedCount !== iToALen) {\n\t\tlet freeRectsItY;\n\t\tif (passCount === 0) {\n\t\t\t// sort items in workspace by lt.x  i.e horizontally\n\t\t\titemsInCombinedWorkSpace.sort((a, b) => a.x - b.x);\n\n\t\t\tconst { it: _freeRectsItY, idCount: lastId1 } = sweepLine(\n\t\t\t\tcontext,\n\t\t\t\tcombinedWorkSpaceRect,\n\t\t\t\tcombinedWorkSpaceRectCo,\n\t\t\t\titemsInCombinedWorkSpace,\n\t\t\t\tidCount.idCount\n\t\t\t);\n\t\t\tfreeRectsItY = _freeRectsItY;\n\t\t\tidCount.idCount = lastId1;\n\t\t} else if (passCount === 1) {\n\t\t\tconst {\n\t\t\t\titemsInWorkSpace: _itemsInCombinedWorkSpace,\n\t\t\t\tupdatedItemsToArrange,\n\t\t\t} = getResizeWSItemsDetail(\n\t\t\t\tcontext,\n\t\t\t\t_workSpaceRectCo,\n\t\t\t\t_topWorkSpaceCo,\n\t\t\t\t_bottomWorkSpaceCo,\n\t\t\t\t_combinedWorkSpaceRectCo,\n\t\t\t\tarranged,\n\t\t\t\titemsToArrange\n\t\t\t);\n\t\t\titemsInCombinedWorkSpace = _itemsInCombinedWorkSpace;\n\t\t\titemsToArrange = updatedItemsToArrange;\n\t\t\tiToALen = updatedItemsToArrange.length + arrangedCount;\n\t\t\tpassCount++;\n\t\t\tcontinue;\n\t\t} else if (passCount >= 2) {\n\t\t\t// sort items in workspace by lt.x  i.e horizontally\n\t\t\titemsInCombinedWorkSpace.sort((a, b) => a.x - b.x);\n\n\t\t\tconst { it: _freeRectsItY, idCount: lastId1 } = sweepLine(\n\t\t\t\tcontext,\n\t\t\t\t_combinedWorkSpaceRect,\n\t\t\t\t_combinedWorkSpaceRectCo,\n\t\t\t\titemsInCombinedWorkSpace,\n\t\t\t\tidCount.idCount\n\t\t\t);\n\t\t\tfreeRectsItY = _freeRectsItY;\n\t\t\tidCount.idCount = lastId1;\n\t\t}\n\n\t\tconst freeRectsArr = freeRectsItY.getSortedData();\n\t\tshuffle(freeRectsArr);\n\n\t\tassignAdjacentRects(freeRectsItY);\n\n\t\t// DEBUG:\n\t\t// printUnmergedFreeRects(\n\t\t// \tcontext,\n\t\t// \tfreeRectsArr.map((o) => o.d)\n\t\t// );\n\n\t\tconst { mergedRects, idCount: lastId2 } = await mergeFreeRects(\n\t\t\tfreeRectsArr,\n\t\t\tidCount.idCount\n\t\t);\n\t\tidCount.idCount = lastId2;\n\n\t\t// DEBUG:\n\t\t// printMergedFreeRects(\n\t\t// \tcontext,\n\t\t// \tmergedRects.map((o) => o.d)\n\t\t// );\n\n\t\tconst { overlappedRects } = findOverlapped(mergedRects);\n\n\t\t// DEBUG:\n\t\t// printMergedFreeRects(\n\t\t// \tcontext,\n\t\t// \toverlappedRects.map((o) => o.d)\n\t\t// );\n\n\t\tconst { arranged: _arranged, idCount: lastId3 } = await arrange(\n\t\t\tcontext,\n\t\t\titemsToArrange.filter((id) => !arranged[id]),\n\t\t\toverlappedRects,\n\t\t\tgetRectObjectFromCo(topWorkSpaceCo),\n\t\t\tgetRectObjectFromCo(bottomWorkSpaceCo),\n\t\t\tpassCount === 0 ? combinedWorkSpaceRectCo : _combinedWorkSpaceRectCo,\n\t\t\tidCount.idCount\n\t\t);\n\t\tidCount.idCount = lastId3;\n\n\t\tarranged = { ...arranged, ..._arranged };\n\t\tconst _arrangedArr = Object.values(_arranged);\n\t\titemsInCombinedWorkSpace = [...itemsInCombinedWorkSpace, ..._arrangedArr];\n\n\t\tarrangedCount += _arrangedArr.length;\n\n\t\tif (arrangedCount !== iToALen && passCount >= 2) {\n\t\t\t// resize combined workSpace\n\t\t\tworkSpaceResizeCount++;\n\t\t\tconsole.log(\"workSpaceResizeCount\", workSpaceResizeCount);\n\n\t\t\t_combinedWorkSpaceRectCo.br.y += incrementHeight;\n\t\t\t_combinedWorkSpaceRectCo.bl.y += incrementHeight;\n\t\t\t_combinedWorkSpaceRect = getRectObjectFromCo(_combinedWorkSpaceRectCo);\n\t\t}\n\n\t\tpassCount++;\n\n\t\tif (passCount > 50) {\n\t\t\tthrow \"Arrange time out\";\n\t\t}\n\t}\n\n\tconst p2 = performance.now();\n\tconsole.log(\"p1: \", p1);\n\tconsole.log(\"p2: \", p2);\n\tconsole.log(\"arrange total: \", p2 - p1);\n\n\treturn arranged;\n};\n\nexport const arrangeFromHeight = async (context, itemsToArrange, height) => {\n\tconst privateConstants = getPrivateConstants(context);\n\tconst publicConstants = getPublicConstants(context);\n\n\tconst p1 = performance.now();\n\n\tconst idCount = { idCount: 0 };\n\n\tconst minX = 0;\n\tconst maxX = privateConstants.WIDTH;\n\tconst minY = height;\n\tconst maxY = height + privateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH;\n\n\tconst iToALen = itemsToArrange.length;\n\n\tconst workSpaceRectCo = {\n\t\ttl: { x: minX, y: minY },\n\t\ttr: { x: maxX, y: minY },\n\t\tbr: { x: maxX, y: maxY },\n\t\tbl: { x: minX, y: maxY },\n\t};\n\n\tconst combinedWorkSpaceRectCo = {\n\t\ttl: { ...workSpaceRectCo.tl },\n\t\ttr: { ...workSpaceRectCo.tr },\n\t\tbr: { ...workSpaceRectCo.br },\n\t\tbl: { ...workSpaceRectCo.bl },\n\t};\n\n\tconst { topWorkSpaceCo } = getTopBottomWS(\n\t\tcontext,\n\t\tworkSpaceRectCo,\n\t\t0,\n\t\tprivateConstants.WIDTH\n\t);\n\tconst shrinkRes = shrinkTopBottomWS(context, topWorkSpaceCo);\n\n\tif (shrinkRes.integrateTop) {\n\t\tcombinedWorkSpaceRectCo.tl = { ...topWorkSpaceCo.tl };\n\t\tcombinedWorkSpaceRectCo.tr = { ...topWorkSpaceCo.tr };\n\t}\n\n\tlet combinedWorkSpaceRect = getRectObjectFromCo(combinedWorkSpaceRectCo);\n\tlet itemsInCombinedWorkSpace = getItemsInWorkSpace(\n\t\tcontext,\n\t\tcombinedWorkSpaceRect\n\t);\n\n\tconst shiftHeight =\n\t\tprivateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH -\n\t\tprivateConstants.MARGIN * 2 -\n\t\t10;\n\n\tlet passCount = 0;\n\tlet arranged = {};\n\tlet arrangedCount = 0;\n\tlet workSpaceResizeCount = 0;\n\n\twhile (arrangedCount !== iToALen) {\n\t\t// sort items in workspace by lt.x  i.e horizontally\n\t\titemsInCombinedWorkSpace.sort((a, b) => a.x - b.x);\n\n\t\tconst { it: freeRectsItY, idCount: lastId1 } = sweepLine(\n\t\t\tcontext,\n\t\t\tcombinedWorkSpaceRect,\n\t\t\tcombinedWorkSpaceRectCo,\n\t\t\titemsInCombinedWorkSpace,\n\t\t\tidCount.idCount\n\t\t);\n\t\tidCount.idCount = lastId1;\n\n\t\tconst freeRectsArr = freeRectsItY.getSortedData();\n\t\tshuffle(freeRectsArr);\n\n\t\tassignAdjacentRects(freeRectsItY);\n\n\t\t// DEBUG:\n\t\t// printUnmergedFreeRects(context, freeRectsArr.map((o) => o.d));\n\n\t\tconst { mergedRects, idCount: lastId2 } = await mergeFreeRects(\n\t\t\tfreeRectsArr,\n\t\t\tidCount.idCount\n\t\t);\n\t\tidCount.idCount = lastId2;\n\n\t\t// DEBUG:\n\t\t// printMergedFreeRects(context, mergedRects.map((o) => o.d));\n\n\t\tconst { overlappedRects } = findOverlapped(mergedRects);\n\n\t\t// DEBUG:\n\t\t// printMergedFreeRects(context, overlappedRects.map((o) => o.d));\n\n\t\tconst { arranged: _arranged, idCount: lastId3 } = await arrange(\n\t\t\tcontext,\n\t\t\titemsToArrange.filter((id) => !arranged[id]),\n\t\t\toverlappedRects,\n\t\t\tgetRectObjectFromCo(topWorkSpaceCo),\n\t\t\tundefined,\n\t\t\tcombinedWorkSpaceRectCo,\n\t\t\tidCount.idCount\n\t\t);\n\t\tidCount.idCount = lastId3;\n\n\t\tarranged = { ...arranged, ..._arranged };\n\t\tconst _arrangedArr = Object.values(_arranged);\n\t\titemsInCombinedWorkSpace = [...itemsInCombinedWorkSpace, ..._arrangedArr];\n\n\t\tarrangedCount += _arrangedArr.length;\n\n\t\tif (arrangedCount !== iToALen) {\n\t\t\t// resize workSpace and push bottom workspace down\n\t\t\tworkSpaceResizeCount++;\n\t\t\tconsole.log(\"workSpaceResizeCount\", workSpaceResizeCount);\n\n\t\t\tworkSpaceRectCo.br.y += shiftHeight;\n\t\t\tworkSpaceRectCo.bl.y += shiftHeight;\n\t\t\tcombinedWorkSpaceRectCo.br.y += shiftHeight;\n\t\t\tcombinedWorkSpaceRectCo.bl.y += shiftHeight;\n\n\t\t\tcombinedWorkSpaceRect = getRectObjectFromCo(combinedWorkSpaceRectCo);\n\t\t}\n\n\t\tpassCount++;\n\n\t\tpassCount++;\n\t\tif (passCount > 10000) {\n\t\t\tthrow \"Arrange time out\";\n\t\t}\n\t}\n\n\tconst p2 = performance.now();\n\tconsole.log(\"p1: \", p1);\n\tconsole.log(\"p2: \", p2);\n\tconsole.log(\"arrange total: \", p2 - p1);\n\n\treturn arranged;\n};\n\nexport const shrinkTopBottomWS = (context, topWorkSpace, bottomWorkSpace) => {\n\tlet topWSItems, bottomWSItems;\n\tconst res = { integrateTop: false, integrateBottom: false };\n\tif (topWorkSpace) {\n\t\ttopWSItems = getItemsInWorkSpace(\n\t\t\tcontext,\n\t\t\tgetRectObjectFromCo(topWorkSpace)\n\t\t);\n\t\tconst sweepRes = sweepLineTop(topWorkSpace, topWSItems);\n\n\t\tif (sweepRes < topWorkSpace.bl.y) {\n\t\t\ttopWorkSpace.tl.y = sweepRes;\n\t\t\ttopWorkSpace.tr.y = sweepRes;\n\n\t\t\tres.integrateTop = true;\n\t\t}\n\t}\n\n\tif (bottomWorkSpace) {\n\t\tbottomWSItems = getItemsInWorkSpace(\n\t\t\tcontext,\n\t\t\tgetRectObjectFromCo(bottomWorkSpace)\n\t\t);\n\t\tconst sweepRes = sweepLineBottom(bottomWorkSpace, bottomWSItems);\n\n\t\tif (sweepRes > bottomWorkSpace.tl.y) {\n\t\t\tbottomWorkSpace.bl.y = sweepRes;\n\t\t\tbottomWorkSpace.br.y = sweepRes;\n\n\t\t\tres.integrateBottom = true;\n\t\t}\n\t}\n\n\treturn res;\n};\n\nexport const sweepLineTop = (area, items) => {\n\tconst len = items.length;\n\tconst it = new IntervalTreesIterative();\n\n\tfor (let i = 0; i < len; i++) {\n\t\tit.insert({\n\t\t\tlow: items[i].y,\n\t\t\thigh: items[i].y + items[i].height,\n\t\t\td: {\n\t\t\t\trect: items[i],\n\t\t\t},\n\t\t});\n\t}\n\n\tlet resultPoint = area.bl.y;\n\tlet res, rLen;\n\tlet breakSig = false;\n\n\tfor (let i = 0; i < len; i++) {\n\t\tres = it.findAll({ low: items[i].y + items[i].height, high: area.bl.y });\n\t\trLen = res.length;\n\t\tbreakSig = false;\n\t\tfor (let j = 0; j < rLen; j++) {\n\t\t\tif (\n\t\t\t\tareRectsOnSameYAxisExPath(\n\t\t\t\t\tgetCoordinates(items[i]),\n\t\t\t\t\tgetCoordinates(res[j].d.rect)\n\t\t\t\t) &&\n\t\t\t\t!areRectsIdentical(\n\t\t\t\t\tgetCoordinates(items[i]),\n\t\t\t\t\tgetCoordinates(res[j].d.rect)\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tbreakSig = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (!breakSig && items[i].y + items[i].height < resultPoint) {\n\t\t\tresultPoint = items[i].y + items[i].height;\n\t\t}\n\t}\n\n\treturn resultPoint;\n};\n\nexport const sweepLineBottom = (area, items) => {\n\tconst len = items.length;\n\tconst it = new IntervalTreesIterative();\n\n\tfor (let i = 0; i < len; i++) {\n\t\tit.insert({\n\t\t\tlow: items[i].y,\n\t\t\thigh: items[i].y + items[i].height,\n\t\t\td: {\n\t\t\t\trect: items[i],\n\t\t\t},\n\t\t});\n\t}\n\n\tlet resultPoint = area.tl.y;\n\tlet res, rLen;\n\tlet breakSig = false;\n\tfor (let i = 0; i < len; i++) {\n\t\tres = it.findAll({ low: area.tl.y, high: items[i].y });\n\t\trLen = res.length;\n\t\tbreakSig = false;\n\t\tfor (let j = 0; j < rLen; j++) {\n\t\t\tif (\n\t\t\t\tareRectsOnSameYAxisExPath(\n\t\t\t\t\tgetCoordinates(items[i]),\n\t\t\t\t\tgetCoordinates(res[j].d.rect)\n\t\t\t\t) &&\n\t\t\t\t!areRectsIdentical(\n\t\t\t\t\tgetCoordinates(items[i]),\n\t\t\t\t\tgetCoordinates(res[j].d.rect)\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tbreakSig = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (!breakSig && items[i].y > resultPoint) {\n\t\t\tresultPoint = items[i].y;\n\t\t}\n\t}\n\n\treturn resultPoint;\n};\n\nexport const sweepLine = (context, area, areaCo, items, lastId) => {\n\t// area: area to sweep\n\t// area: area to sweep Coordinate Form\n\t// items: items in area\n\n\tconst privateConstants = getPrivateConstants(context);\n\n\tlet idCount = lastId;\n\n\tconst it = new IntervalTreesIterative();\n\n\tit.insert({\n\t\tlow: areaCo.tl.y,\n\t\thigh: areaCo.bl.y,\n\t\td: { id: idCount++, rect: area, a: {}, o: {}, ref: null },\n\t});\n\n\tlet tempItem;\n\tlet fInterval = { low: 0, high: 0, d: null };\n\tlet intervals;\n\tlet iLen = 0;\n\tlet diff;\n\tlet dLen = 0;\n\n\tconst len = items.length;\n\tfor (let i = 0; i < len; i++) {\n\t\ttempItem = getCoordinates(items[i]);\n\t\tfInterval = { low: tempItem.tl.y, high: tempItem.bl.y };\n\t\tintervals = it.findAll(fInterval);\n\t\tiLen = intervals.length;\n\t\tfor (let j = 0; j < iLen; j++) {\n\t\t\tif (\n\t\t\t\tdoRectsOverlap(\n\t\t\t\t\tintervals[j].d.rect,\n\t\t\t\t\tgetItemDimenWithMargin(privateConstants.MARGIN, items[i])\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tdiff = subtractRect(\n\t\t\t\t\tintervals[j].d.rect,\n\t\t\t\t\tgetItemDimenWithMargin(privateConstants.MARGIN, items[i]),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\n\t\t\t\tdLen = diff.length;\n\t\t\t\tfor (let k = 0; k < dLen; k++) {\n\t\t\t\t\tit.insert({\n\t\t\t\t\t\tlow: diff[k].tl.y,\n\t\t\t\t\t\thigh: diff[k].bl.y,\n\t\t\t\t\t\td: {\n\t\t\t\t\t\t\tid: idCount++,\n\t\t\t\t\t\t\trect: getRectObjectFromCo(diff[k]),\n\t\t\t\t\t\t\ta: {},\n\t\t\t\t\t\t\to: {},\n\t\t\t\t\t\t\tref: null,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tit.remove(intervals[j].interval, intervals[j].d);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { it, idCount };\n};\n\nexport const assignAdjacentRects = (rectsItY) => {\n\tconst rectItYArr = rectsItY.getSortedData();\n\n\tconst len = rectItYArr.length;\n\tlet resY, lenY;\n\n\tfor (let i = 0; i < len; i++) {\n\t\tresY = rectsItY.findAll(rectItYArr[i].interval);\n\t\tlenY = resY.length;\n\t\tfor (let j = 0; j < lenY; j++) {\n\t\t\tif (areRectsAdjacent(rectItYArr[i].d.rect, resY[j].d.rect)) {\n\t\t\t\trectItYArr[i].d.a[resY[j].d.id] = resY[j];\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const mergeFreeRects = async (freeRectsArr, lastId) => {\n\tconst stack = new Stack();\n\tconst stackIt = new IntervalTreesIterative();\n\tconst resultStack = new Stack();\n\tconst resultIt = new IntervalTreesIterative();\n\n\tlet adjacents,\n\t\tadj,\n\t\ttop,\n\t\tkeys,\n\t\tkeyslen,\n\t\tmergedObject,\n\t\tmergedRect,\n\t\tmergedRects,\n\t\tmergeRectsLen;\n\tlet atLeastOneFullMerge = false;\n\tlet idCount = lastId;\n\tconst freeRectsLen = freeRectsArr.length;\n\n\tfor (let k = 0; k < freeRectsLen; k++) {\n\t\tif (freeRectsArr[k].d.ref !== null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tstack.push(freeRectsArr[k]);\n\t\twhile (!stack.isEmpty()) {\n\t\t\ttop = stack.pop();\n\n\t\t\tkeys = Object.keys(top.d.a);\n\t\t\tkeyslen = keys.length;\n\t\t\tatLeastOneFullMerge = false;\n\t\t\tfor (let i = 0; i < keyslen; i++) {\n\t\t\t\tif (!top.d.a[keys[i]]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tadj = top.d.a[keys[i]];\n\n\t\t\t\twhile (adj?.d?.ref) {\n\t\t\t\t\tadj = adj.d.ref;\n\t\t\t\t}\n\n\t\t\t\tmergedRects = mergeRects(top.d.rect, adj.d.rect);\n\t\t\t\tmergeRectsLen = mergedRects?.length || 0;\n\t\t\t\tif (mergeRectsLen === 1) {\n\t\t\t\t\tmergedRect = mergedRects[0];\n\n\t\t\t\t\tif (mergedRect) {\n\t\t\t\t\t\tadjacents = { ...top.d.a, ...adj.d.a };\n\t\t\t\t\t\tdelete adjacents[top.d.id];\n\t\t\t\t\t\tdelete adjacents[adj.d.id];\n\n\t\t\t\t\t\tmergedObject = {\n\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\tid: idCount++,\n\t\t\t\t\t\t\t\trect: mergedRect,\n\t\t\t\t\t\t\t\ta: adjacents,\n\t\t\t\t\t\t\t\to: {},\n\t\t\t\t\t\t\t\tref: null,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tfilterAdjacents(mergedObject);\n\t\t\t\t\t\tif (!isRectIdenticalOrInside(stackIt, mergedObject)) {\n\t\t\t\t\t\t\tstack.push(mergedObject);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (isRectInside(mergedRect, adj.d.rect)) {\n\t\t\t\t\t\t\tadj.d.ref = mergedObject;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (isRectInside(mergedRect, top.d.rect)) {\n\t\t\t\t\t\t\ttop.d.ref = mergedObject;\n\t\t\t\t\t\t\tatLeastOneFullMerge = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!atLeastOneFullMerge) {\n\t\t\t\tisRectIdenticalOrInside(resultIt, top);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { mergedRects: resultIt.getSortedData(), idCount };\n};\n\nexport const isRectIdenticalOrInside = (it, obj) => {\n\tconst res = it.findAll({\n\t\tlow: obj.d.rect.y,\n\t\thigh: obj.d.rect.y + obj.d.rect.height,\n\t});\n\n\tlet isIdenticalOrInside = false;\n\tconst len = res?.length || 0;\n\tfor (let i = 0; i < len; i++) {\n\t\tif (\n\t\t\tareRectsIdentical(\n\t\t\t\tgetCoordinates(obj.d.rect),\n\t\t\t\tgetCoordinates(res[i].d.rect)\n\t\t\t) ||\n\t\t\tisRectInside(res[i].d.rect, obj.d.rect)\n\t\t) {\n\t\t\tisIdenticalOrInside = true;\n\t\t}\n\t}\n\n\tif (!isIdenticalOrInside) {\n\t\tit.insert({\n\t\t\tlow: obj.d.rect.y,\n\t\t\thigh: obj.d.rect.y + obj.d.rect.height,\n\t\t\td: obj.d,\n\t\t});\n\t}\n\n\treturn isIdenticalOrInside;\n};\n\nexport const filterAdjacents = (mergedObject, visited) => {\n\tconst mergedRect = mergedObject.d.rect;\n\tconst adjs = mergedObject.d.a;\n\tlet adj;\n\tconst adjsKeys = Object.keys(adjs);\n\tconst adjsKeysLen = adjsKeys.length;\n\tfor (let j = 0; j < adjsKeysLen; j++) {\n\t\tadj = adjs[adjsKeys[j]];\n\n\t\tif (!areRectsAdjacent(mergedRect, adj.d.rect)) {\n\t\t\tdelete adjs[adjsKeys[j]];\n\t\t}\n\t}\n};\n\nexport const findOverlapped = (mergedRects) => {\n\tconst it = new IntervalTreesIterative();\n\n\tconst len = mergedRects.length;\n\tfor (let i = 0; i < len; i++) {\n\t\tmergedRects[i].low = mergedRects[i].d.rect.y;\n\t\tmergedRects[i].high =\n\t\t\tmergedRects[i].d.rect.y + mergedRects[i].d.rect.height;\n\t\tit.insert(mergedRects[i]);\n\t}\n\n\tconst completeOverlapped = {};\n\tconst itArr = it.getSortedData();\n\n\tlet res, rlen;\n\n\tfor (let i = 0; i < len; i++) {\n\t\tres = it.findAll(itArr[i].interval);\n\t\trlen = res.length;\n\t\tfor (let j = 0; j < rlen; j++) {\n\t\t\tif (\n\t\t\t\titArr[i].d.rect &&\n\t\t\t\tres[j].d.rect &&\n\t\t\t\tisRectInside(itArr[i].d.rect, res[j].d.rect) &&\n\t\t\t\titArr[i].d.id !== res[j].d.id\n\t\t\t) {\n\t\t\t\tcompleteOverlapped[res[j].d.id] = res[j];\n\t\t\t\tres[j].d._rect = res[j].d.rect;\n\t\t\t\tres[j].d.rect = null;\n\n\t\t\t\tconst olpds = Object.values(res[j].d.o);\n\t\t\t\tconst oLen = olpds.length;\n\t\t\t\tfor (let k = 0; k < oLen; k++) {\n\t\t\t\t\t// Hey everyone I'm done.\n\t\t\t\t\tconst olpd = olpds[k];\n\t\t\t\t\tdelete olpd.d.o[res[j].d.id];\n\t\t\t\t}\n\t\t\t\tres[j].d.o = {};\n\t\t\t} else if (doRectsOverlap(itArr[i].d.rect, res[j].d.rect)) {\n\t\t\t\titArr[i].d.o[res[j].d.id] = res[j];\n\t\t\t\tres[j].d.o[itArr[i].d.id] = itArr[i];\n\t\t\t}\n\t\t}\n\t}\n\n\tconst resArr = new Array(len);\n\tlet count = 0;\n\tfor (let i = 0; i < len; i++) {\n\t\tif (itArr[i].d.rect) {\n\t\t\tresArr[count++] = itArr[i];\n\t\t}\n\t}\n\n\tconst filteredResArr = new Array(count);\n\tfor (let i = 0; i < count; i++) {\n\t\tfilteredResArr[i] = resArr[i];\n\t}\n\n\treturn {\n\t\toverlappedRects: filteredResArr,\n\t\tcompleteOverlapped: Object.values(completeOverlapped),\n\t};\n};\n\n/**\n * [description]\n * @param  {number[]} itemsToArrange          Array of items to arrange\n * @param  {object[]} overlappedRects         Array of overlapping rects\n * @param  {object} topWorkSpace            Top work space object in object form\n * @param  {object} bottomWorkSpace         Bottom work space object in object form\n * @param  {object} combinedWorkSpaceRectCo combined work space object in object form\n * @param  {number} lastId                  next id available\n * @return {object}                         arranged{object}: key is index in position data array, value is the object; itemsInbottomworkSpace{object}: key is index in position data array, value is also the index; idCount: next available id\n */\nexport const arrange = async (\n\tcontext,\n\titemsToArrange,\n\toverlappedRects,\n\ttopWorkSpace,\n\tbottomWorkSpace,\n\tcombinedWorkSpaceRectCo,\n\tlastId\n) => {\n\t// this function updates the modified position data\n\t// so no need to update the modified position data later\n\n\tconst mpd = getModifiedPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tlet idCount = lastId;\n\tconst arranged = {};\n\tconst itemsInBottomWorkSpace = {};\n\n\t// construct closest bst\n\tshuffle(overlappedRects);\n\tconst wCBST = new ClosestBST();\n\tconst orLen = overlappedRects.length;\n\tfor (let i = 0; i < orLen; i++) {\n\t\twCBST.insert({\n\t\t\tv: overlappedRects[i].d.rect.width,\n\t\t\td: overlappedRects[i].d,\n\t\t});\n\t}\n\n\tconst iToALen = itemsToArrange.length;\n\n\tconst itemsToArrangeStack = new Stack();\n\tconst itemsToArrangeLaterStack = new Stack();\n\n\tconst itemsToArrangeWithScore = getItemsToArrangeScore(\n\t\tcontext,\n\t\titemsToArrange\n\t);\n\tfor (let i = 0; i < iToALen; i++) {\n\t\titemsToArrangeStack.push(itemsToArrangeWithScore[i]);\n\t}\n\n\tlet top;\n\tlet aItem;\n\tlet wCBSTRes;\n\n\twhile (!itemsToArrangeStack.isEmpty()) {\n\t\ttop = itemsToArrangeStack.pop();\n\n\t\taItem = mpd[top.d];\n\n\t\twCBSTRes = wCBST.findUsingComparator(\n\t\t\tcBSTRectComparator(\n\t\t\t\tgetItemDimenWithMargin(privateConstants.MARGIN, aItem)\n\t\t\t),\n\t\t\tcBSTLComp(aItem.width),\n\t\t\tcBSTRComp\n\t\t);\n\n\t\tif (!wCBSTRes.length) {\n\t\t\titemsToArrangeLaterStack.push(top);\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst pm = getPerfectMatch(wCBSTRes, aItem.width + aItem.height);\n\n\t\taItem.x = pm.d.rect.x + privateConstants.MARGIN;\n\t\taItem.y = pm.d.rect.y + privateConstants.MARGIN;\n\n\t\tarranged[top.d] = aItem;\n\n\t\tif (bottomWorkSpace && isRectInside(bottomWorkSpace, pm.d.rect)) {\n\t\t\t// put in bottom and combined workspace\n\t\t\titemsInBottomWorkSpace[top.d] = top.d;\n\t\t}\n\n\t\t// DEBUG:\n\t\t// printMergedFreeRects(context, wCBST.getSortedData().map((o) => o.d));\n\n\t\tconst { result, idCount: lastId1 } = await arrangeCleanUp(\n\t\t\tcontext,\n\t\t\taItem,\n\t\t\tpm,\n\t\t\twCBST,\n\t\t\tidCount\n\t\t);\n\t\tidCount = lastId1;\n\n\t\tconst resLen = result.length;\n\t\tfor (let i = 0; i < resLen; i++) {\n\t\t\tresult[i].v = result[i].d.rect.width;\n\t\t\twCBST.insert(result[i]);\n\t\t}\n\t\t// DEBUG:\n\t\t// printMergedFreeRects(context, wCBST.getSortedData().map((o) => o.d));\n\t}\n\n\treturn {\n\t\tarranged,\n\t\titemsInBottomWorkSpace,\n\t\tidCount,\n\t};\n};\n\nexport const arrangeCleanUp = async (context, aItem, pm, wCBST, lastId) => {\n\tconst privateConstants = getPrivateConstants(context);\n\n\tlet idCount = lastId;\n\tlet diff;\n\tlet diffLen;\n\tlet diffObj;\n\n\t// overlapped\n\tlet olpd;\n\t// indirect operlapped\n\tlet iolpd;\n\t// indirect overlapping keys\n\tlet ioKeys;\n\tlet ioKeysLen;\n\n\tconst indirectOverlaps = {};\n\n\tconst diffStack = new Stack();\n\n\tconst itemWithMargins = {\n\t\tx: aItem.x - privateConstants.MARGIN,\n\t\ty: aItem.y - privateConstants.MARGIN,\n\t\twidth: aItem.width + privateConstants.MARGIN * 2,\n\t\theight: aItem.height + privateConstants.MARGIN * 2,\n\t};\n\twCBST.remove(pm.v, pm.d);\n\n\tdiff = subtractRect(pm.d.rect, itemWithMargins);\n\tdiffLen = diff?.length || 0;\n\tfor (let i = 0; i < diffLen; i++) {\n\t\tdiffObj = {\n\t\t\tv: diff[i].width,\n\t\t\td: {\n\t\t\t\tid: idCount++,\n\t\t\t\trect: diff[i],\n\t\t\t\ta: {},\n\t\t\t\to: {},\n\t\t\t\tref: null,\n\t\t\t},\n\t\t};\n\n\t\tdiffStack.push(diffObj);\n\t}\n\n\tlet subtractFlag = false;\n\tconst directOverlaps = { ...pm.d.o };\n\tconst pmOlps = Object.values(pm.d.o);\n\tconst pmOlapsLen = pmOlps.length;\n\tfor (let j = 0; j < pmOlapsLen; j++) {\n\t\tolpd = pmOlps[j];\n\t\tdelete olpd.d.o[pm.d.id];\n\n\t\t// if diffLen is 0, this overlapping rect will be put back later after operations\n\t\twCBST.remove(olpd.d.rect.width, olpd.d);\n\n\t\tsubtractFlag = false;\n\t\tif (doRectsOverlap(olpd.d.rect, itemWithMargins)) {\n\t\t\tsubtractFlag = true;\n\t\t\tdiff = subtractRect(olpd.d.rect, itemWithMargins);\n\t\t\tdiffLen = diff?.length || 0;\n\n\t\t\tif (diffLen) {\n\t\t\t\tfor (let k = 0; k < diffLen; k++) {\n\t\t\t\t\tdiffObj = {\n\t\t\t\t\t\tv: diff[k].width,\n\t\t\t\t\t\td: {\n\t\t\t\t\t\t\tid: idCount++,\n\t\t\t\t\t\t\trect: diff[k],\n\t\t\t\t\t\t\ta: {},\n\t\t\t\t\t\t\to: {},\n\t\t\t\t\t\t\tref: null,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\n\t\t\t\t\tdiffStack.push(diffObj);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tdiffStack.push(olpd);\n\t\t\tolpd.d.a = {};\n\t\t}\n\n\t\tioKeys = Object.keys(olpd.d.o);\n\t\tioKeysLen = ioKeys.length;\n\t\tfor (let k = 0; k < ioKeysLen; k++) {\n\t\t\tiolpd = olpd.d.o[ioKeys[k]];\n\t\t\tif (!directOverlaps[ioKeys[k]]) {\n\t\t\t\tindirectOverlaps[ioKeys[k]] = iolpd;\n\t\t\t}\n\t\t\tif (subtractFlag) {\n\t\t\t\tdelete iolpd.d.o[olpd.d.id];\n\t\t\t}\n\t\t}\n\t}\n\n\t// now merge the rects in diff stack and put the merged rects in wCBST tree\n\t// printUnmergedFreeRects(context, diffStack.getData().map((o) => o.d));\n\tconst diffStackData = diffStack.getData();\n\tconst diffStackDataLen = diffStackData.length;\n\tconst it = new IntervalTreesIterative();\n\tfor (let i = 0; i < diffStackDataLen; i++) {\n\t\tit.insert({\n\t\t\tlow: diffStackData[i].d.rect.y,\n\t\t\thigh: diffStackData[i].d.rect.y + diffStackData[i].d.rect.height,\n\t\t\td: diffStackData[i].d,\n\t\t});\n\t}\n\n\tassignAdjacentRects(it);\n\tconst { mergedRects, idCount: lastId1 } = await mergeFreeRects(\n\t\tdiffStack.getData(),\n\t\tidCount\n\t);\n\n\tconst {\n\t\toverlappedRects: _overlappedRects,\n\t\tcompleteOverlapped,\n\t} = findOverlapped([...mergedRects, ...Object.values(indirectOverlaps)]);\n\n\tconst completeOverlappedLen = completeOverlapped.length;\n\tfor (let i = 0; i < completeOverlappedLen; i++) {\n\t\twCBST.remove(completeOverlapped[i].d._rect.width, completeOverlapped[i].d);\n\t}\n\n\tconst _overlappedRectsLen = _overlappedRects.length;\n\tconst overlappedRects = new Array(_overlappedRectsLen);\n\tlet count = 0;\n\tfor (let i = 0; i < _overlappedRectsLen; i++) {\n\t\tif (!indirectOverlaps[_overlappedRects[i].d.id]) {\n\t\t\toverlappedRects[count++] = _overlappedRects[i];\n\t\t}\n\t}\n\n\tconst filteredOverlappedRects = filter(overlappedRects);\n\n\t// printMergedFreeRects(context, filteredOverlappedRects.map((o) => o.d));\n\n\treturn { result: filteredOverlappedRects, idCount: lastId1 };\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport { isValidRectCoForm, getCoordinates } from \"../rect/rectUtils\";\nimport { getItemDimenWithMargin } from \"../arrange/arrangeUtils\";\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport { getPositionData } from \"../../store/variables/essentials\";\n\nexport const checkPositionData = (pd) => {\n\tif (Array.isArray(pd)) {\n\t\tconst len = pd.length;\n\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tif (\n\t\t\t\t!pd[i] ||\n\t\t\t\tisNaN(pd[i].x) ||\n\t\t\t\tpd[i].x < 0 ||\n\t\t\t\tisNaN(pd[i].y) ||\n\t\t\t\tpd[i].y < 0 ||\n\t\t\t\tisNaN(pd[i].height) ||\n\t\t\t\tpd[i].height <= 0 ||\n\t\t\t\tisNaN(pd[i].width) ||\n\t\t\t\tpd[i].width <= 0\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!isValidRectCoForm(getCoordinates(pd[i]))) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\treturn false;\n};\n\nexport const getPdBottomMax = (context) => {\n\tconst pd = getPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tlet max = privateConstants.MARGIN;\n\tlet item;\n\tconst len = pd.length;\n\n\tfor (let i = 0; i < len; i++) {\n\t\titem = getItemDimenWithMargin(privateConstants.MARGIN, pd[i]);\n\t\tif (item.y + item.height > max) {\n\t\t\tmax = item.y + item.height;\n\t\t}\n\t}\n\n\treturn max;\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport getOptions from \"../../store/variables/options\";\nimport getElements, {\n\tset$limberGridViewItems,\n} from \"../../store/variables/elements\";\nimport {\n\tgetPositionData,\n\tsetPositionData,\n\tgetModifiedPositionData,\n\tsetModifiedPositionData,\n\tgetCallbacks,\n} from \"../../store/variables/essentials\";\nimport { isMobile } from \"../utils/utils\";\n\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport getPublicConstants from \"../../store/constants/publicConstants\";\nimport {\n\tinitializeEvents,\n\tunInitializeEvents,\n\tinitializeVariables,\n} from \"../eventHandlerLib/initializers\";\nimport { addItemAllowCheck } from \"../arrange/arrangeUtils\";\nimport { arrangeFromHeight } from \"../arrange/arrange\";\nimport { getPdBottomMax } from \"./rendererUtils\";\n\nexport const render = function (context, scale = true) {\n\tconst options = getOptions(context);\n\tconst pd = getPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\tconst publicConstants = getPublicConstants(context);\n\tconst e = getElements(context);\n\tconst callbacks = getCallbacks(context);\n\n\tunInitializeEvents.call(context);\n\n\tconst len = pd.length;\n\n\tlet WIDTH_SCALE_FACTOR = 1;\n\tif (scale) {\n\t\tWIDTH_SCALE_FACTOR = privateConstants.WIDTH_SCALE_FACTOR;\n\t}\n\n\tconst nodes = new Array(len);\n\n\tif (!isMobile(context)) {\n\t\tlet classList = \"limber-grid-view-item\";\n\t\tif (options.editable === true) {\n\t\t\tclassList = \"limber-grid-view-item limber-grid-view-item-editable\";\n\t\t}\n\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tpd[i].x *= WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].y *= WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].width *= WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].height *= WIDTH_SCALE_FACTOR;\n\n\t\t\tconst itemEl = document.createElement(\"div\");\n\t\t\titemEl.setAttribute(\"class\", classList);\n\t\t\titemEl.setAttribute(\"data-index\", i);\n\t\t\titemEl.style.transform = `translate(${pd[i].x}px, ${pd[i].y}px)`;\n\t\t\titemEl.style.width = pd[i].width;\n\t\t\titemEl.style.height = pd[i].height;\n\n\t\t\tconst renderData = callbacks.renderContent(i, pd[i].width, pd[i].height);\n\t\t\tif (typeof renderData === \"string\") {\n\t\t\t\titemEl.innerHTML = renderData;\n\t\t\t} else if (renderData instanceof Element) {\n\t\t\t\titemEl.appendChild(renderData);\n\t\t\t} else {\n\t\t\t\tthrow \"Invalid render data received\";\n\t\t\t}\n\n\t\t\tnodes[i] = itemEl;\n\t\t}\n\t} else {\n\t\tconst classList = \"limber-grid-view-item limber-grid-view-item-mobile-view\";\n\t\tconst spd = getSerializedPositionData(pd);\n\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tpd[i].x *= WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].y *= WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].width *= WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].height *= WIDTH_SCALE_FACTOR;\n\n\t\t\tspd[i].width = privateConstants.WIDTH;\n\t\t\tspd[i].height =\n\t\t\t\tprivateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO;\n\n\t\t\tconst itemEl = document.createElement(\"div\");\n\t\t\titemEl.setAttribute(\"class\", classList);\n\t\t\titemEl.setAttribute(\"data-index\", spd[i].index);\n\t\t\titemEl.style.width = spd[i].width;\n\t\t\titemEl.style.height = spd[i].height;\n\n\t\t\tconst renderData = callbacks.renderContent(\n\t\t\t\ti,\n\t\t\t\tspd[i].width,\n\t\t\t\tspd[i].height\n\t\t\t);\n\t\t\tif (typeof renderData === \"string\") {\n\t\t\t\titemEl.innerHTML = renderData;\n\t\t\t} else if (renderData instanceof Element) {\n\t\t\t\titemEl.appendChild(renderData);\n\t\t\t} else {\n\t\t\t\tthrow \"Invalid render data received\";\n\t\t\t}\n\n\t\t\tnodes[i] = itemEl;\n\t\t}\n\t}\n\n\t// e.$limberGridView.innerHTML = \"\";\n\tconst itemsLen = e.$limberGridViewItems.length;\n\tfor (let i = 0; i < itemsLen; i++) {\n\t\te.$limberGridView.removeChild(e.$limberGridViewItems[i]);\n\t}\n\n\tfor (let i = 0; i < len; i++) {\n\t\te.$limberGridView.appendChild(nodes[i]);\n\t}\n\n\tset$limberGridViewItems(context, [\n\t\t...e.$limberGridView.getElementsByClassName(\"limber-grid-view-item\"),\n\t]);\n\n\t// initializeVariables();\n\tinitializeEvents.call(context);\n\n\tif (callbacks.renderComplete) {\n\t\tcallbacks.renderComplete();\n\t}\n};\n\nexport const renderItem = function (context, index) {\n\tconst e = getElements(context);\n\tconst callbacks = getCallbacks(context);\n\tconst pd = getPositionData(context);\n\n\tconst renderData = callbacks.renderContent(\n\t\tindex,\n\t\tpd[index].width,\n\t\tpd[index].height\n\t);\n\te.$limberGridViewItems[index].innerHTML = \"\";\n\tif (typeof renderData === \"string\") {\n\t\te.$limberGridViewItems[index].innerHTML = renderData;\n\t} else if (renderData instanceof Element) {\n\t\te.$limberGridViewItems[index].appendChild(renderData);\n\t} else {\n\t\tthrow \"Invalid render data received\";\n\t}\n\n\tif (callbacks.renderComplete) {\n\t\tcallbacks.renderComplete(index);\n\t}\n};\n\nexport const addItem = async function (context, item) {\n\tconst options = getOptions(context);\n\tconst e = getElements(context);\n\tconst callbacks = getCallbacks(context);\n\tconst privateConstants = getPrivateConstants(context);\n\tconst publicConstants = getPublicConstants(context);\n\n\tunInitializeEvents.call(context);\n\n\ttry {\n\t\tlet allow = false;\n\t\tif (item.x && item.y && item.width && item.height) {\n\t\t\tallow = addItemAllowCheck(\n\t\t\t\tcontext,\n\t\t\t\titem.x,\n\t\t\t\titem.y,\n\t\t\t\titem.width,\n\t\t\t\titem.height\n\t\t\t);\n\t\t\tif (allow) {\n\t\t\t\tconst pd = getPositionData(context);\n\t\t\t\tsetModifiedPositionData(context, pd);\n\t\t\t\tconst mpd = getModifiedPositionData(context);\n\t\t\t\tmpd.push(item);\n\t\t\t\tsetPositionData(context, mpd);\n\t\t\t}\n\t\t} else if (item.width && item.height && !item.x && !item.y) {\n\t\t\tconst pd = getPositionData(context);\n\t\t\tsetModifiedPositionData(context, pd);\n\t\t\tconst mpd = getModifiedPositionData(context);\n\n\t\t\tconst bottomY = getPdBottomMax(context);\n\t\t\tmpd.push({\n\t\t\t\tx: undefined,\n\t\t\t\ty: undefined,\n\t\t\t\twidth: item.width,\n\t\t\t\theight: item.height,\n\t\t\t});\n\t\t\tconst arranged = await arrangeFromHeight(\n\t\t\t\tcontext,\n\t\t\t\t[mpd.length - 1],\n\t\t\t\tbottomY\n\t\t\t);\n\t\t\tsetPositionData(context, mpd);\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst pd = getPositionData(context);\n\t\tconst len = pd.length;\n\t\tconst index = len - 1;\n\n\t\tconst itemEl = document.createElement(\"div\");\n\t\tif (!isMobile(context)) {\n\t\t\tlet classList = \"limber-grid-view-item\";\n\t\t\tif (options.editable === true) {\n\t\t\t\tclassList = \"limber-grid-view-item limber-grid-view-item-editable\";\n\t\t\t}\n\n\t\t\titemEl.setAttribute(\"class\", classList);\n\t\t\titemEl.setAttribute(\"data-index\", index);\n\t\t\titemEl.style.transform = `translate(${pd[index].x}px, ${pd[index].y}px)`;\n\t\t\titemEl.style.width = pd[index].width;\n\t\t\titemEl.style.height = pd[index].height;\n\n\t\t\tcallbacks.renderContent(\n\t\t\t\tindex,\n\t\t\t\tpd[index].width,\n\t\t\t\tpd[index].height,\n\t\t\t\t\"isAdd\"\n\t\t\t);\n\t\t} else {\n\t\t\tconst classList =\n\t\t\t\t\"limber-grid-view-item limber-grid-view-item-mobile-view\";\n\n\t\t\titemEl.setAttribute(\"class\", classList);\n\t\t\titemEl.setAttribute(\"data-index\", index);\n\t\t\titemEl.style.width = privateConstants.WIDTH;\n\t\t\titemEl.style.height =\n\t\t\t\tprivateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO;\n\n\t\t\tcallbacks.renderContent(\n\t\t\t\tindex,\n\t\t\t\tprivateConstants.WIDTH,\n\t\t\t\tprivateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO,\n\t\t\t\t\"isAdd\"\n\t\t\t);\n\t\t}\n\n\t\te.$limberGridView.appendChild(itemEl);\n\n\t\tset$limberGridViewItems(context, [\n\t\t\t...e.$limberGridView.getElementsByClassName(\"limber-grid-view-item\"),\n\t\t]);\n\n\t\tif (callbacks.addComplete) {\n\t\t\tcallbacks.addComplete(index);\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(error);\n\t}\n\n\tinitializeEvents.call(context);\n};\n\nexport const removeItem = function (context, index) {\n\tconst e = getElements(context);\n\tconst callbacks = getCallbacks(context);\n\tconst pd = getPositionData(context);\n\n\tunInitializeEvents.call(context);\n\n\tpd.splice(index, 1);\n\n\te.$limberGridView.removeChild(e.$limberGridViewItems[index]);\n\tset$limberGridViewItems(context, [\n\t\t...e.$limberGridView.getElementsByClassName(\"limber-grid-view-item\"),\n\t]);\n\n\tif (callbacks.removeComplete) {\n\t\tcallbacks.removeComplete(index);\n\t}\n\n\t// initializeVariables();\n\tinitializeEvents.call(context);\n};\n\nexport const getSerializedPositionData = (pd) => {\n\tconst len = pd.length;\n\tconst arr = new Array(len);\n\tfor (let i = 0; i < len; i++) {\n\t\tarr[i] = { ...pd[i] };\n\t\tarr[i].index = i;\n\t}\n\n\treturn arr.sort((a, b) => {\n\t\tif (a.y === b.y) {\n\t\t\treturn a.x - b.x;\n\t\t}\n\t\treturn a.y - b.y;\n\t});\n};\n\n// export const renderPseudoElements = function (_positionData) {\n// \tif (e.$limberGridViewGridPseudoItems != undefined) {\n// \t\tvar length_0 = _positionData.length;\n// \t\tfor (var i = 0; i < length_0; i++) {\n// \t\t\te.$limberGridViewGridPseudoItems[0].parentNode.removeChild(\n// \t\t\t\te.$limberGridViewGridPseudoItems[0]\n// \t\t\t);\n// \t\t}\n// \t\te.$limberGridViewGridPseudoItems = undefined;\n// \t\tset$limberGridViewBodyPseudoItems(undefined);\n// \t}\n\n// \tvar gridHtml = [];\n// \tvar bodyHtml = [];\n\n// \tif (!isMobile()) {\n// \t\tvar length_0 = _positionData.length;\n// \t\tfor (var i = 0; i < length_0; i++) {\n// \t\t\tvar gridFront =\n// \t\t\t\t'<div class = \"limberGridViewGridPseudoItem\" data-index = \"' + i + '\" ';\n// \t\t\tvar bodyFront =\n// \t\t\t\t'<div class = \"limberGridViewBodyPseudoItem\" data-index = \"' + i + '\" ';\n// \t\t\tvar style_1 =\n// \t\t\t\t'style = \"transform : translate(' + _positionData[i].x + \"px, \";\n// \t\t\tvar style_2 = _positionData[i].y + \"px); \";\n// \t\t\tvar style_3 = \"width : \" + _positionData[i].width + \"px; \";\n// \t\t\tvar style_4 = \"height : \" + _positionData[i].height + \"px; \";\n// \t\t\tvar style_5 = '\">';\n\n// \t\t\tvar style = style_1 + style_2 + style_3 + style_4 + style_5;\n\n// \t\t\tvar end = \"</div>\";\n\n// \t\t\tvar gridItem = gridFront + style + end;\n// \t\t\tvar bodyItem = bodyFront + style + end;\n\n// \t\t\tgridHtml.push(gridItem);\n// \t\t\tbodyHtml.push(bodyItem);\n// \t\t}\n// \t} else {\n// \t\tvar length_0 = _positionData.length;\n// \t\tfor (var i = 0; i < length_0; i++) {\n// \t\t\tvar gridFront =\n// \t\t\t\t'<div class = \"limberGridViewGridPseudoItem\" data-index = \"' + i + '\" ';\n// \t\t\tvar bodyFront =\n// \t\t\t\t'<div class = \"limberGridViewBodyPseudoItem\" data-index = \"' + i + '\" ';\n// \t\t\tvar style_1 = 'style = \"transform : translate(' + 0 + \"px, \";\n// \t\t\tvar style_2 =\n// \t\t\t\t(privateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO +\n// \t\t\t\t\tgetMarginAtPoint(serializedPositionData.map[i])) *\n// \t\t\t\t\tserializedPositionData.map[i] +\n// \t\t\t\t\"px); \";\n// \t\t\tvar style_3 = \"width : \" + privateConstants.WIDTH + \"px; \";\n// \t\t\tvar style_4 =\n// \t\t\t\t\"height : \" +\n// \t\t\t\tprivateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO +\n// \t\t\t\t\"px; \";\n// \t\t\tvar style_5 = \"margin : \" + publicConstants.MARGIN + 'px;\">';\n\n// \t\t\tvar style = style_1 + style_2 + style_3 + style_4 + style_5;\n\n// \t\t\tvar end = \"</div>\";\n\n// \t\t\tvar gridItem = gridFront + style + end;\n// \t\t\tvar bodyItem = bodyFront + style + end;\n\n// \t\t\tgridHtml.push(gridItem);\n// \t\t\tbodyHtml.push(bodyItem);\n// \t\t}\n// \t}\n// \tvar limberGridViewMoveGuide = '<div class = \"limberGridViewMoveGuide\"></div>';\n// \tvar limberGridViewHeightAdjustGuide =\n// \t\t'<div class = \"limberGridViewHeightAdjustGuide\"></div>';\n// \tvar limberGridViewAddItemGuide =\n// \t\t'<div class = \"limberGridViewAddItemGuide\"></div>';\n// \tvar limberGridViewAddItemOnTouchHoldGuide =\n// \t\t'<div class = \"limberGridViewAddItemOnTouchHoldGuide\"></div>';\n// \tgridHtml.push(limberGridViewMoveGuide);\n// \tgridHtml.push(limberGridViewHeightAdjustGuide);\n// \tgridHtml.push(limberGridViewAddItemGuide);\n// \tgridHtml.push(limberGridViewAddItemOnTouchHoldGuide);\n\n// \te.$bodyPseudoEl.innerHTML = bodyHtml.join(\"\");\n// \te.$limberGridView[0].insertAdjacentHTML(\"beforeend\", gridHtml.join(\"\"));\n// \tset$limberGridViewGridPseudoItems(\n// \t\te.$limberGridView[0].getElementsByClassName(\"limberGridViewGridPseudoItem\")\n// \t);\n// \tset$limberGridViewBodyPseudoItems(\n// \t\te.$bodyPseudoEl.getElementsByClassName(\"limberGridViewBodyPseudoItem\")\n// \t);\n// \tset$limberGridViewMoveGuide(\n// \t\te.$limberGridView[0].getElementsByClassName(\"limberGridViewMoveGuide\")\n// \t);\n// \tset$limberGridViewHeightAdjustGuide(\n// \t\te.$limberGridView[0].getElementsByClassName(\n// \t\t\t\"limberGridViewHeightAdjustGuide\"\n// \t\t)\n// \t);\n// \tset$limberGridViewAddItemGuide(\n// \t\te.$limberGridView[0].getElementsByClassName(\"limberGridViewAddItemGuide\")\n// \t);\n// \tset$limberGridViewAddItemOnTouchHoldGuide(\n// \t\te.$limberGridView[0].getElementsByClassName(\n// \t\t\t\"limberGridViewAddItemOnTouchHoldGuide\"\n// \t\t)\n// \t);\n// };\n\n// export const renderItems = function (\n// \titems,\n// \tscale = true,\n// \tprocessType = \"onDemand\"\n// ) {\n// \tunInitializeEvents();\n// \tvar scrollTop = e.$limberGridView[0].scrollTop;\n// \tif (scale == true) {\n// \t\tvar WIDTH_SCALE_FACTOR = privateConstants.WIDTH_SCALE_FACTOR;\n// \t} else {\n// \t\tvar WIDTH_SCALE_FACTOR = 1;\n// \t}\n\n// \tvar classList = [\"limberGridViewItem\"];\n// \tif (options.editable == true) {\n// \t\tclassList.push(\"limberGridViewItemEditable\");\n// \t}\n\n// \tvar html = [];\n\n// \t// dev Code\n// \tvar t0 = performance.now();\n// \t// dev Code END\n// \tif (!isMobile()) {\n// \t\te.$limberGridViewContainer[0].removeChild(e.$limberGridView[0]);\n// \t\tvar length_0 = items.length;\n// \t\tfor (var i = 0; i < length_0; i++) {\n// \t\t\tpositionData[items[i]].width *= WIDTH_SCALE_FACTOR;\n// \t\t\tif (positionData[items[i]].width > privateConstants.WIDTH) {\n// \t\t\t\tpositionData[items[i]].width = privateConstants.WIDTH;\n// \t\t\t}\n// \t\t\tvar div = document.createElement(\"div\");\n// \t\t\tvar attribute = document.createAttribute(\"data-index\");\n// \t\t\tattribute.value = items[i];\n// \t\t\tdiv.setAttributeNode(attribute);\n\n// \t\t\tif (classList.length > 0) {\n// \t\t\t\tdiv.classList.add(classList[0]);\n// \t\t\t\tdiv.classList.add(classList[1]);\n// \t\t\t} else {\n// \t\t\t\tdiv.classList.add(classList[0]);\n// \t\t\t}\n\n// \t\t\tdiv.style.transform =\n// \t\t\t\t\"translate(\" +\n// \t\t\t\t(positionData[items[i]].x *= WIDTH_SCALE_FACTOR) +\n// \t\t\t\t\"px, \" +\n// \t\t\t\t(positionData[items[i]].y *= WIDTH_SCALE_FACTOR) +\n// \t\t\t\t\"px)\";\n// \t\t\tdiv.style.width = positionData[items[i]].width + \"px\";\n// \t\t\tdiv.style.height =\n// \t\t\t\t(positionData[items[i]].height *= WIDTH_SCALE_FACTOR) + \"px\";\n\n// \t\t\tvar userData = callbacks.getItemRenderDataCallback(\n// \t\t\t\titems[i],\n// \t\t\t\tpositionData[items[i]].width,\n// \t\t\t\tpositionData[items[i]].height,\n// \t\t\t\tprocessType\n// \t\t\t);\n// \t\t\tif (typeof userData == \"string\") {\n// \t\t\t\tdiv.innerHTML = userData;\n// \t\t\t} else {\n// \t\t\t\tdiv.appendChild(userData);\n// \t\t\t}\n\n// \t\t\tif (\n// \t\t\t\te.$limberGridViewItems[items[i]] == undefined ||\n// \t\t\t\te.$limberGridViewItems[items[i]] == null\n// \t\t\t) {\n// \t\t\t\te.$limberGridView[0].appendChild(div);\n// \t\t\t} else {\n// \t\t\t\te.$limberGridView[0].replaceChild(\n// \t\t\t\t\tdiv,\n// \t\t\t\t\te.$limberGridViewItems[items[i]]\n// \t\t\t\t);\n// \t\t\t}\n// \t\t}\n// \t\te.$limberGridViewContainer[0].appendChild(e.$limberGridView[0]);\n// \t} else {\n// \t\te.$limberGridViewContainer[0].removeChild(e.$limberGridView[0]);\n// \t\tvar length_0 = items.length;\n// \t\tfor (var i = 0; i < length_0; i++) {\n// \t\t\tvar div = document.createElement(\"div\");\n// \t\t\tvar attribute = document.createAttribute(\"data-index\");\n// \t\t\tattribute.value = items[i];\n// \t\t\tdiv.setAttributeNode(attribute);\n\n// \t\t\tdiv.classList.add(\"limberGridViewItem\");\n// \t\t\tdiv.style.transform =\n// \t\t\t\t\"translate(\" +\n// \t\t\t\t0 +\n// \t\t\t\t\"px, \" +\n// \t\t\t\t(privateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO +\n// \t\t\t\t\tgetMarginAtPoint(serializedPositionData.map[items[i]])) *\n// \t\t\t\t\tserializedPositionData.map[items[i]] +\n// \t\t\t\t\"px)\";\n// \t\t\tdiv.style.width = privateConstants.WIDTH + \"px\";\n// \t\t\tdiv.style.height =\n// \t\t\t\tprivateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO + \"px\";\n\n// \t\t\tvar userData = callbacks.getItemRenderDataCallback(\n// \t\t\t\titems[i],\n// \t\t\t\tprivateConstants.WIDTH,\n// \t\t\t\tprivateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO,\n// \t\t\t\tprocessType\n// \t\t\t);\n// \t\t\tif (typeof userData == \"string\") {\n// \t\t\t\tdiv.innerHTML = userData;\n// \t\t\t} else {\n// \t\t\t\tdiv.appendChild(userData);\n// \t\t\t}\n\n// \t\t\tif (\n// \t\t\t\te.$limberGridViewItems[items[i]] == undefined ||\n// \t\t\t\te.$limberGridViewItems[items[i]] == null\n// \t\t\t) {\n// \t\t\t\te.$limberGridView[0].appendChild(div);\n// \t\t\t} else {\n// \t\t\t\te.$limberGridView[0].replaceChild(\n// \t\t\t\t\tdiv,\n// \t\t\t\t\te.$limberGridViewItems[items[i]]\n// \t\t\t\t);\n// \t\t\t}\n// \t\t}\n// \t\te.$limberGridViewContainer[0].appendChild(e.$limberGridView[0]);\n// \t}\n\n// \t// dev Code\n// \tvar t1 = performance.now();\n// \tconsole.log(t0);\n// \tconsole.log(t1);\n// \tconsole.log(t1 - t0);\n// \t// dev Code END\n// \te.$limberGridViewItems = e.$limberGridView[0].querySelectorAll(\n// \t\t\".limberGridViewItem\"\n// \t);\n\n// \trenderPseudoItems(items);\n\n// \tinitializeVariables();\n// \tinitializeEvents();\n\n// \tvar renderDetails = {\n// \t\titems: JSON.parse(JSON.stringify(items)),\n// \t\tscale: scale,\n// \t\tprocessType: processType,\n// \t};\n\n// \tif (\n// \t\tcallbacks.itemsRenderComplete != undefined &&\n// \t\tcallbacks.itemsRenderComplete != null &&\n// \t\tprocessType != \"addItems\" &&\n// \t\tprocessType != \"resizeItems\" &&\n// \t\tprocessType != \"removeItems\" &&\n// \t\tprocessType != \"addItemInteractive\"\n// \t) {\n// \t\te.$limberGridView[0].scrollTop = scrollTop;\n// \t\tcallbacks.itemsRenderComplete(\n// \t\t\trenderDetails.items,\n// \t\t\tscale,\n// \t\t\tprocessType,\n// \t\t\tscrollTop\n// \t\t);\n// \t}\n\n// \treturn renderDetails;\n// };\n\n// export const renderPseudoItems = function (items) {\n// \tvar gridHtml = [];\n// \tvar bodyHtml = [];\n\n// \tif (!isMobile()) {\n// \t\te.$limberGridViewContainer[0].removeChild(e.$limberGridView[0]);\n// \t\te.$body[0].removeChild(e.$bodyPseudoEl);\n// \t\tvar length_0 = items.length;\n// \t\tfor (var i = 0; i < length_0; i++) {\n// \t\t\tvar divGrid = document.createElement(\"div\");\n// \t\t\tvar attributeGrid = document.createAttribute(\"data-index\");\n// \t\t\tattributeGrid.value = items[i];\n// \t\t\tdivGrid.setAttributeNode(attributeGrid);\n// \t\t\tdivGrid.classList.add(\"limberGridViewGridPseudoItem\");\n// \t\t\tdivGrid.style.transform =\n// \t\t\t\t\"translate(\" +\n// \t\t\t\tpositionData[items[i]].x +\n// \t\t\t\t\"px, \" +\n// \t\t\t\tpositionData[items[i]].y +\n// \t\t\t\t\"px)\";\n// \t\t\tdivGrid.style.width = positionData[items[i]].width + \"px\";\n// \t\t\tdivGrid.style.height = positionData[items[i]].height + \"px\";\n\n// \t\t\tvar divBody = document.createElement(\"div\");\n// \t\t\tvar attributeBody = document.createAttribute(\"data-index\");\n// \t\t\tattributeBody.value = items[i];\n// \t\t\tdivBody.setAttributeNode(attributeBody);\n// \t\t\tdivBody.classList.add(\"limberGridViewBodyPseudoItem\");\n// \t\t\tdivBody.style.transform = \"translate(\" + 0 + \"px, \" + 0 + \"px)\";\n// \t\t\tdivBody.style.width = positionData[items[i]].width + \"px\";\n// \t\t\tdivBody.style.height = positionData[items[i]].height + \"px\";\n\n// \t\t\tif (\n// \t\t\t\te.$limberGridViewGridPseudoItems[items[i]] == undefined ||\n// \t\t\t\te.$limberGridViewGridPseudoItems[items[i]] == null\n// \t\t\t) {\n// \t\t\t\te.$limberGridView[0].appendChild(divGrid);\n// \t\t\t\te.$bodyPseudoEl.appendChild(divBody);\n// \t\t\t} else {\n// \t\t\t\te.$limberGridView[0].replaceChild(\n// \t\t\t\t\tdivGrid,\n// \t\t\t\t\te.$limberGridViewGridPseudoItems[items[i]]\n// \t\t\t\t);\n// \t\t\t\te.$bodyPseudoEl.replaceChild(\n// \t\t\t\t\tdivBody,\n// \t\t\t\t\te.$limberGridViewBodyPseudoItems[items[i]]\n// \t\t\t\t);\n// \t\t\t}\n// \t\t}\n// \t\te.$limberGridViewContainer[0].appendChild(e.$limberGridView[0]);\n// \t\te.$body[0].appendChild(e.$bodyPseudoEl);\n// \t} else {\n// \t\te.$limberGridViewContainer[0].removeChild(e.$limberGridView[0]);\n// \t\te.$body[0].removeChild(e.$bodyPseudoEl);\n// \t\tvar length_0 = items.length;\n// \t\tfor (var i = 0; i < length_0; i++) {\n// \t\t\tvar divGrid = document.createElement(\"div\");\n// \t\t\tvar attributeGrid = document.createAttribute(\"data-index\");\n// \t\t\tattributeGrid.value = items[i];\n// \t\t\tdivGrid.setAttributeNode(attributeGrid);\n// \t\t\tdivGrid.classList.add(\"limberGridViewGridPseudoItem\");\n// \t\t\tdivGrid.style.transform =\n// \t\t\t\t\"translate(\" +\n// \t\t\t\t0 +\n// \t\t\t\t\"px, \" +\n// \t\t\t\t(privateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO +\n// \t\t\t\t\tgetMarginAtPoint(serializedPositionData.map[i])) *\n// \t\t\t\t\tserializedPositionData.map[i] +\n// \t\t\t\t\"px)\";\n// \t\t\tdivGrid.style.width = privateConstants.WIDTH + \"px\";\n// \t\t\tdivGrid.style.height =\n// \t\t\t\tprivateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO + \"px\";\n\n// \t\t\tvar divBody = document.createElement(\"div\");\n// \t\t\tvar attributeBody = document.createAttribute(\"data-index\");\n// \t\t\tattributeBody.value = items[i];\n// \t\t\tdivBody.setAttributeNode(attributeBody);\n// \t\t\tdivBody.classList.add(\"limberGridViewBodyPseudoItem\");\n// \t\t\tdivBody.style.transform = \"translate(\" + 0 + \"px, \" + 0 + \"px)\";\n// \t\t\tdivBody.style.width = privateConstants.WIDTH + \"px\";\n// \t\t\tdivBody.style.height =\n// \t\t\t\tprivateConstants.WIDTH / publicConstants.MOBILE_ASPECT_RATIO + \"px\";\n\n// \t\t\tif (\n// \t\t\t\te.$limberGridViewGridPseudoItems[items[i]] == undefined ||\n// \t\t\t\te.$limberGridViewGridPseudoItems[items[i]] == null\n// \t\t\t) {\n// \t\t\t\te.$limberGridView[0].appendChild(divGrid);\n// \t\t\t\te.$bodyPseudoEl.appendChild(divBody);\n// \t\t\t} else {\n// \t\t\t\te.$limberGridView[0].replaceChild(\n// \t\t\t\t\tdivGrid,\n// \t\t\t\t\te.$limberGridViewGridPseudoItems[items[i]]\n// \t\t\t\t);\n// \t\t\t\te.$bodyPseudoEl.replaceChild(\n// \t\t\t\t\tdivBody,\n// \t\t\t\t\te.$limberGridViewBodyPseudoItems[items[i]]\n// \t\t\t\t);\n// \t\t\t}\n// \t\t}\n// \t\te.$limberGridViewContainer[0].appendChild(e.$limberGridView[0]);\n// \t\te.$body[0].appendChild(e.$bodyPseudoEl);\n// \t}\n\n// \tset$limberGridViewGridPseudoItems(\n// \t\te.$limberGridView[0].getElementsByClassName(\"limberGridViewGridPseudoItem\")\n// \t);\n// \te.$limberGridViewBodyPseudoItems = e.$bodyPseudoEl.getElementsByClassName(\n// \t\t\"limberGridViewBodyPseudoItem\"\n// \t);\n// };\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport {\n\t// getMarginAtPoint,\n\tadjustHeight,\n\tadjustScroll,\n} from \"../utils/essentials\";\nimport { getItemDimenWithMargin } from \"../utils/utils\";\n// import {\n// \tisPlaneBInsidePlaneA_TouchingIsInside,\n// \tshiftItemsUp,\n// } from \"../calc/calcUtils\";\nimport { doRectsOverlap, doRectsOnlyTouch } from \"../rect/rectUtils\";\nimport getPublicConstants from \"../../store/constants/publicConstants\";\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport {\n\tgetCallbacks,\n\tgetPositionData,\n} from \"../../store/variables/essentials\";\nimport getElements from \"../../store/variables/elements\";\nimport { calculateTouchPosOnDesk } from \"./eventHandlerUtils.js\";\nimport { loadInitState, unloadInitState } from \"./deskInteractionUtils.js\";\nimport {\n\tshiftItemsUp,\n\taddItemAllowCheck,\n\tcutSpaceAllowCheck,\n} from \"../arrange/arrangeUtils\";\nimport {\n\tinitializeItemTouchEvents,\n\tunInitializeItemTouchEvents,\n} from \"./initializers\";\nimport { getBindedFunctions } from \"../../store/variables/bindedFunctions\";\nimport { getDeskInteractionVars } from \"../../store/variables/eventSpecific\";\nimport { addItem } from \"../renderers/renderers\";\n// import { addItemsAtPositions } from \"../renderers/addOrRemoveItems\";\n\n// let userActionData = {};\n// let mouseDownCancel = false;\n// // let limberGridMouseDownCancel = false;\n// let mouseDownTimerComplete = false;\n// // let limberGridMouseDownTimerComplete = false;\n// let tapHoldCancel = false;\n// // let limberGridTouchStartCancel = false;\n// let tapHoldTimerComplete = false;\n// // let limberGridTouchStartTimerComplete = false;\n// let longPressCheck;\n// // let limberGridMouseDownCheckTimeOutVariable;\n// let longTouchCheck;\n// // let limberGridTouchStartCheckTimeOutVariable;\n// let addItemAllowCheckTimeOutVariable;\n// let cutSpaceAllowCheckTimeOutVariable;\n\nexport const onDeskMouseDown = function (event) {\n\tconst e = getElements(this);\n\tconst publicConstants = getPublicConstants(this);\n\n\tconst dkiv = getDeskInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tif (event.target.classList.contains(\"limber-grid-view\")) {\n\t\tevent.stopPropagation();\n\t} else {\n\t\treturn;\n\t}\n\n\tif (event.which !== 1) {\n\t\treturn;\n\t}\n\n\tdkiv.mouseDownCancel = false;\n\tdkiv.mouseDownTimerComplete = false;\n\n\tclearTimeout(dkiv.longPressCheck);\n\tdkiv.longPressCheck = setTimeout(\n\t\tmouseDownCheck.bind(this, event, event.offsetX, event.offsetY),\n\t\tpublicConstants.MOUSE_DOWN_TIME\n\t);\n\n\te.$limberGridView.addEventListener(\"mousemove\", bf.onDeskMouseMove);\n\tdocument.addEventListener(\"mouseup\", bf.onDeskMouseUp);\n\tdocument.addEventListener(\"contextmenu\", bf.onDeskContextMenu);\n};\n\nexport const onDeskTouchStart = function (event) {\n\tconst e = getElements(this);\n\tconst publicConstants = getPublicConstants(this);\n\n\tconst dkiv = getDeskInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tif (!event.target.classList.contains(\"limber-grid-view\")) {\n\t\treturn;\n\t}\n\n\tif (event.touches.length !== 1) {\n\t\t// onDeskContextMenu.call(this, event);\n\t\treturn;\n\t}\n\n\t// if (event.target.classList.contains(\"limber-grid-view\")) {\n\t// \tevent.stopPropagation();\n\t// } else {\n\t// \treturn;\n\t// }\n\n\tif (event.which !== 0) {\n\t\t// onDeskContextMenu.call(this, event);\n\t\treturn;\n\t}\n\n\tdkiv.tapHoldCancel = false;\n\tdkiv.tapHoldTimerComplete = false;\n\n\te.$limberGridView.addEventListener(\"touchmove\", bf.onDeskTouchMove);\n\tdocument.addEventListener(\"touchend\", bf.onDeskTouchEnd);\n\tdocument.addEventListener(\"touchcancel\", bf.onDeskTouchCancel);\n\tdocument.addEventListener(\"contextmenu\", bf.onDeskTouchContextMenu);\n\tunInitializeItemTouchEvents.call(this);\n\n\tclearTimeout(dkiv.longTouchCheck);\n\tdkiv.longTouchCheck = setTimeout(\n\t\ttapHoldCheck.bind(this, event),\n\t\tpublicConstants.TOUCH_HOLD_TIME\n\t);\n\n\tevent.stopPropagation();\n};\n\n// onLimberGridMouseDownCheck\nexport const mouseDownCheck = function (event, offsetX, offsetY) {\n\tconst e = getElements(this);\n\tconst privateConstants = getPrivateConstants(this);\n\n\tconst dkiv = getDeskInteractionVars(this);\n\n\tif (dkiv.mouseDownCancel === false) {\n\t\tdkiv.mouseDownTimerComplete = true;\n\n\t\tvar scrollTop = e.$limberGridView.scrollTop;\n\t\tvar scrollLeft = e.$limberGridView.scrollLeft;\n\t\tvar x = offsetX + scrollLeft - privateConstants.PADDING_LEFT;\n\t\tvar y = offsetY + scrollTop - privateConstants.PADDING_TOP;\n\n\t\tdkiv.userActionData = {\n\t\t\ttype: \"add\",\n\t\t\taddPositionX: x,\n\t\t\taddPositionY: y,\n\t\t};\n\n\t\te.$limberGridViewAddCutGuide.style.height = 1 + \"px\";\n\t\te.$limberGridViewAddCutGuide.style.width = 1 + \"px\";\n\t\te.$limberGridViewAddCutGuide.style.transform = `translate(${x}px, ${y}px)`;\n\t\te.$limberGridViewAddCutGuide.setAttribute(\"data-after\", `w: 0px, h: 0px`);\n\n\t\tloadInitState(this);\n\t} else {\n\t\t// mouseDown cancel before TimerComplete\n\t}\n};\n\n// onLimberGridTouchStartCheck\nexport const tapHoldCheck = function (event) {\n\tconst e = getElements(this);\n\n\tconst dkiv = getDeskInteractionVars(this);\n\n\tif (dkiv.tapHoldCancel === false) {\n\t\tdkiv.tapHoldTimerComplete = true;\n\n\t\tvar touchPositionOnLimberGrid = calculateTouchPosOnDesk(this, event);\n\n\t\tvar x = touchPositionOnLimberGrid.x;\n\t\tvar y = touchPositionOnLimberGrid.y;\n\n\t\tdkiv.userActionData = {\n\t\t\ttype: \"add\",\n\t\t\taddPositionX: x,\n\t\t\taddPositionY: y,\n\t\t};\n\n\t\tvar removeAddItemOnTouchHoldGuideFunction = function () {\n\t\t\te.$limberGridViewTouchHoldGuide.classList.remove(\n\t\t\t\t\"limber-grid-view-touch-hold-guide-active\"\n\t\t\t);\n\t\t};\n\t\tsetTimeout(removeAddItemOnTouchHoldGuideFunction.bind(this), 500);\n\n\t\te.$limberGridViewAddCutGuide.style.height = 1 + \"px\";\n\t\te.$limberGridViewAddCutGuide.style.width = 1 + \"px\";\n\t\te.$limberGridViewAddCutGuide.style.transform = `translate(${x}px, ${y}px)`;\n\t\te.$limberGridViewAddCutGuide.setAttribute(\"data-after\", `w: 0px, h: 0px`);\n\n\t\tloadInitState(this);\n\n\t\te.$limberGridViewTouchHoldGuide.style.transform = `translate(${x}px, ${y}px)`;\n\t\te.$limberGridViewTouchHoldGuide.classList.add(\n\t\t\t\"limber-grid-view-touch-hold-guide-active\"\n\t\t);\n\n\t\tevent.preventDefault();\n\t} else {\n\t\t// touchstart cancel before TimerComplete\n\t}\n};\n\nexport const onDeskMouseMove = function (event) {\n\tconst e = getElements(this);\n\tconst privateConstants = getPrivateConstants(this);\n\tconst publicConstants = getPublicConstants(this);\n\n\tconst dkiv = getDeskInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tif (dkiv.mouseDownTimerComplete === true) {\n\t\te.$limberGridViewAddCutGuide.classList.remove(\n\t\t\t\"limber-grid-view-add-cut-guide-allow\",\n\t\t\t\"limber-grid-view-add-cut-guide-disallow\"\n\t\t);\n\n\t\tconst scrollTop = e.$limberGridView.scrollTop;\n\t\tconst scrollLeft = e.$limberGridView.scrollLeft;\n\n\t\tconst x = dkiv.userActionData.addPositionX;\n\t\tconst y = dkiv.userActionData.addPositionY;\n\n\t\tconst newWidth =\n\t\t\tevent.offsetX - x + scrollLeft - privateConstants.PADDING_LEFT;\n\t\tconst newHeight =\n\t\t\tevent.offsetY - y + scrollTop - privateConstants.PADDING_TOP;\n\n\t\tdkiv.userActionData.newWidth = newWidth;\n\t\tdkiv.userActionData.newHeight = newHeight;\n\n\t\tconst yMousePosition = event.offsetY + scrollTop;\n\t\tadjustHeight(this, yMousePosition);\n\n\t\tif (newWidth > 0 && newHeight > 0) {\n\t\t\te.$limberGridViewAddCutGuide.style.width = newWidth + \"px\";\n\t\t\te.$limberGridViewAddCutGuide.style.height = newHeight + \"px\";\n\t\t\te.$limberGridViewAddCutGuide.setAttribute(\n\t\t\t\t\"data-after\",\n\t\t\t\t`w: ${parseInt(newWidth)}px, h: ${parseInt(newHeight)}px`\n\t\t\t);\n\t\t}\n\n\t\tif (publicConstants.DESK_INTERACTION_MODE === \"ADD\") {\n\t\t\tclearTimeout(dkiv.addItemAllowCheckTimeOutVariable);\n\t\t\tdkiv.addItemAllowCheckTimeOutVariable = setTimeout(\n\t\t\t\taddItemAllowCheckTimeOut.bind(\n\t\t\t\t\tthis,\n\t\t\t\t\tdkiv.userActionData.addPositionX,\n\t\t\t\t\tdkiv.userActionData.addPositionY,\n\t\t\t\t\tnewWidth,\n\t\t\t\t\tnewHeight\n\t\t\t\t),\n\t\t\t\tpublicConstants.DEMO_WAIT_TIME\n\t\t\t);\n\t\t} else if (publicConstants.DESK_INTERACTION_MODE === \"CUTSPACE\") {\n\t\t\tclearTimeout(dkiv.cutSpaceAllowCheckTimeOutVariable);\n\t\t\tdkiv.cutSpaceAllowCheckTimeOutVariable = setTimeout(\n\t\t\t\tcutSpaceAllowCheckTimeOut.bind(\n\t\t\t\t\tthis,\n\t\t\t\t\tdkiv.userActionData.addPositionX,\n\t\t\t\t\tdkiv.userActionData.addPositionY,\n\t\t\t\t\tnewWidth,\n\t\t\t\t\tnewHeight\n\t\t\t\t),\n\t\t\t\tpublicConstants.DEMO_WAIT_TIME\n\t\t\t);\n\t\t}\n\t} else {\n\t\tonDeskContextMenu.call(this, event);\n\n\t\t// clearTimeout(dkiv.longPressCheck);\n\n\t\t// e.$limberGridView.removeEventListener(\"mousemove\", bf.onDeskMouseMove);\n\t\t// document.removeEventListener(\"mouseup\", bf.onDeskMouseUp);\n\t\t// document.removeEventListener(\"contextmenu\", bf.onDeskContextMenu);\n\t}\n\tevent.stopPropagation();\n};\n\nexport const onDeskTouchMove = function (event) {\n\tconst e = getElements(this);\n\tconst privateConstants = getPrivateConstants(this);\n\tconst publicConstants = getPublicConstants(this);\n\n\tconst dkiv = getDeskInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tif (dkiv.tapHoldTimerComplete === true && event.touches.length === 1) {\n\t\te.$limberGridViewAddCutGuide.classList.remove(\n\t\t\t\"limber-grid-view-add-cut-guide-allow\",\n\t\t\t\"limber-grid-view-add-cut-guide-disallow\"\n\t\t);\n\n\t\tconst scrollTop = e.$limberGridView.scrollTop;\n\t\tconst scrollLeft = e.$limberGridView.scrollLeft;\n\n\t\tconst x = dkiv.userActionData.addPositionX;\n\t\tconst y = dkiv.userActionData.addPositionY;\n\n\t\tconst touchPositionOnLimberGrid = calculateTouchPosOnDesk(this, event);\n\n\t\tconst newWidth = touchPositionOnLimberGrid.x - x;\n\t\tconst newHeight = touchPositionOnLimberGrid.y - y;\n\n\t\tif (touchPositionOnLimberGrid !== false) {\n\t\t\tdkiv.userActionData.newWidth = newWidth;\n\t\t\tdkiv.userActionData.newHeight = newHeight;\n\n\t\t\tif (newWidth > 0 && newHeight > 0) {\n\t\t\t\te.$limberGridViewAddCutGuide.style.width = newWidth + \"px\";\n\t\t\t\te.$limberGridViewAddCutGuide.style.height = newHeight + \"px\";\n\t\t\t\te.$limberGridViewAddCutGuide.setAttribute(\n\t\t\t\t\t\"data-after\",\n\t\t\t\t\t`w: ${parseInt(newWidth)}px, h: ${parseInt(newHeight)}px`\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tif (touchPositionOnLimberGrid !== false) {\n\t\t\tconst limberGridViewBoundingClientRect = e.$limberGridView.getBoundingClientRect();\n\t\t\tconst limberGridViewWidthVisibleWidth =\n\t\t\t\te.$limberGridView.offsetWidth - limberGridViewBoundingClientRect.left;\n\t\t\tconst limberGridViewHeightVisibleHeight =\n\t\t\t\te.$limberGridView.offsetHeight - limberGridViewBoundingClientRect.top;\n\t\t\tconst limberGridViewOnVisibleAreaX =\n\t\t\t\ttouchPositionOnLimberGrid.x +\n\t\t\t\tprivateConstants.PADDING_LEFT -\n\t\t\t\tscrollLeft;\n\t\t\tconst limberGridViewOnVisibleAreaY =\n\t\t\t\ttouchPositionOnLimberGrid.y + privateConstants.PADDING_TOP - scrollTop;\n\n\t\t\tconst yTouchPosition = touchPositionOnLimberGrid.y;\n\t\t\tadjustHeight(this, yTouchPosition);\n\n\t\t\tconst programScrolled = adjustScroll(\n\t\t\t\tthis,\n\t\t\t\tlimberGridViewOnVisibleAreaY,\n\t\t\t\tlimberGridViewHeightVisibleHeight\n\t\t\t);\n\n\t\t\tif (publicConstants.DESK_INTERACTION_MODE === \"ADD\") {\n\t\t\t\tclearTimeout(dkiv.addItemAllowCheckTimeOutVariable);\n\t\t\t\tif (programScrolled !== true) {\n\t\t\t\t\tdkiv.addItemAllowCheckTimeOutVariable = setTimeout(\n\t\t\t\t\t\taddItemAllowCheckTimeOut.bind(\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\tdkiv.userActionData.addPositionX,\n\t\t\t\t\t\t\tdkiv.userActionData.addPositionY,\n\t\t\t\t\t\t\tnewWidth,\n\t\t\t\t\t\t\tnewHeight\n\t\t\t\t\t\t),\n\t\t\t\t\t\tpublicConstants.DEMO_WAIT_TIME\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else if (publicConstants.DESK_INTERACTION_MODE === \"CUTSPACE\") {\n\t\t\t\tclearTimeout(dkiv.cutSpaceAllowCheckTimeOutVariable);\n\t\t\t\tif (programScrolled !== true) {\n\t\t\t\t\tdkiv.cutSpaceAllowCheckTimeOutVariable = setTimeout(\n\t\t\t\t\t\tcutSpaceAllowCheckTimeOut.bind(\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\tdkiv.userActionData.addPositionX,\n\t\t\t\t\t\t\tdkiv.userActionData.addPositionY,\n\t\t\t\t\t\t\tnewWidth,\n\t\t\t\t\t\t\tnewHeight\n\t\t\t\t\t\t),\n\t\t\t\t\t\tpublicConstants.DEMO_WAIT_TIME\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.preventDefault();\n\t} else {\n\t\tonDeskContextMenu.call(this);\n\t\t// clearTimeout(dkiv.longTouchCheck);\n\n\t\t// e.$limberGridView.removeEventListener(\"touchmove\", bf.onDeskTouchMove);\n\t\t// document.removeEventListener(\"touchend\", bf.onDeskTouchEnd);\n\t\t// document.removeEventListener(\"touchcancel\", bf.onDeskTouchCancel);\n\t\t// document.removeEventListener(\"contextmenu\", bf.onDeskTouchContextMenu);\n\t\t// initializeItemTouchEvents.call(this);\n\t}\n\n\tevent.stopPropagation();\n};\n\nexport const onDeskMouseUp = function (event) {\n\tconst e = getElements(this);\n\tconst publicConstants = getPublicConstants(this);\n\tconst callbacks = getCallbacks(this);\n\n\tconst dkiv = getDeskInteractionVars(this);\n\n\tclearTimeout(dkiv.addItemAllowCheckTimeOutVariable);\n\tclearTimeout(dkiv.longPressCheck);\n\tvar itemAddedFlag = false;\n\tif (dkiv.mouseDownTimerComplete === true) {\n\t\tif (publicConstants.DESK_INTERACTION_MODE === \"ADD\") {\n\t\t\tif (\n\t\t\t\taddItemAllowCheck(\n\t\t\t\t\tthis,\n\t\t\t\t\tdkiv.userActionData.addPositionX,\n\t\t\t\t\tdkiv.userActionData.addPositionY,\n\t\t\t\t\tdkiv.userActionData.newWidth,\n\t\t\t\t\tdkiv.userActionData.newHeight\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tvar item = {\n\t\t\t\t\tx: dkiv.userActionData.addPositionX,\n\t\t\t\t\ty: dkiv.userActionData.addPositionY,\n\t\t\t\t\twidth: dkiv.userActionData.newWidth,\n\t\t\t\t\theight: dkiv.userActionData.newHeight,\n\t\t\t\t};\n\n\t\t\t\tvar scrollTop = e.$limberGridView.scrollTop;\n\n\t\t\t\tvar renderDetails = addItem(this, item, false, \"addItemInteractive\");\n\t\t\t\titemAddedFlag = true;\n\n\t\t\t\te.$limberGridView.scrollTop = scrollTop;\n\t\t\t}\n\t\t} else if (publicConstants.DESK_INTERACTION_MODE === \"CUTSPACE\") {\n\t\t\tconst cutDetails = cutSpaceAllowCheck(\n\t\t\t\tthis,\n\t\t\t\tdkiv.userActionData.addPositionX,\n\t\t\t\tdkiv.userActionData.addPositionY,\n\t\t\t\tdkiv.userActionData.newWidth,\n\t\t\t\tdkiv.userActionData.newHeight\n\t\t\t);\n\t\t\tif (cutDetails) {\n\t\t\t\tshiftItemsUp(\n\t\t\t\t\tthis,\n\t\t\t\t\tcutDetails.y,\n\t\t\t\t\tcutDetails.shiftHeight\n\t\t\t\t\t// dkiv.userActionData.addPositionY,\n\t\t\t\t\t// dkiv.userActionData.newHeight\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tdkiv.mouseDownCancel = true;\n\t}\n\tonDeskContextMenu.call(this);\n\tevent.stopPropagation();\n\n\tif (\n\t\tcallbacks.addCompleteCallback != undefined &&\n\t\tcallbacks.addCompleteCallback != null\n\t) {\n\t\tif (itemAddedFlag == true) {\n\t\t\tcallbacks.addCompleteCallback(\n\t\t\t\trenderDetails.items,\n\t\t\t\titem.width,\n\t\t\t\titem.height,\n\t\t\t\t\"addItemInteractive\"\n\t\t\t);\n\t\t}\n\t}\n};\n\nexport const onDeskTouchEnd = function (event) {\n\tconst e = getElements(this);\n\tconst publicConstants = getPublicConstants(this);\n\tconst callbacks = getCallbacks(this);\n\n\tconst dkiv = getDeskInteractionVars(this);\n\n\tclearTimeout(dkiv.addItemAllowCheckTimeOutVariable);\n\tclearTimeout(dkiv.longTouchCheck);\n\tvar itemAddedFlag = false;\n\tif (dkiv.tapHoldTimerComplete === true && event.touches.length === 0) {\n\t\tif (publicConstants.DESK_INTERACTION_MODE === \"ADD\") {\n\t\t\tif (\n\t\t\t\taddItemAllowCheck(\n\t\t\t\t\tthis,\n\t\t\t\t\tdkiv.userActionData.addPositionX,\n\t\t\t\t\tdkiv.userActionData.addPositionY,\n\t\t\t\t\tdkiv.userActionData.newWidth,\n\t\t\t\t\tdkiv.userActionData.newHeight\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tvar item = {\n\t\t\t\t\tx: dkiv.userActionData.addPositionX,\n\t\t\t\t\ty: dkiv.userActionData.addPositionY,\n\t\t\t\t\twidth: dkiv.userActionData.newWidth,\n\t\t\t\t\theight: dkiv.userActionData.newHeight,\n\t\t\t\t};\n\n\t\t\t\tvar scrollTop = e.$limberGridView.scrollTop;\n\n\t\t\t\tvar renderDetails = addItem(this, item, false, \"addItemInteractive\");\n\t\t\t\titemAddedFlag = true;\n\n\t\t\t\te.$limberGridView.scrollTop = scrollTop;\n\t\t\t}\n\t\t} else if (publicConstants.DESK_INTERACTION_MODE === \"CUTSPACE\") {\n\t\t\tconst cutDetails = cutSpaceAllowCheck(\n\t\t\t\tthis,\n\t\t\t\tdkiv.userActionData.addPositionX,\n\t\t\t\tdkiv.userActionData.addPositionY,\n\t\t\t\tdkiv.userActionData.newWidth,\n\t\t\t\tdkiv.userActionData.newHeight\n\t\t\t);\n\t\t\tif (cutDetails) {\n\t\t\t\tshiftItemsUp(\n\t\t\t\t\tthis,\n\t\t\t\t\tcutDetails.y,\n\t\t\t\t\tcutDetails.shiftHeight\n\t\t\t\t\t// dkiv.userActionData.addPositionY,\n\t\t\t\t\t// dkiv.userActionData.newHeight\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tdkiv.tapHoldCancel = true;\n\t}\n\t// dkiv.tapHoldTimerComplete = false;\n\tonDeskContextMenu.call(this);\n\t// initializeItemTouchEvents.call(this);\n\n\tevent.stopPropagation();\n\n\tif (\n\t\tcallbacks.addCompleteCallback != undefined &&\n\t\tcallbacks.addCompleteCallback != null\n\t) {\n\t\tif (itemAddedFlag == true) {\n\t\t\tcallbacks.addCompleteCallback(\n\t\t\t\trenderDetails.items,\n\t\t\t\titem.width,\n\t\t\t\titem.height,\n\t\t\t\t\"addItemInteractive\"\n\t\t\t);\n\t\t}\n\t}\n};\n\nexport const onDeskTouchCancel = function (event) {\n\t// const dkiv = getDeskInteractionVars(this);\n\n\t// dkiv.tapHoldCancel = false;\n\t// dkiv.tapHoldTimerComplete = false;\n\tonDeskContextMenu.call(this);\n\t// initializeItemTouchEvents.call(this);\n\n\t// event.stopPropagation();\n};\n\nexport const onDeskTouchContextMenu = function (event) {\n\tevent.preventDefault();\n\t// onDeskContextMenu.call(this, event);\n};\n\nexport const onDeskContextMenu = function (event) {\n\tconst e = getElements(this);\n\n\tconst dkiv = getDeskInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tclearTimeout(dkiv.addItemAllowCheckTimeOutVariable);\n\tclearTimeout(dkiv.cutSpaceAllowCheckTimeOutVariable);\n\tclearTimeout(dkiv.longPressCheck);\n\tclearTimeout(dkiv.longTouchCheck);\n\tunloadInitState(this);\n\n\te.$limberGridView.removeEventListener(\"mousemove\", bf.onDeskMouseMove);\n\tdocument.removeEventListener(\"mouseup\", bf.onDeskMouseUp);\n\tdocument.removeEventListener(\"contextmenu\", bf.onDeskContextMenu);\n\n\te.$limberGridView.removeEventListener(\"touchmove\", bf.onDeskTouchMove);\n\tdocument.removeEventListener(\"touchend\", bf.onDeskTouchEnd);\n\tdocument.removeEventListener(\"touchcancel\", bf.onDeskTouchCancel);\n\tdocument.removeEventListener(\"contextmenu\", bf.onDeskTouchContextMenu);\n\n\tinitializeItemTouchEvents.call(this);\n\n\tdkiv.userActionData = {};\n\n\tif (event) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t}\n};\n\nexport const addItemAllowCheckTimeOut = function (x, y, width, height) {\n\tconst e = getElements(this);\n\n\tif (addItemAllowCheck(this, x, y, width, height) === false) {\n\t\te.$limberGridViewAddCutGuide.classList.remove(\n\t\t\t\"limber-grid-view-add-cut-guide-allow\"\n\t\t);\n\t\te.$limberGridViewAddCutGuide.classList.add(\n\t\t\t\"limber-grid-view-add-cut-guide-disallow\"\n\t\t);\n\t} else {\n\t\te.$limberGridViewAddCutGuide.classList.remove(\n\t\t\t\"limber-grid-view-add-cut-guide-disallow\"\n\t\t);\n\t\te.$limberGridViewAddCutGuide.classList.add(\n\t\t\t\"limber-grid-view-add-cut-guide-allow\"\n\t\t);\n\t}\n};\n\nexport const cutSpaceAllowCheckTimeOut = function (x, y, width, height) {\n\tconst e = getElements(this);\n\n\tif (cutSpaceAllowCheck(this, x, y, width, height) === false) {\n\t\te.$limberGridViewAddCutGuide.classList.remove(\n\t\t\t\"limber-grid-view-add-cut-guide-allow\"\n\t\t);\n\t\te.$limberGridViewAddCutGuide.classList.add(\n\t\t\t\"limber-grid-view-add-cut-guide-disallow\"\n\t\t);\n\t} else {\n\t\te.$limberGridViewAddCutGuide.classList.remove(\n\t\t\t\"limber-grid-view-add-cut-guide-disallow\"\n\t\t);\n\t\te.$limberGridViewAddCutGuide.classList.add(\n\t\t\t\"limber-grid-view-add-cut-guide-allow\"\n\t\t);\n\t}\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport {\n\tdoRectsOverlap,\n\tdoRectsOnlyTouch,\n\tisPointInsideRect,\n\tdoesPointTouchRect,\n} from \"../rect/rectUtils\";\nimport getPublicConstants, {\n\tgetPublicConstantByName,\n} from \"../../store/constants/publicConstants\";\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport {\n\tgetPositionData,\n\tgetModifiedPositionData,\n\tsetModifiedPositionData,\n} from \"../../store/variables/essentials\";\nimport getElements from \"../../store/variables/elements\";\n\nexport const getResizeAffectedItems = (context, item, index) => {\n\tconst pd = getPositionData(context);\n\tconst mpd = getModifiedPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tconst len = pd.length;\n\tconst affectedArr = new Array(len);\n\tlet count = 0;\n\n\tconst _item = { ...item };\n\t_item.x -= privateConstants.MARGIN;\n\t_item.y -= privateConstants.MARGIN;\n\t_item.width += privateConstants.MARGIN;\n\t_item.height += privateConstants.MARGIN;\n\tconst temp = { x: 0, y: 0, height: 0, width: 0 };\n\n\tfor (let i = 0; i < len; i++) {\n\t\ttemp.x = pd[i].x - privateConstants.MARGIN;\n\t\ttemp.y = pd[i].y - privateConstants.MARGIN;\n\t\ttemp.width = pd[i].width + privateConstants.MARGIN;\n\t\ttemp.height = pd[i].height + privateConstants.MARGIN;\n\t\tif (\n\t\t\t(doRectsOverlap(temp, _item) || doRectsOnlyTouch(temp, _item)) &&\n\t\t\ti !== index\n\t\t) {\n\t\t\taffectedArr[count++] = i;\n\t\t\tmpd[i].x = undefined;\n\t\t\tmpd[i].y = undefined;\n\t\t}\n\t}\n\n\tconst result = new Array(count + 1);\n\tfor (let i = 0; i < count; i++) {\n\t\tresult[i] = affectedArr[i];\n\t}\n\tresult[count] = index;\n\n\treturn result;\n};\n\nexport const getMoveAffectedItems = (context, item, index) => {\n\tconst pd = getPositionData(context);\n\tconst mpd = getModifiedPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tconst len = pd.length;\n\tconst affectedArr = new Array(len);\n\tlet count = 0;\n\n\tconst _item = { ...item };\n\t_item.x -= privateConstants.MARGIN;\n\t_item.y -= privateConstants.MARGIN;\n\t_item.width += privateConstants.MARGIN;\n\t_item.height += privateConstants.MARGIN;\n\tconst temp = { x: 0, y: 0, height: 0, width: 0 };\n\n\tfor (let i = 0; i < len; i++) {\n\t\ttemp.x = pd[i].x - privateConstants.MARGIN;\n\t\ttemp.y = pd[i].y - privateConstants.MARGIN;\n\t\ttemp.width = pd[i].width + privateConstants.MARGIN;\n\t\ttemp.height = pd[i].height + privateConstants.MARGIN;\n\t\tif (doRectsOverlap(temp, _item) || doRectsOnlyTouch(temp, _item)) {\n\t\t\tif (i !== index) {\n\t\t\t\taffectedArr[count++] = i;\n\t\t\t\tmpd[i].x = undefined;\n\t\t\t\tmpd[i].y = undefined;\n\t\t\t}\n\t\t}\n\t}\n\n\tconst result = new Array(count + 1);\n\tfor (let i = 0; i < count; i++) {\n\t\tresult[i] = affectedArr[i];\n\t}\n\tresult[count] = index;\n\n\treturn result;\n};\n\nexport const resizeItemInitialChecks = (context, index, width, height) => {\n\tconst pd = getPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tif (index < 0 || index >= pd.length) {\n\t\t// invalid index\n\t\tthrow \"Index out of bounds.\";\n\t}\n\n\tif (typeof width !== \"number\" || typeof height !== \"number\") {\n\t\tthrow \"Width or Height is not a number.\";\n\t}\n\n\tif (pd[index].x + width + privateConstants.MARGIN > privateConstants.WIDTH) {\n\t\t// falls outside\n\t\tthrow \"Right edges falls outside the grid area.\";\n\t}\n\n\tif (\n\t\twidth < privateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH ||\n\t\theight < privateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH\n\t) {\n\t\t// very small. TO DO: let the developers decide the smallest item size but can't be less than 150\n\t\tthrow `Width or height less than min height or width ${privateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH}.`;\n\t}\n\n\treturn true;\n};\n\nexport const moveItemInitialChecks = (context, index, toX, toY) => {\n\tconst pd = getPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tif (index < 0 || index >= pd.length) {\n\t\t// invalid index\n\t\tthrow \"Index out of bounds.\";\n\t}\n\n\tif (typeof toX !== \"number\" || typeof toY !== \"number\") {\n\t\tthrow \"toX or toY is not a number.\";\n\t}\n\n\tif (toX < privateConstants.MARGIN || toY < privateConstants.MARGIN) {\n\t\t// falls outside\n\t\tthrow \"Left edges falls outside the grid area.\";\n\t}\n\n\tif (\n\t\ttoX + pd[index].width + privateConstants.MARGIN >\n\t\tprivateConstants.WIDTH\n\t) {\n\t\t// falls outside\n\t\tthrow \"Right edges falls outside the grid area.\";\n\t}\n\n\treturn true;\n};\n\nexport const resetDemoUIChanges = (context) => {\n\tconst pd = getPositionData(context);\n\tconst e = getElements(context);\n\n\tconst len = pd.length;\n\tfor (var i = 0; i < len; i++) {\n\t\te.$limberGridViewItems[i].style.transform =\n\t\t\t\"translate(\" + pd[i].x + \"px, \" + pd[i].y + \"px)\";\n\t\te.$limberGridViewItems[i].classList.remove(\"limberGridViewItemDemo\");\n\t}\n};\n\nexport const movePointAdjust = (context, toX, toY) => {\n\tconst pd = getPositionData(context);\n\tconst privateConstants = getPrivateConstants(context);\n\n\tconst len = pd.length;\n\tconst temp = { x: 0, y: 0, height: 0, width: 0 };\n\tconst pt = { x: toX, y: toY };\n\tlet inside;\n\tfor (let i = 0; i < len; i++) {\n\t\ttemp.x = pd[i].x - privateConstants.MARGIN;\n\t\ttemp.y = pd[i].y - privateConstants.MARGIN;\n\t\ttemp.width = pd[i].width + privateConstants.MARGIN * 2;\n\t\ttemp.height = pd[i].height + privateConstants.MARGIN * 2;\n\t\tif (isPointInsideRect(temp, pt) || doesPointTouchRect(temp, pt)) {\n\t\t\tinside = i;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (inside !== undefined) {\n\t\ttoX = pd[inside].x;\n\t\ttoY = pd[inside].y;\n\t}\n\treturn { toX, toY, overlappedItemIndex: inside };\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\n// import {\n// \tfindFreeSpaces,\n// \tmergeFreeSpaces,\n// \tfindAffectedItemsOnMove,\n// \tfindAffectedItemsOnResize,\n// \tfitItemsIntoFreeSpaces,\n// \tfindMatchingSpace,\n// \tfitRemainingItems,\n// \tfitRemainingItemsAboveDeepestLine,\n// \tfitRemainingItemsBelowDeepestLine,\n// \tgetItemsFromPointDepth,\n// \tshitftItemsBelow,\n// \tmergePlains,\n// \tsubtractPlanes,\n// } from \"./calcUtils\";\nimport {\n\tgetResizeAffectedItems,\n\tgetMoveAffectedItems,\n\tresizeItemInitialChecks,\n\tmoveItemInitialChecks,\n\tresetDemoUIChanges,\n\tmovePointAdjust,\n} from \"./itemInteractionUtils\";\nimport { arrangeMove, arrangeResize } from \"../arrange/arrange\";\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport getPublicConstants from \"../../store/constants/publicConstants\";\nimport {\n\tgetPositionData,\n\tgetModifiedPositionData,\n\tsetPositionData,\n\tsetModifiedPositionData,\n\tgetCallbacks,\n} from \"../../store/variables/essentials\";\nimport getElements from \"../../store/variables/elements\";\n\n// import { renderItems } from \"../renderers/renderers\";\n\nexport const resizeItem = async function (index, width, height) {\n\tconst pd = getPositionData(this);\n\tconst e = getElements(this);\n\tconst callbacks = getCallbacks(this);\n\n\tindex = parseInt(index);\n\tresizeItemInitialChecks(this, index, width, height);\n\n\tresetDemoUIChanges(this);\n\n\tsetModifiedPositionData(this, pd);\n\tconst mpd = getModifiedPositionData(this);\n\tmpd[index].width = width;\n\tmpd[index].height = height;\n\n\tconst modifiedItem = {\n\t\tx: pd[index].x,\n\t\ty: pd[index].y,\n\t\twidth: width,\n\t\theight: height,\n\t};\n\tconst affectedItems = getResizeAffectedItems(this, modifiedItem, index);\n\n\tconst arranged = await arrangeResize(\n\t\tthis,\n\t\taffectedItems,\n\t\tmodifiedItem.y + modifiedItem.height,\n\t\tmodifiedItem.x + modifiedItem.width\n\t);\n\n\tsetPositionData(this, mpd);\n\n\te.$limberGridViewItems[index].style.width = mpd[index].width;\n\te.$limberGridViewItems[index].style.height = mpd[index].height;\n\n\tconst arrangedArr = Object.keys(arranged);\n\tconst len = arrangedArr.length;\n\tfor (let i = 0; i < len; i++) {\n\t\tconst key = arrangedArr[i];\n\t\tconst item = arranged[key];\n\t\te.$limberGridViewItems[\n\t\t\tkey\n\t\t].style.transform = `translate(${item.x}px, ${item.y}px)`;\n\t}\n\n\tif (callbacks.resizeComplete) {\n\t\tcallbacks.resizeComplete(index, width, height, arrangedArr);\n\t}\n};\n\nexport const resizeItemDemo = async function (index, width, height) {\n\tconst pd = getPositionData(this);\n\tconst e = getElements(this);\n\n\tindex = parseInt(index);\n\tresizeItemInitialChecks(this, index, width, height);\n\n\tresetDemoUIChanges(this);\n\n\tsetModifiedPositionData(this, pd);\n\tconst mpd = getModifiedPositionData(this);\n\tmpd[index].width = width;\n\tmpd[index].height = height;\n\n\tconst modifiedItem = {\n\t\tx: pd[index].x,\n\t\ty: pd[index].y,\n\t\twidth: width,\n\t\theight: height,\n\t};\n\tconst affectedItems = getResizeAffectedItems(this, modifiedItem, index);\n\n\tconst arranged = await arrangeResize(\n\t\tthis,\n\t\taffectedItems,\n\t\tmodifiedItem.y + modifiedItem.height,\n\t\tmodifiedItem.x + modifiedItem.width,\n\t\ttrue\n\t);\n\n\tconst arrangedArr = Object.keys(arranged);\n\tconst len = arrangedArr.length;\n\tfor (let i = 0; i < len; i++) {\n\t\tconst key = arrangedArr[i];\n\t\tconst item = arranged[key];\n\t\te.$limberGridViewItems[\n\t\t\tkey\n\t\t].style.transform = `translate(${item.x}px, ${item.y}px)`;\n\t}\n};\n\nexport const moveItem = async function (index, toX, toY) {\n\tconst pd = getPositionData(this);\n\tconst e = getElements(this);\n\tconst callbacks = getCallbacks(this);\n\tconst publicConstants = getPublicConstants(this);\n\n\tindex = parseInt(index);\n\tif (publicConstants.LATCH_MOVED_ITEM) {\n\t\t// change toX & toY to top left of the overlapping item\n\t\t// provide a flag for developers to switch it on or off any time from UI by the user\n\t\t// maybe \"LATCH_MOVED_ITEM\"\n\t\tconst adjustedPt = movePointAdjust(this, toX, toY);\n\t\ttoX = adjustedPt.toX;\n\t\ttoY = adjustedPt.toY;\n\t}\n\n\tmoveItemInitialChecks(this, index, toX, toY);\n\n\tresetDemoUIChanges(this);\n\n\tsetModifiedPositionData(this, pd);\n\tconst mpd = getModifiedPositionData(this);\n\tmpd[index].x = toX;\n\tmpd[index].y = toY;\n\n\tconst modifiedItem = {\n\t\tx: toX,\n\t\ty: toY,\n\t\twidth: pd[index].width,\n\t\theight: pd[index].height,\n\t};\n\tconst affectedItems = getMoveAffectedItems(this, modifiedItem, index);\n\n\tconst arranged = await arrangeMove(\n\t\tthis,\n\t\taffectedItems,\n\t\ttoY,\n\t\ttoY + pd[index].height\n\t);\n\n\tsetPositionData(this, mpd);\n\n\te.$limberGridViewItems[index].classList.remove(\"limberGridViewItemDemo\");\n\te.$limberGridViewItems[\n\t\tindex\n\t].style.transform = `translate(${mpd[index].x}px, ${mpd[index].y}px)`;\n\tif (!publicConstants.ANIMATE_MOVED_ITEM) {\n\t\t// below two statements needs its own flag maybe \"ANIMATE_MOVED_ITEM\"\n\t\te.$limberGridViewItems[index].style.transition = \"none\";\n\t\tsetTimeout(() => {\n\t\t\te.$limberGridViewItems[index].style.transition = \"\";\n\t\t}, publicConstants.ANIMATE_TIME);\n\t}\n\n\tconst arrangedArr = Object.keys(arranged);\n\tconst len = arrangedArr.length;\n\tfor (let i = 0; i < len; i++) {\n\t\tconst key = arrangedArr[i];\n\t\tconst item = arranged[key];\n\t\te.$limberGridViewItems[\n\t\t\tkey\n\t\t].style.transform = `translate(${item.x}px, ${item.y}px)`;\n\t}\n\n\tif (callbacks.resizeComplete) {\n\t\tcallbacks.moveComplete(index, toX, toY, arrangedArr);\n\t}\n};\n\nexport const moveItemDemo = async function (index, toX, toY) {\n\tconst pd = getPositionData(this);\n\tconst e = getElements(this);\n\tconst publicConstants = getPublicConstants(this);\n\n\tindex = parseInt(index);\n\tif (publicConstants.LATCH_MOVED_ITEM) {\n\t\t// change toX & toY to top left of the overlapping item\n\t\t// provide a flag for developers to switch it on or off any time from UI by the user\n\t\tconst adjustedPt = movePointAdjust(this, toX, toY);\n\t\ttoX = adjustedPt.toX;\n\t\ttoY = adjustedPt.toY;\n\n\t\tif (!isNaN(adjustedPt.overlappedItemIndex)) {\n\t\t\te.$limberGridViewMoveGuide.style.transform =\n\t\t\t\t\"translate(\" + toX + \"px, \" + toY + \"px)\";\n\t\t\te.$limberGridViewMoveGuide.classList.add(\n\t\t\t\t\"limber-grid-view-move-guide-active\"\n\t\t\t);\n\t\t}\n\t}\n\n\tmoveItemInitialChecks(this, index, toX, toY);\n\n\tresetDemoUIChanges(this);\n\n\tsetModifiedPositionData(this, pd);\n\tconst mpd = getModifiedPositionData(this);\n\tmpd[index].x = toX;\n\tmpd[index].y = toY;\n\n\tconst modifiedItem = {\n\t\tx: toX,\n\t\ty: toY,\n\t\twidth: pd[index].width,\n\t\theight: pd[index].height,\n\t};\n\tconst affectedItems = getMoveAffectedItems(this, modifiedItem, index);\n\n\tconst arranged = await arrangeMove(\n\t\tthis,\n\t\taffectedItems,\n\t\ttoY,\n\t\ttoY + pd[index].height,\n\t\ttrue\n\t);\n\n\te.$limberGridViewItems[index].classList.add(\"limberGridViewItemDemo\");\n\n\tconst arrangedArr = Object.keys(arranged);\n\tconst len = arrangedArr.length;\n\tfor (let i = 0; i < len; i++) {\n\t\tconst key = arrangedArr[i];\n\t\tconst item = arranged[key];\n\t\te.$limberGridViewItems[\n\t\t\tkey\n\t\t].style.transform = `translate(${item.x}px, ${item.y}px)`;\n\t}\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport {\n\tgetLines,\n\tgetMarginAtPoint,\n\tadjustHeight,\n\tadjustScroll,\n} from \"../utils/essentials\";\n// import {\n// \tresizePlane,\n// \tresizePlaneDemo,\n// \tmovePlane,\n// \tmovePlaneDemo,\n// } from \"../calc/calcPosition\";\nimport getPublicConstants from \"../../store/constants/publicConstants\";\nimport getPrivateConstants from \"../../store/constants/privateConstants\";\nimport {\n\tgetCallbacks,\n\tgetPositionData,\n} from \"../../store/variables/essentials\";\nimport getElements from \"../../store/variables/elements\";\nimport {\n\t// calculateMousePosOnLimberGrid,\n\t// calculateTouchPosOnLimberGrid,\n\t// calculateTouchPosOnLimberGridItem,\n\tcalculateMousePosOnDesk,\n\tcalculateTouchPosOnDesk,\n\tcalculateTouchPosOnItem,\n} from \"./eventHandlerUtils.js\";\nimport {\n\tgetUserActionData,\n\tloadResizingState,\n\tunloadResizingState,\n\tloadMoveState,\n\tunloadMoveState,\n\tloadOnMoveState,\n\tunloadOnMoveState,\n} from \"./itemInteractionUtils.js\";\nimport { onDeskTouchStart } from \"./deskInteraction\";\nimport {\n\tmoveItem,\n\tmoveItemDemo,\n\tresizeItem,\n\tresizeItemDemo,\n} from \"../interaction/itemInteraction\";\nimport { getBindedFunctions } from \"../../store/variables/bindedFunctions\";\nimport { getItemInteractionVars } from \"../../store/variables/eventSpecific\";\n\n// let userActionData = {};\n// let mouseDownCancel = false;\n// let mouseDownTimerComplete = true;\n// let touchHoldCancel = false;\n// // let tapHoldCancel = false;\n// let touchHoldTimerComplete = false;\n// // let tapHoldTimerComplete = false;\n// let longPressCheck;\n// let longTouchCheck;\n// let showResizeDemoTimeOutVariable;\n// let showMoveDemoTimeOutVariable;\n\nexport const onItemMouseDown = function (event) {\n\tconst e = getElements(this);\n\tconst publicConstants = getPublicConstants(this);\n\tconst pd = getPositionData(this);\n\n\tconst iiv = getItemInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tif (event.which !== 1) {\n\t\tonItemContextMenu.call(this, event);\n\t\treturn;\n\t}\n\n\tconst _userActionData = getUserActionData(this, event);\n\n\tif (!_userActionData) {\n\t\treturn;\n\t}\n\n\tObject.assign(iiv.userActionData, _userActionData);\n\n\tif (iiv.userActionData.type === \"move\") {\n\t\tiiv.mouseDownCancel = false;\n\t\tiiv.mouseDownTimerComplete = false;\n\n\t\tdocument.addEventListener(\"mousemove\", bf.onItemMouseMove);\n\t\tdocument.addEventListener(\"mouseup\", bf.onItemMouseUp);\n\t\tdocument.addEventListener(\"contextmenu\", bf.onItemContextMenu);\n\n\t\tclearTimeout(iiv.longPressCheck);\n\t\tiiv.longPressCheck = setTimeout(\n\t\t\tmouseDownCheck.bind(this, event),\n\t\t\tpublicConstants.MOUSE_DOWN_TIME\n\t\t);\n\n\t\tevent.preventDefault();\n\t} else if (iiv.userActionData.type === \"resize\") {\n\t\tiiv.mouseDownCancel = false;\n\t\tiiv.mouseDownTimerComplete = true;\n\n\t\te.$limberGridView.addEventListener(\"mousemove\", bf.onItemMouseMove);\n\t\tdocument.addEventListener(\"mouseup\", bf.onItemMouseUp);\n\t\tdocument.addEventListener(\"contextmenu\", bf.onItemContextMenu);\n\n\t\tiiv.userActionData.itemX = pd[iiv.userActionData.itemIndex].x;\n\t\tiiv.userActionData.itemY = pd[iiv.userActionData.itemIndex].y;\n\n\t\tloadResizingState(this, iiv.userActionData);\n\n\t\tevent.preventDefault();\n\t}\n\n\t//\n\tevent.stopPropagation();\n};\n\nexport const onItemTouchStart = function (event) {\n\tconst e = getElements(this);\n\tconst publicConstants = getPublicConstants(this);\n\tconst pd = getPositionData(this);\n\n\tconst iiv = getItemInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tif (event.touches.length !== 1) {\n\t\tonItemTouchContextMenu.call(this, event);\n\t\treturn;\n\t}\n\n\tif (event.which !== 0) {\n\t\tonItemTouchContextMenu.call(this, event);\n\t\treturn;\n\t}\n\n\tconst touchPosOnLimberGridItem = calculateTouchPosOnItem(this, event);\n\tif (touchPosOnLimberGridItem === false) {\n\t\treturn;\n\t}\n\n\tconst _userActionData = getUserActionData(this, event);\n\tif (!_userActionData) {\n\t\treturn;\n\t}\n\n\tObject.assign(iiv.userActionData, _userActionData);\n\n\tif (iiv.userActionData.type === \"move\") {\n\t\tiiv.touchHoldCancel = false;\n\t\tiiv.touchHoldTimerComplete = false;\n\n\t\t// e.$limberGridView.removeEventListener(\"touchstart\", bf.onDeskTouchStart);\n\t\tdocument.addEventListener(\"touchmove\", bf.onItemTouchMove);\n\t\tdocument.addEventListener(\"touchend\", bf.onItemTouchEnd);\n\t\tdocument.addEventListener(\"touchcancel\", bf.onItemTouchCancel);\n\t\tdocument.addEventListener(\"contextmenu\", bf.onItemTouchContextMenu);\n\n\t\tiiv.longTouchCheck = setTimeout(\n\t\t\ttapHoldCheck.bind(this, event),\n\t\t\tpublicConstants.TOUCH_HOLD_TIME\n\t\t);\n\n\t\tevent.preventDefault();\n\t} else if (iiv.userActionData.type === \"resize\") {\n\t\tiiv.touchHoldCancel = false;\n\t\tiiv.touchHoldTimerComplete = true;\n\n\t\t// e.$limberGridView.removeEventListener(\"touchstart\", bf.onDeskTouchStart);\n\t\te.$limberGridView.addEventListener(\"touchmove\", bf.onItemTouchMove);\n\t\tdocument.addEventListener(\"touchend\", bf.onItemTouchEnd);\n\t\tdocument.addEventListener(\"touchcancel\", bf.onItemTouchCancel);\n\t\t//\n\t\tdocument.addEventListener(\"contextmenu\", bf.onItemTouchContextMenu);\n\n\t\tiiv.userActionData.itemX = pd[iiv.userActionData.itemIndex].x;\n\t\tiiv.userActionData.itemY = pd[iiv.userActionData.itemIndex].y;\n\n\t\tloadResizingState(this, iiv.userActionData);\n\n\t\tevent.preventDefault();\n\t}\n\n\tevent.stopPropagation();\n};\n\nexport const mouseDownCheck = function (event) {\n\tconst iiv = getItemInteractionVars(this);\n\n\tif (iiv.mouseDownCancel === false) {\n\t\tiiv.mouseDownTimerComplete = true;\n\n\t\tloadMoveState(this, iiv.userActionData, event);\n\t}\n};\n\nexport const tapHoldCheck = function (event) {\n\tconst iiv = getItemInteractionVars(this);\n\n\tif (iiv.touchHoldCancel === false) {\n\t\tiiv.touchHoldTimerComplete = true;\n\n\t\tloadMoveState(this, iiv.userActionData, event);\n\t}\n};\n\nexport const onItemMouseMove = function (event) {\n\tconst e = getElements(this);\n\tconst privateConstants = getPrivateConstants(this);\n\tconst publicConstants = getPublicConstants(this);\n\n\tconst iiv = getItemInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tif (iiv.mouseDownTimerComplete === true) {\n\t\tif (iiv.userActionData.type === \"move\") {\n\t\t\tloadOnMoveState(this, iiv.userActionData, event, \"move\");\n\n\t\t\tclearTimeout(iiv.showMoveDemoTimeOutVariable);\n\n\t\t\tconst mousePositionOnLimberGrid = calculateMousePosOnDesk(this, event);\n\n\t\t\tif (mousePositionOnLimberGrid !== false) {\n\t\t\t\tconst yMousePosition = mousePositionOnLimberGrid.y;\n\t\t\t\tadjustHeight(this, yMousePosition);\n\n\t\t\t\tiiv.showMoveDemoTimeOutVariable = setTimeout(\n\t\t\t\t\tshowMoveDemo.bind(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\tiiv.userActionData.itemIndex,\n\t\t\t\t\t\tmousePositionOnLimberGrid\n\t\t\t\t\t),\n\t\t\t\t\tpublicConstants.DEMO_WAIT_TIME\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tloadOnMoveState(this, iiv.userActionData, event, \"resize\");\n\n\t\t\tclearTimeout(iiv.showResizeDemoTimeOutVariable);\n\n\t\t\tconst scrollTop = e.$limberGridView.scrollTop;\n\t\t\tconst scrollLeft = e.$limberGridView.scrollLeft;\n\n\t\t\tconst x = iiv.userActionData.itemX;\n\t\t\tconst y = iiv.userActionData.itemY;\n\n\t\t\tconst newWidth =\n\t\t\t\tevent.offsetX - x + scrollLeft - privateConstants.PADDING_LEFT;\n\t\t\tconst newHeight =\n\t\t\t\tevent.offsetY - y + scrollTop - privateConstants.PADDING_TOP;\n\n\t\t\tiiv.userActionData.newWidth = newWidth;\n\t\t\tiiv.userActionData.newHeight = newHeight;\n\n\t\t\tconst yMousePosition = event.offsetY + scrollTop;\n\t\t\tadjustHeight(this, yMousePosition);\n\n\t\t\tif (newWidth > 0 && newHeight > 0) {\n\t\t\t\te.$limberGridViewPseudoItem.style.width = newWidth + \"px\";\n\t\t\t\te.$limberGridViewPseudoItem.style.height = newHeight + \"px\";\n\t\t\t\te.$limberGridViewPseudoItem.setAttribute(\n\t\t\t\t\t\"data-after\",\n\t\t\t\t\t`w: ${parseInt(newWidth)}px, h: ${parseInt(newHeight)}px`\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tiiv.showResizeDemoTimeOutVariable = setTimeout(\n\t\t\t\tshowResizeDemo.bind(\n\t\t\t\t\tthis,\n\t\t\t\t\tiiv.userActionData.itemIndex,\n\t\t\t\t\tnewWidth,\n\t\t\t\t\tnewHeight\n\t\t\t\t),\n\t\t\t\tpublicConstants.DEMO_WAIT_TIME\n\t\t\t);\n\t\t}\n\t} else {\n\t\tiiv.mouseDownCancel = true;\n\n\t\tonItemContextMenu.call(this, event);\n\t\t// clearTimeout(iiv.longPressCheck);\n\t\t// document.removeEventListener(\"mousemove\", bf.onItemMouseMove);\n\t\t// e.$limberGridView.removeEventListener(\"mousemove\", bf.onItemMouseMove);\n\t\t// document.removeEventListener(\"mouseup\", bf.onItemMouseUp);\n\t\t// document.removeEventListener(\"contextmenu\", bf.onItemContextMenu);\n\n\t\t// canceling mouseHold\n\t}\n\tevent.preventDefault();\n\tevent.stopPropagation();\n};\n\nexport const onItemTouchMove = function (event) {\n\tconst e = getElements(this);\n\tconst privateConstants = getPrivateConstants(this);\n\tconst publicConstants = getPublicConstants(this);\n\n\tconst iiv = getItemInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tif (iiv.touchHoldTimerComplete === true && event.touches.length === 1) {\n\t\tif (iiv.userActionData.type === \"move\") {\n\t\t\tloadOnMoveState(this, iiv.userActionData, event, \"move\");\n\n\t\t\tclearTimeout(iiv.showMoveDemoTimeOutVariable);\n\n\t\t\tconst touchPositionOnLimberGrid = calculateTouchPosOnDesk(this, event);\n\n\t\t\tif (touchPositionOnLimberGrid !== false) {\n\t\t\t\tconst scrollTop = e.$limberGridView.scrollTop;\n\t\t\t\tconst scrollLeft = e.$limberGridView.scrollLeft;\n\n\t\t\t\tconst limberGridViewBoundingClientRect = e.$limberGridView.getBoundingClientRect();\n\t\t\t\tconst limberGridViewWidthVisibleWidth =\n\t\t\t\t\te.$limberGridView.offsetWidth - limberGridViewBoundingClientRect.left;\n\t\t\t\tconst limberGridViewHeightVisibleHeight =\n\t\t\t\t\te.$limberGridView.offsetHeight - limberGridViewBoundingClientRect.top;\n\t\t\t\tconst limberGridViewOnVisibleAreaX =\n\t\t\t\t\ttouchPositionOnLimberGrid.x +\n\t\t\t\t\tprivateConstants.PADDING_LEFT -\n\t\t\t\t\tscrollLeft;\n\t\t\t\tconst limberGridViewOnVisibleAreaY =\n\t\t\t\t\ttouchPositionOnLimberGrid.y +\n\t\t\t\t\tprivateConstants.PADDING_TOP -\n\t\t\t\t\tscrollTop;\n\n\t\t\t\tconst yTouchPosition = touchPositionOnLimberGrid.y;\n\t\t\t\tadjustHeight(this, yTouchPosition);\n\n\t\t\t\tconst programScrolled = adjustScroll(\n\t\t\t\t\tthis,\n\t\t\t\t\tlimberGridViewOnVisibleAreaY,\n\t\t\t\t\tlimberGridViewHeightVisibleHeight\n\t\t\t\t);\n\n\t\t\t\tif (programScrolled !== true) {\n\t\t\t\t\tiiv.showMoveDemoTimeOutVariable = setTimeout(\n\t\t\t\t\t\tshowMoveDemo.bind(\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\tiiv.userActionData.itemIndex,\n\t\t\t\t\t\t\ttouchPositionOnLimberGrid\n\t\t\t\t\t\t),\n\t\t\t\t\t\tpublicConstants.DEMO_WAIT_TIME\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tloadOnMoveState(this, iiv.userActionData, event, \"resize\");\n\n\t\t\tclearTimeout(iiv.showResizeDemoTimeOutVariable);\n\n\t\t\tconst x = iiv.userActionData.itemX;\n\t\t\tconst y = iiv.userActionData.itemY;\n\n\t\t\tconst touchPositionOnLimberGrid = calculateTouchPosOnDesk(this, event);\n\n\t\t\tconst newWidth = touchPositionOnLimberGrid.x - x;\n\t\t\tconst newHeight = touchPositionOnLimberGrid.y - y;\n\n\t\t\tif (touchPositionOnLimberGrid !== false) {\n\t\t\t\tiiv.userActionData.newWidth = newWidth;\n\t\t\t\tiiv.userActionData.newHeight = newHeight;\n\n\t\t\t\tif (newWidth > 0 && newHeight > 0) {\n\t\t\t\t\te.$limberGridViewPseudoItem.style.width = newWidth + \"px\";\n\t\t\t\t\te.$limberGridViewPseudoItem.style.height = newHeight + \"px\";\n\t\t\t\t\te.$limberGridViewPseudoItem.setAttribute(\n\t\t\t\t\t\t\"data-after\",\n\t\t\t\t\t\t`w: ${parseInt(newWidth)}px, h: ${parseInt(newHeight)}px`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (touchPositionOnLimberGrid !== false) {\n\t\t\t\tconst scrollTop = e.$limberGridView.scrollTop;\n\t\t\t\tconst scrollLeft = e.$limberGridView.scrollLeft;\n\n\t\t\t\tconst limberGridViewBoundingClientRect = e.$limberGridView.getBoundingClientRect();\n\t\t\t\tconst limberGridViewWidthVisibleWidth =\n\t\t\t\t\te.$limberGridView.offsetWidth - limberGridViewBoundingClientRect.left;\n\t\t\t\tconst limberGridViewHeightVisibleHeight =\n\t\t\t\t\te.$limberGridView.offsetHeight - limberGridViewBoundingClientRect.top;\n\t\t\t\tconst limberGridViewOnVisibleAreaX =\n\t\t\t\t\ttouchPositionOnLimberGrid.x +\n\t\t\t\t\tprivateConstants.PADDING_LEFT -\n\t\t\t\t\tscrollLeft;\n\t\t\t\tconst limberGridViewOnVisibleAreaY =\n\t\t\t\t\ttouchPositionOnLimberGrid.y +\n\t\t\t\t\tprivateConstants.PADDING_TOP -\n\t\t\t\t\tscrollTop;\n\n\t\t\t\tconst yTouchPosition = touchPositionOnLimberGrid.y;\n\t\t\t\tadjustHeight(this, yTouchPosition);\n\n\t\t\t\tconst programScrolled = adjustScroll(\n\t\t\t\t\tthis,\n\t\t\t\t\tlimberGridViewOnVisibleAreaY,\n\t\t\t\t\tlimberGridViewHeightVisibleHeight\n\t\t\t\t);\n\n\t\t\t\tif (programScrolled !== true) {\n\t\t\t\t\tiiv.showResizeDemoTimeOutVariable = setTimeout(\n\t\t\t\t\t\tshowResizeDemo.bind(\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\tiiv.userActionData.itemIndex,\n\t\t\t\t\t\t\tnewWidth,\n\t\t\t\t\t\t\tnewHeight\n\t\t\t\t\t\t),\n\t\t\t\t\t\tpublicConstants.DEMO_WAIT_TIME\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tconsole.log(\"else\");\n\t\tiiv.touchHoldCancel = true;\n\n\t\tonItemTouchContextMenu.call(this, event);\n\t\t// clearTimeout(iiv.longTouchCheck);\n\n\t\t// document.removeEventListener(\"contextmenu\", bf.onItemContextMenu);\n\n\t\t// document.removeEventListener(\"touchmove\", bf.onItemTouchMove);\n\t\t// e.$limberGridView.removeEventListener(\"touchmove\", bf.onItemTouchMove);\n\t\t// document.removeEventListener(\"touchend\", bf.onItemTouchEnd);\n\t\t// document.removeEventListener(\"contextmenu\", bf.onItemTouchContextMenu);\n\t\t// document.removeEventListener(\"touchcancel\", bf.onItemTouchCancel);\n\n\t\t// e.$limberGridView.addEventListener(\"touchstart\", bf.onDeskTouchStart);\n\n\t\t// canceling taphold\n\t}\n\n\tevent.stopPropagation();\n};\n\nexport const onItemMouseUp = async function (event) {\n\tconst e = getElements(this);\n\tconst callbacks = getCallbacks(this);\n\tconst pd = getPositionData(this);\n\n\tconst iiv = getItemInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tclearTimeout(iiv.showMoveDemoTimeOutVariable);\n\tclearTimeout(iiv.showResizeDemoTimeOutVariable);\n\tvar itemResizeFlag = false;\n\tvar itemMoveFlag = false;\n\tif (iiv.mouseDownTimerComplete === true) {\n\t\tif (iiv.userActionData.type === \"move\") {\n\t\t\tunloadMoveState(this, iiv.userActionData);\n\t\t\tunloadOnMoveState(this);\n\n\t\t\tconst mousePositionOnLimberGrid = calculateMousePosOnDesk(this, event);\n\t\t\tvar updatedCoordinates = {};\n\t\t\ttry {\n\t\t\t\tif (mousePositionOnLimberGrid !== false) {\n\t\t\t\t\tawait moveItem.call(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\tiiv.userActionData.itemIndex,\n\t\t\t\t\t\tmousePositionOnLimberGrid.x,\n\t\t\t\t\t\tmousePositionOnLimberGrid.y\n\t\t\t\t\t);\n\t\t\t\t\tupdatedCoordinates.x = mousePositionOnLimberGrid.x;\n\t\t\t\t\tupdatedCoordinates.y = mousePositionOnLimberGrid.y;\n\t\t\t\t\titemMoveFlag = true;\n\t\t\t\t} else {\n\t\t\t\t\tthrow \"Mouse position outside grid area.\";\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error);\n\t\t\t\trevertShowMoveOrResizeDemo(this);\n\t\t\t}\n\t\t} else {\n\t\t\tunloadResizingState(this, iiv.userActionData);\n\t\t\tunloadOnMoveState(this);\n\n\t\t\ttry {\n\t\t\t\tvar newWidth = iiv.userActionData.newWidth;\n\t\t\t\tvar newHeight = iiv.userActionData.newHeight;\n\n\t\t\t\tawait resizeItem.call(\n\t\t\t\t\tthis,\n\t\t\t\t\tiiv.userActionData.itemIndex,\n\t\t\t\t\tnewWidth,\n\t\t\t\t\tnewHeight\n\t\t\t\t);\n\t\t\t} catch (error) {\n\t\t\t\trevertShowMoveOrResizeDemo(this);\n\t\t\t\titemResizeFlag = true;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tiiv.mouseDownCancel = true;\n\t\t// clearTimeout(iiv.longPressCheck);\n\t\t// canceling mouseHold\n\t}\n\n\tonItemContextMenu.call(this, event);\n\n\t// document.removeEventListener(\"mousemove\", bf.onItemMouseMove);\n\t// e.$limberGridView.removeEventListener(\"mousemove\", bf.onItemMouseMove);\n\t// document.removeEventListener(\"mouseup\", bf.onItemMouseUp);\n\t// document.removeEventListener(\"contextmenu\", bf.onItemContextMenu);\n\n\t// event.preventDefault();\n\t// event.stopPropagation();\n\n\t//\n\tif (\n\t\tcallbacks.moveCompleteCallback != undefined &&\n\t\tcallbacks.moveCompleteCallback != null\n\t) {\n\t\tif (itemMoveFlag == true) {\n\t\t\tupdatedCoordinates.width = pd[iiv.userActionData.itemIndex].width;\n\t\t\tupdatedCoordinates.height = pd[iiv.userActionData.itemIndex].height;\n\t\t\tcallbacks.moveCompleteCallback(\n\t\t\t\ttrue,\n\t\t\t\tiiv.userActionData.itemIndex,\n\t\t\t\tupdatedCoordinates\n\t\t\t);\n\t\t} else if (iiv.userActionData.type == \"move\") {\n\t\t\tcallbacks.moveCompleteCallback(\n\t\t\t\tfalse,\n\t\t\t\tiiv.userActionData.itemIndex,\n\t\t\t\tevent\n\t\t\t);\n\t\t}\n\t}\n\tif (\n\t\tcallbacks.resizeCompleteCallback != undefined &&\n\t\tcallbacks.resizeCompleteCallback != null\n\t) {\n\t\tif (itemResizeFlag == true) {\n\t\t\tcallbacks.resizeCompleteCallback(iiv.userActionData.itemIndex, {\n\t\t\t\tx: pd[iiv.userActionData.itemIndex].x,\n\t\t\t\ty: pd[iiv.userActionData.itemIndex].y,\n\t\t\t\theight: newHeight,\n\t\t\t\twidth: newWidth,\n\t\t\t});\n\t\t}\n\t}\n\t//\n\n\tiiv.userActionData = {};\n};\n\nexport const onItemTouchEnd = async function (event) {\n\tconsole.log(\"onItemTouchEnd\");\n\tconst e = getElements(this);\n\tconst callbacks = getCallbacks(this);\n\tconst pd = getPositionData(this);\n\n\tconst iiv = getItemInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tclearTimeout(iiv.showMoveDemoTimeOutVariable);\n\tclearTimeout(iiv.showResizeDemoTimeOutVariable);\n\tvar itemResizeFlag = false;\n\tvar itemMoveFlag = false;\n\tif (iiv.touchHoldTimerComplete === true && event.touches.length === 0) {\n\t\tif (iiv.userActionData.type === \"move\") {\n\t\t\tunloadMoveState(this, iiv.userActionData);\n\t\t\tunloadOnMoveState(this);\n\n\t\t\tconst touchPositionOnLimberGrid = calculateTouchPosOnDesk(this, event);\n\t\t\tvar updatedCoordinates = {};\n\t\t\ttry {\n\t\t\t\tif (touchPositionOnLimberGrid !== false) {\n\t\t\t\t\tawait moveItem.call(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\tiiv.userActionData.itemIndex,\n\t\t\t\t\t\ttouchPositionOnLimberGrid.x,\n\t\t\t\t\t\ttouchPositionOnLimberGrid.y\n\t\t\t\t\t);\n\t\t\t\t\tupdatedCoordinates.x = touchPositionOnLimberGrid.x;\n\t\t\t\t\tupdatedCoordinates.y = touchPositionOnLimberGrid.y;\n\t\t\t\t\titemMoveFlag = true;\n\t\t\t\t} else {\n\t\t\t\t\tthrow \"Touch position outside grid area.\";\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error);\n\t\t\t\trevertShowMoveOrResizeDemo(this);\n\t\t\t}\n\t\t} else {\n\t\t\tunloadResizingState(this, iiv.userActionData);\n\t\t\tunloadOnMoveState(this);\n\n\t\t\ttry {\n\t\t\t\tvar newWidth = iiv.userActionData.newWidth;\n\t\t\t\tvar newHeight = iiv.userActionData.newHeight;\n\n\t\t\t\tawait resizeItem.call(\n\t\t\t\t\tthis,\n\t\t\t\t\tiiv.userActionData.itemIndex,\n\t\t\t\t\tnewWidth,\n\t\t\t\t\tnewHeight\n\t\t\t\t);\n\t\t\t} catch (error) {\n\t\t\t\trevertShowMoveOrResizeDemo(this);\n\t\t\t\titemResizeFlag = true;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tiiv.touchHoldCancel = true;\n\t\t// clearTimeout(iiv.longTouchCheck);\n\t\t// canceling taphold\n\t}\n\n\tonItemTouchContextMenu.call(this, event);\n\t// document.removeEventListener(\"contextmenu\", bf.onItemContextMenu);\n\n\t// document.removeEventListener(\"touchmove\", bf.onItemTouchMove);\n\t// e.$limberGridView.removeEventListener(\"touchmove\", bf.onItemTouchMove);\n\t// document.removeEventListener(\"touchend\", bf.onItemTouchEnd);\n\t// document.removeEventListener(\"contextmenu\", bf.onItemTouchContextMenu);\n\t// document.removeEventListener(\"touchcancel\", bf.onItemTouchCancel);\n\n\t// e.$limberGridView.addEventListener(\"touchstart\", bf.onDeskTouchStart);\n\n\tevent.stopPropagation();\n\n\t//\n\tif (\n\t\tcallbacks.moveCompleteCallback != undefined &&\n\t\tcallbacks.moveCompleteCallback != null\n\t) {\n\t\tif (itemMoveFlag == true) {\n\t\t\tupdatedCoordinates.width = pd[iiv.userActionData.itemIndex].width;\n\t\t\tupdatedCoordinates.height = pd[iiv.userActionData.itemIndex].height;\n\t\t\tcallbacks.moveCompleteCallback(\n\t\t\t\ttrue,\n\t\t\t\tiiv.userActionData.itemIndex,\n\t\t\t\tupdatedCoordinates\n\t\t\t);\n\t\t} else if (iiv.userActionData.type == \"move\") {\n\t\t\tcallbacks.moveCompleteCallback(\n\t\t\t\tfalse,\n\t\t\t\tiiv.userActionData.itemIndex,\n\t\t\t\tevent\n\t\t\t);\n\t\t}\n\t}\n\tif (\n\t\tcallbacks.resizeCompleteCallback != undefined &&\n\t\tcallbacks.resizeCompleteCallback != null\n\t) {\n\t\tif (itemResizeFlag == true) {\n\t\t\tcallbacks.resizeCompleteCallback(iiv.userActionData.itemIndex, {\n\t\t\t\tx: pd[iiv.userActionData.itemIndex].x,\n\t\t\t\ty: pd[iiv.userActionData.itemIndex].y,\n\t\t\t\theight: newHeight,\n\t\t\t\twidth: newWidth,\n\t\t\t});\n\t\t}\n\t}\n\t//\n\n\tiiv.userActionData = {};\n};\n\nexport const onItemContextMenu = function (event) {\n\tconst e = getElements(this);\n\n\tconst iiv = getItemInteractionVars(this);\n\tconst bf = getBindedFunctions(this);\n\n\tclearTimeout(iiv.showMoveDemoTimeOutVariable);\n\tclearTimeout(iiv.showResizeDemoTimeOutVariable);\n\tclearTimeout(iiv.longPressCheck);\n\tclearTimeout(iiv.longTouchCheck);\n\n\tunloadResizingState(this, iiv.userActionData);\n\tunloadMoveState(this, iiv.userActionData);\n\tunloadOnMoveState(this);\n\trevertShowMoveOrResizeDemo(this);\n\n\tdocument.removeEventListener(\"mousemove\", bf.onItemMouseMove);\n\te.$limberGridView.removeEventListener(\"mousemove\", bf.onItemMouseMove);\n\tdocument.removeEventListener(\"mouseup\", bf.onItemMouseUp);\n\tdocument.removeEventListener(\"contextmenu\", bf.onItemContextMenu);\n\n\tdocument.removeEventListener(\"touchmove\", bf.onItemTouchMove);\n\te.$limberGridView.removeEventListener(\"touchmove\", bf.onItemTouchMove);\n\tdocument.removeEventListener(\"touchend\", bf.onItemTouchEnd);\n\tdocument.removeEventListener(\"contextmenu\", bf.onItemTouchContextMenu);\n\tdocument.removeEventListener(\"touchcancel\", bf.onItemTouchCancel);\n\n\tiiv.userActionData = {};\n\t//\n\t// iiv.mouseDownCancel = false;\n\t// iiv.mouseDownTimerComplete = false;\n\n\t//\n\n\tevent.preventDefault();\n\tevent.stopPropagation();\n};\n\nexport const onItemTouchContextMenu = function (event) {\n\t// event.preventDefault();\n\tonItemContextMenu.call(this, event);\n};\n\nexport const onItemTouchCancel = function (event) {\n\t// const e = getElements(this);\n\n\t// const iiv = getItemInteractionVars(this);\n\t// const bf = getBindedFunctions(this);\n\n\tonItemContextMenu.call(this, event);\n\t// iiv.touchHoldTimerComplete = false;\n\t// e.$limberGridView.addEventListener(\"touchstart\", bf.onDeskTouchStart);\n};\n\nexport const showMoveDemo = async function (index, mousePosition) {\n\tconst e = getElements(this);\n\n\ttry {\n\t\tif (mousePosition !== false) {\n\t\t\tawait moveItemDemo.call(this, index, mousePosition.x, mousePosition.y);\n\n\t\t\t// e.$limberGridViewMoveGuide.style.transform =\n\t\t\t// \t\"translate(\" + mousePosition.x + \"px, \" + mousePosition.y + \"px)\";\n\t\t\t// e.$limberGridViewMoveGuide.classList.add(\n\t\t\t// \t\"limber-grid-view-move-guide-active\"\n\t\t\t// );\n\n\t\t\te.$pseudoContainerItem.classList.remove(\n\t\t\t\t\"limber-grid-view-pseudo-container-item-move-disallow\"\n\t\t\t);\n\t\t\te.$pseudoContainerItem.classList.add(\n\t\t\t\t\"limber-grid-view-pseudo-container-item-move-allow\"\n\t\t\t);\n\t\t} else {\n\t\t\tthrow \"Invalid mouse position.\";\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(error);\n\t\te.$pseudoContainerItem.classList.remove(\n\t\t\t\"limber-grid-view-pseudo-container-item-move-allow\"\n\t\t);\n\t\te.$pseudoContainerItem.classList.add(\n\t\t\t\"limber-grid-view-pseudo-container-item-move-disallow\"\n\t\t);\n\t}\n};\n\nexport const showResizeDemo = async function (index, width, height) {\n\tconst e = getElements(this);\n\n\ttry {\n\t\tawait resizeItemDemo.call(this, index, width, height);\n\t\te.$limberGridViewPseudoItem.classList.add(\n\t\t\t\"limber-grid-view-pseudo-item-resize-allow\"\n\t\t);\n\t} catch (error) {\n\t\tconsole.error(error);\n\t\te.$limberGridViewPseudoItem.classList.add(\n\t\t\t\"limber-grid-view-pseudo-item-resize-disallow\"\n\t\t);\n\t}\n};\n\nexport const revertShowMoveOrResizeDemo = function (context) {\n\tconst e = getElements(context);\n\tconst pd = getPositionData(context);\n\n\tconst len = e.$limberGridViewItems.length;\n\tfor (let i = 0; i < len; i++) {\n\t\te.$limberGridViewItems[\n\t\t\ti\n\t\t].style.transform = `translate(${pd[i].x}px, ${pd[i].y}px)`;\n\t}\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nexport const DESK_INTERACTION_MODE = { ADD: true, CUTSPACE: true };\n\nexport const LATCH_MOVED_ITEM = { true: true, false: true };\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport { getOptions } from \"../store/variables/options\";\nimport {\n\tgetPositionData,\n\tsetPositionData,\n\tgetModifiedPositionData,\n\tsetModifiedPositionData,\n\tsetPseudoContainerId,\n\tgetPseudoContainerId,\n} from \"../store/variables/essentials\";\nimport getElements, {\n\tset$body,\n\tset$pseudoContainer,\n\tset$limberGridViewContainer,\n\tset$limberGridView,\n\tset$pseudoContainerItem,\n\tset$limberGridViewPseudoItem,\n\tset$limberGridViewMoveGuide,\n\tset$limberGridViewHeightAdjustGuide,\n\tset$limberGridViewAddCutGuide,\n\tset$limberGridViewTouchHoldGuide,\n} from \"../store/variables/elements\";\nimport getPrivateConstants, {\n\tsetWidth,\n\tsetHeight,\n\tsetPaddingLeft,\n\tsetPaddingRight,\n\tsetPaddingTop,\n\tsetPaddingBottom,\n\tsetWidthScaleFactor,\n\tsetMargin,\n\tsetDefinedMinHeightAndWidth,\n\tgetDefinedMinHeightAndWidth,\n\tsetGridWidth,\n\tsetGridHeight,\n\tsetGridMargin,\n\tsetMinHeightAndWidth,\n} from \"../store/constants/privateConstants\";\nimport getPublicConstants, {\n\tsetPublicConstantByName,\n} from \"../store/constants/publicConstants\";\nimport { checkPositionData } from \"../libs/renderers/rendererUtils\";\nimport { getRandomString } from \"../libs/utils/utils\";\nimport { arrangeFromHeight } from \"../libs/arrange/arrange\";\nimport { DESK_INTERACTION_MODE } from \"../store/flags/flagDetails\";\n\nexport const init = async function (context, isResize, autoArrange) {\n\t// if (typeof options.el === \"string\") {\n\t// \tconst el = document.getElementById(options.el);\n\t// \tif (!el) {\n\t// \t\tthrow `No for element found for id ${options.el}`;\n\t// \t}\n\t// \tset$el(el);\n\t// } else if (options.el instanceof Element) {\n\t// \tset$el(options.el);\n\t// } else {\n\t// \tthrow \"Valid DOM Element or Id required\";\n\t// }\n\n\t// set$body(context, document.getElementsByTagName(\"body\")[0]);\n\t// setPseudoElementId(\n\t// \tcontext,\n\t// \t\"limber-grid-view-pseudo-container-\" + getRandomString()\n\t// );\n\t// e.$body[0].insertAdjacentHTML(\n\t// \t\"beforeend\",\n\t// \t`<div id = ${getPseudoElementId(\n\t// \t\tcontext\n\t// \t)} class = \"limber-grid-view-pseudo-container\"></div>`\n\t// );\n\t// set$bodyPseudoEl(\n\t// \tcontext,\n\t// \tdocument.getElementById(getPseudoElementId(context))\n\t// );\n\n\t// e.$el.innerHTML = `<div class = \"limber-grid-view-container\"><style></style><div class = \"limber-grid-view\"></div><div class = \"limber-grid-view-license\"><div class = \"limber-grid-view-license-icon\">©</div><div class = \"limber-grid-view-license-details\">LimberGridView Copyright © 2018-2020, Subendra Kumar Sharma. License: GNU General Public License version 3, or (at your option) any later version.</div></div></div>`;\n\t// set$limberGridViewContainer(\n\t// \tcontext,\n\t// \te.$el.querySelectorAll(\".limber-grid-view-container\")[0]\n\t// );\n\t// set$limberGridViewStyle(context, e.$el.getElementsByTagName(\"style\")[0]);\n\t// set$limberGridView(context, e.$el.querySelectorAll(\".limber-grid-view\")[0]);\n\n\tconst e = getElements(context);\n\tconst privateConstants = getPrivateConstants(context);\n\tconst publicConstants = getPublicConstants(context);\n\tconst pd = getPositionData(context);\n\n\tif (autoArrange === true || !checkPositionData(pd)) {\n\t\tconsole.warn(\"Auto-arranging\");\n\n\t\tsetModifiedPositionData(context, pd);\n\t\tconst mpd = getModifiedPositionData(context);\n\t\tconst len = pd.length;\n\t\tconst arr = new Array(len);\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tarr[i] = i;\n\t\t\tmpd[i].x = undefined;\n\t\t\tmpd[i].y = undefined;\n\n\t\t\tpd[i].x /= privateConstants.WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].y /= privateConstants.WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].width /= privateConstants.WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].height /= privateConstants.WIDTH_SCALE_FACTOR;\n\t\t}\n\n\t\tsetWidth(context, privateConstants.GRID_WIDTH);\n\t\tsetHeight(context, privateConstants.GRID_HEIGHT);\n\t\tsetMargin(context, privateConstants.GRID_MARGIN);\n\t\tsetWidthScaleFactor(context, 1);\n\t\tsetDefinedMinHeightAndWidth(context, privateConstants.MIN_HEIGHT_AND_WIDTH);\n\n\t\tawait arrangeFromHeight(context, arr, privateConstants.MARGIN);\n\t\tsetPositionData(context, mpd);\n\t}\n\n\tsetPaddingLeft(\n\t\tcontext,\n\t\tparseInt(\n\t\t\twindow\n\t\t\t\t.getComputedStyle(e.$limberGridView, null)\n\t\t\t\t.getPropertyValue(\"padding-left\")\n\t\t)\n\t);\n\tsetPaddingRight(\n\t\tcontext,\n\t\tparseInt(\n\t\t\twindow\n\t\t\t\t.getComputedStyle(e.$limberGridView, null)\n\t\t\t\t.getPropertyValue(\"padding-right\")\n\t\t)\n\t);\n\tsetPaddingTop(\n\t\tcontext,\n\t\tparseInt(\n\t\t\twindow\n\t\t\t\t.getComputedStyle(e.$limberGridView, null)\n\t\t\t\t.getPropertyValue(\"padding-top\")\n\t\t)\n\t);\n\tsetPaddingBottom(\n\t\tcontext,\n\t\tparseInt(\n\t\t\twindow\n\t\t\t\t.getComputedStyle(e.$limberGridView, null)\n\t\t\t\t.getPropertyValue(\"padding-bottom\")\n\t\t)\n\t);\n\n\tsetWidth(\n\t\tcontext,\n\t\te.$limberGridView.clientWidth -\n\t\t\tprivateConstants.PADDING_LEFT -\n\t\t\tprivateConstants.PADDING_RIGHT\n\t);\n\n\tsetHeight(\n\t\tcontext,\n\t\te.$limberGridView.clientHeight -\n\t\t\tprivateConstants.PADDING_TOP -\n\t\t\tprivateConstants.PADDING_BOTTOM\n\t);\n\n\t// privateConstants.WIDTH =\n\t// \te.$limberGridView.clientWidth -\n\t// \tprivateConstants.PADDING_LEFT -\n\t// \tprivateConstants.PADDING_RIGHT;\n\t// privateConstants.HEIGHT =\n\t// \te.$limberGridView.clientHeight -\n\t// \tprivateConstants.PADDING_TOP -\n\t// \tprivateConstants.PADDING_BOTTOM;\n\n\tif (isResize) {\n\t\t// resiet item x, y, width, height; MARGIN, MIN_HEIGHT_AND_WIDTH\n\t\tconst len = pd.length;\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tpd[i].x /= privateConstants.WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].y /= privateConstants.WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].width /= privateConstants.WIDTH_SCALE_FACTOR;\n\t\t\tpd[i].height /= privateConstants.WIDTH_SCALE_FACTOR;\n\t\t}\n\n\t\tprivateConstants.MARGIN /= privateConstants.WIDTH_SCALE_FACTOR;\n\t\tprivateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH /=\n\t\t\tprivateConstants.WIDTH_SCALE_FACTOR;\n\t}\n\n\tsetWidthScaleFactor(\n\t\tcontext,\n\t\tprivateConstants.WIDTH / privateConstants.GRID_WIDTH\n\t);\n\tsetMargin(\n\t\tcontext,\n\t\tprivateConstants.MARGIN * privateConstants.WIDTH_SCALE_FACTOR\n\t);\n\tsetDefinedMinHeightAndWidth(\n\t\tcontext,\n\t\tprivateConstants.DEFINED_MIN_HEIGHT_AND_WIDTH *\n\t\t\tprivateConstants.WIDTH_SCALE_FACTOR\n\t);\n};\n\nexport const initConstantsAndFlags = function (options) {\n\t// Private Constants BEGIN\n\tif (options?.gridData?.WIDTH && !isNaN(options.gridData.WIDTH)) {\n\t\tsetGridWidth(this, options.gridData.WIDTH);\n\t}\n\n\tif (options?.gridData?.HEIGHT && !isNaN(options.gridData.HEIGHT)) {\n\t\tsetGridHeight(this, options.gridData.HEIGHT);\n\t}\n\n\tif (options?.gridData?.MARGIN && !isNaN(options.gridData.MARGIN)) {\n\t\tsetGridMargin(this, options.gridData.MARGIN);\n\t}\n\n\tif (\n\t\toptions?.gridData?.MIN_HEIGHT_AND_WIDTH &&\n\t\t!isNaN(options.gridData.MIN_HEIGHT_AND_WIDTH)\n\t) {\n\t\tsetMinHeightAndWidth(this.options.gridData.MIN_HEIGHT_AND_WIDTH);\n\t}\n\t// Private Constants ENDED\n\n\t// Public Constants BEGIN\n\tif (\n\t\toptions?.publicConstants?.mobileAspectRatio &&\n\t\t!isNaN(options.publicConstants.mobileAspectRatio)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"MOBILE_ASPECT_RATIO\",\n\t\t\toptions.publicConstants.mobileAspectRatio\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.moveGuideRadius &&\n\t\t!isNaN(options.publicConstants.moveGuideRadius)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"MOVE_GUIDE_RADIUS\",\n\t\t\toptions.publicConstants.moveGuideRadius\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.resizeSquareGuideLength &&\n\t\t!isNaN(options.publicConstants.resizeSquareGuideLength)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"RESIZE_SQUARE_GUIDE_LENGTH\",\n\t\t\toptions.publicConstants.resizeSquareGuideLength\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.resizeSquareBorderGuideWidth &&\n\t\t!isNaN(options.publicConstants.resizeSquareBorderGuideWidth)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"RESIZE_SQUARE_GUIDE_BORDER_WIDTH\",\n\t\t\toptions.publicConstants.resizeSquareBorderGuideWidth\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.autoScrollDistance &&\n\t\t!isNaN(options.publicConstants.autoScrollDistance)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"AUTO_SCROLL_DISTANCE\",\n\t\t\toptions.publicConstants.autoScrollDistance\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.autoScrollPoint &&\n\t\t!isNaN(options.publicConstants.autoScrollPoint)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"AUTO_SCROLL_POINT\",\n\t\t\toptions.publicConstants.autoScrollPoint\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.moveOrResizeHeightIncrements &&\n\t\t!isNaN(options.publicConstants.moveOrResizeHeightIncrements)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"MOVE_OR_RESIZE_HEIGHT_INCREMENTS\",\n\t\t\toptions.publicConstants.moveOrResizeHeightIncrements\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.mouseDownTime &&\n\t\t!isNaN(options.publicConstants.mouseDownTime)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"MOUSE_DOWN_TIME\",\n\t\t\toptions.publicConstants.mouseDownTime\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.touchHoldTime &&\n\t\t!isNaN(options.publicConstants.touchHoldTime)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"TOUCH_HOLD_TIME\",\n\t\t\toptions.publicConstants.touchHoldTime\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.demoWaitTime &&\n\t\t!isNaN(options.publicConstants.demoWaitTime)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"DEMO_WAIT_TIME\",\n\t\t\toptions.publicConstants.demoWaitTime\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.windowResizeWaitTime &&\n\t\t!isNaN(options.publicConstants.windowResizeWaitTime)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"WINDOW_RESIZE_WAIT_TIME\",\n\t\t\toptions.publicConstants.windowResizeWaitTime\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.deskInteractionMode &&\n\t\tDESK_INTERACTION_MODE[options.publicConstants.deskInteractionMode]\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"DESK_INTERACTION_MODE\",\n\t\t\toptions.publicConstants.deskInteractionMode\n\t\t);\n\t}\n\n\tif (typeof options?.publicConstants?.latchMovedItem === \"boolean\") {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"LATCH_MOVED_ITEM\",\n\t\t\toptions.publicConstants.latchMovedItem\n\t\t);\n\t}\n\n\tif (typeof options?.publicConstants?.animateMovedItem === \"boolean\") {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"ANIMATE_MOVED_ITEM\",\n\t\t\toptions.publicConstants.animateMovedItem\n\t\t);\n\t}\n\n\tif (\n\t\toptions?.publicConstants?.animateTime &&\n\t\t!isNaN(options.publicConstants.animateTime)\n\t) {\n\t\tsetPublicConstantByName(\n\t\t\tthis,\n\t\t\t\"ANIMATE_TIME\",\n\t\t\toptions.publicConstants.animateTime\n\t\t);\n\t}\n\n\t// Public Constants ENDED\n\n\t// Miscellaneous BEGIN\n\n\t// Miscellaneous ENDED\n};\n\nexport const initRender = function () {\n\tconst e = getElements(this);\n\tconst options = getOptions(this);\n\n\tset$body(this, document.getElementsByTagName(\"body\")[0]);\n\n\tlet pseudoContainerId;\n\tdo {\n\t\tpseudoContainerId =\n\t\t\t\"limber-grid-view-pseudo-container-\" + getRandomString();\n\t} while (document.getElementById(pseudoContainerId) !== null);\n\tsetPseudoContainerId(this, pseudoContainerId);\n\n\tconst pseudoContainer = document.createElement(\"div\");\n\tpseudoContainer.setAttribute(\"class\", \"limber-grid-view-pseudo-container\");\n\tpseudoContainer.setAttribute(\"id\", pseudoContainerId);\n\tset$pseudoContainer(this, pseudoContainer);\n\n\t// pseudo container should be kept in defined container, if not defined then body\n\tif (options.pseudoElementContainer) {\n\t\tlet $pseudoElementContainer;\n\t\tif (typeof options.pseudoElementContainer === \"string\") {\n\t\t\t$pseudoElementContainer = document.getElementById(\n\t\t\t\toptions.pseudoElementContainer\n\t\t\t);\n\t\t} else if (options.pseudoElementContainer instanceof Element) {\n\t\t\t$pseudoElementContainer = options.pseudoElementContainer;\n\t\t}\n\t\t$pseudoElementContainer.appendChild(pseudoContainer);\n\t} else {\n\t\te.$body.appendChild(pseudoContainer);\n\t}\n\n\te.$el.innerHTML = `<div class = \"limber-grid-view-container\"><div class = \"limber-grid-view\"></div><div class = \"limber-grid-view-license\"><div class = \"limber-grid-view-license-icon\">©</div><div class = \"limber-grid-view-license-details\">LimberGridView Copyright © 2018-2020, Subendra Kumar Sharma. License: GNU General Public License version 3, or (at your option) any later version.</div></div></div>`;\n\tset$limberGridViewContainer(\n\t\tthis,\n\t\te.$el.getElementsByClassName(\"limber-grid-view-container\")[0]\n\t);\n\tset$limberGridView(this, e.$el.getElementsByClassName(\"limber-grid-view\")[0]);\n\n\tconst pseudoContainerItem = document.createElement(\"div\");\n\tconst limberGridViewPseudoItem = document.createElement(\"div\");\n\tconst limberGridViewMoveGuide = document.createElement(\"div\"); // thing that shows to if there is a latch on item available on move\n\tconst limberGridViewHeightAdjustGuide = document.createElement(\"div\");\n\tconst limberGridViewAddCutGuide = document.createElement(\"div\"); // desk interaction rect\n\tconst limberGridViewTouchHoldGuide = document.createElement(\"div\"); // touch hold animation\n\tlimberGridViewTouchHoldGuide.innerHTML = \"<div></div>\";\n\n\tpseudoContainerItem.setAttribute(\n\t\t\"class\",\n\t\t\"limber-grid-view-pseudo-container-item\"\n\t);\n\tlimberGridViewPseudoItem.setAttribute(\n\t\t\"class\",\n\t\t\"limber-grid-view-pseudo-item\"\n\t);\n\tlimberGridViewMoveGuide.setAttribute(\"class\", \"limber-grid-view-move-guide\");\n\tlimberGridViewHeightAdjustGuide.setAttribute(\n\t\t\"class\",\n\t\t\"limber-grid-view-height-adjust-guide\"\n\t);\n\tlimberGridViewAddCutGuide.setAttribute(\n\t\t\"class\",\n\t\t\"limber-grid-view-add-cut-guide\"\n\t);\n\tlimberGridViewTouchHoldGuide.setAttribute(\n\t\t\"class\",\n\t\t\"limber-grid-view-touch-hold-guide\"\n\t);\n\n\te.$pseudoContainer.appendChild(pseudoContainerItem);\n\te.$limberGridView.appendChild(limberGridViewPseudoItem);\n\te.$limberGridView.appendChild(limberGridViewMoveGuide);\n\te.$limberGridView.appendChild(limberGridViewHeightAdjustGuide);\n\te.$limberGridView.appendChild(limberGridViewAddCutGuide);\n\te.$limberGridView.appendChild(limberGridViewTouchHoldGuide);\n\n\tset$pseudoContainerItem(this, pseudoContainerItem);\n\tset$limberGridViewPseudoItem(this, limberGridViewPseudoItem);\n\tset$limberGridViewMoveGuide(this, limberGridViewMoveGuide);\n\tset$limberGridViewHeightAdjustGuide(this, limberGridViewHeightAdjustGuide);\n\tset$limberGridViewAddCutGuide(this, limberGridViewAddCutGuide);\n\tset$limberGridViewTouchHoldGuide(this, limberGridViewTouchHoldGuide);\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport getPublicConstants from \"../../store/constants/publicConstants\";\n// import getPrivateConstants from \"../../store/constants/privateConstants\";\nimport getOptions from \"../../store/variables/options\";\nimport { getCallbacks } from \"../../store/variables/essentials\";\nimport { getBindedFunctions } from \"../../store/variables/bindedFunctions\";\nimport { init } from \"../../initializers/initializers\";\nimport { render } from \"../renderers/renderers\";\n\nexport const onWindowResize = function (event) {\n\tconst publicConstants = getPublicConstants(this);\n\n\tsetTimeout(\n\t\tgetBindedFunctions(this).onWindowResizeTimerCallback,\n\t\t// onWindowResizeTimerCallback,\n\t\tpublicConstants.WINDOW_RESIZE_WAIT_TIME\n\t\t// this\n\t);\n\twindow.removeEventListener(\"resize\", getBindedFunctions(this).onWindowResize);\n};\n\nexport const onWindowResizeTimerCallback = async function (event) {\n\tawait init(this, true, false);\n\trender(this);\n\n\tconst options = getOptions(this);\n\n\tif (options.reRenderOnResize !== false) {\n\t\twindow.addEventListener(\"resize\", getBindedFunctions(this).onWindowResize);\n\t}\n};\n\nexport const onItemClick = function (event) {\n\tconst callbacks = getCallbacks(this);\n\n\tcallbacks.onItemClickCallback(event);\n};\n","/*\n\nLimberGridView, a powerful JavaScript Libary that gives you movable, resizable(any size) and auto-arranging grids.\n\nCopyright © 2018-2020, Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)\n\nThis file is part of LimberGridView.\n\nLimberGridView is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nLimberGridView is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with LimberGridView.  If not, see <https://www.gnu.org/licenses/>.\n\nWritten by Subendra Kumar Sharma.\n\n*/\n\nimport \"./index.css\";\nimport \"./index.scss\";\n\nimport {\n\tonItemMouseDown,\n\tonItemTouchStart,\n\tonItemMouseMove,\n\tonItemTouchMove,\n\tonItemMouseUp,\n\tonItemTouchEnd,\n\tonItemContextMenu,\n\tonItemTouchContextMenu,\n\tonItemTouchCancel,\n} from \"./libs/eventHandlerLib/itemInteraction\";\nimport {\n\tonDeskMouseDown,\n\tonDeskTouchStart,\n\tonDeskMouseMove,\n\tonDeskTouchMove,\n\tonDeskMouseUp,\n\tonDeskTouchEnd,\n\tonDeskContextMenu,\n\tonDeskTouchContextMenu,\n\tonDeskTouchCancel,\n} from \"./libs/eventHandlerLib/deskInteraction\";\nimport {\n\tonWindowResize,\n\tonWindowResizeTimerCallback,\n} from \"./libs/eventHandlerLib/miscellaneous\";\n\nimport { fixTo } from \"./libs/utils/utils\";\nimport {\n\tgetPublicConstants,\n\tsetPublicConstantByName,\n} from \"./store/constants/publicConstants\";\nimport {\n\tgetPrivateConstants,\n\t// setGridWidth,\n\t// setGridHeight,\n\t// setGridMargin,\n\t// setMinHeightAndWidth,\n} from \"./store/constants/privateConstants\";\nimport { setOptions } from \"./store/variables/options\";\n\nimport {\n\tsetPositionData,\n\tgetPositionData,\n\tsetGridData,\n\tsetCallbacks,\n\t// setPseudoContainerId,\n\t// getPseudoContainerId,\n} from \"./store/variables/essentials\";\nimport {\n\t// getElements,\n\t// set$body,\n\tset$el,\n\t// set$pseudoContainer,\n\t// set$limberGridViewContainer,\n\t// set$limberGridView,\n\t// set$pseudoContainerItem,\n\t// set$limberGridViewPseudoItem,\n\t// set$limberGridViewMoveGuide,\n\t// set$limberGridViewHeightAdjustGuide,\n\t// set$limberGridViewAddCutGuide,\n\t// set$limberGridViewTouchHoldGuide,\n} from \"./store/variables/elements\";\nimport {\n\tDESK_INTERACTION_MODE,\n\tLATCH_MOVED_ITEM,\n} from \"./store/flags/flagDetails\";\nimport { getBindedFunctions } from \"./store/variables/bindedFunctions\";\n\nimport {\n\trender,\n\trenderItem as _renderItem,\n\taddItem as _addItem,\n} from \"./libs/renderers/renderers\";\n// import { removeItems, addItems } from \"./libs/renderers/addOrRemoveItems\";\nimport {\n\tinit,\n\tinitConstantsAndFlags,\n\tinitRender,\n} from \"./initializers/initializers\";\n\nLimberGridView.prototype.constructor = LimberGridView;\n\n// ----------------------------------------------------------------------------------------- //\n\n// ---------------------------------- INPUT DATA FORMAT ------------------------------------ //\n\n// ----------------------------------------------------------------------------------------- //\n\n/*\n\n\tprocessTypes : render, addItems, addItemInteractive, removeItems, resizeItems, onDemand(default for invoked), <custom> (for invoked)\n\n\tvar options = {\n\t\tel : \"#\",\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// id of the parent element with #\n\t\teditable : true, \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// true/false (optional default true)\n\t\tenableInteractiveAddAndCut : true,\t\t\t\t\t\t\t\t\t\t\t\t\t\t// true/false (optional default true)\n\t\tenableTouchInteraction : true,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// true/false (optional default true)\n\t\t//dataType : \"string\", \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// string/node\n\t\tautoArrange : true,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// true/false (compulsory if x and y not present else optional)\n\t\treRenderOnResize : true, \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// true/false (optional default true)\n\t\tisMobileCheck: function\n\t\tpseudoElementContainer: string or element\n\t\titemMouseDownMoveCheck: function \t\t\t\t\t\t\t\t\t\t\t\t\t\t// x clicked/touched, y clicked/touched, item, index\n\t\titemMouseDownResizeCheck: function \t\t\t\t\t\t\t\t\t\t\t\t\t\t// x clicked/touched, y clicked/touched, item, index\n\n\t\tgridData : {\n\t\t\tWIDTH : 1920,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// width of limberGridView\n\t\t\tHEIGHT : 1080, \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// height of limberGridView\n\t\t\tMARGIN : 8, \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// margin for items\n\t\t\tMIN_HEIGHT_AND_WIDTH: 150 \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// min height and width of items\n\t\t},\n\t\tpositionData: [\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// position Data\n\t\t\t{x : <value>, y : <value>, width : <value>, height : <value>},\n\t\t\t\t{x : <value>, y : <value>, width : <value>, height : <value>},\n\n\t\t\t\t\tOR (if autoArrange set to true)\n\n\t\t\t\t{width : <value>, height : <value>},\n\t\t\t\t{width : <value>, height : <value>},\n\t\t\t\t...,\n\t\t\t\t...,\n\t\t\t\t...\n\t\t],\n\t\tcallbacks : {\n\t\t\trenderComplete : function(){}, \t\t\t\t\t\t\t\t\t\t\t\t\t\t// callback for completion of render function or renderItem, passes index of rendered Item if only was rendered by external program or passes index undefined if it was first render\n\t\t\trenderContent : function(index, width, height, type){},\t\t\t\t\t\t\t\t\t// callback to get data inside an item, type is \"isAdd\" on addItem and type is \"isResize\" on resizeItem. Update slipping \"isResize\" as it is not likely to be needed\n\t\t\taddComplete : function(index){}\n\t\t\tremoveComplete: function(index){}\n\t\t\tmoveComplete: function(index, toX, toY, arrangedIndices) {}\n\t\t\tresizeComplete: function(index, width, height, arrangedIndices){}\n\n\t\t\t//getItemRenderDataCallback : function(index, width, height, processType){}, \t\t\t// callback to get string or node object to render inside the item\n\t\t\tonItemClickCallback : function(event){},\t\t\t\t\t\t\t\t\t\t\t// click callback for item\n\t\t\t//itemsRenderComplete : function([index, index, ...], scale, processType){}, \t\t\t// callback for completion of renderItems function\n\t\t\t//resizeCompleteCallback : function(index, {x, y, width, height}){}, \t\t\t\t\t// callback for completion of resizing an item\n\t\t\t//moveCompleteCallback : function(status, index, {x, y, width, height} or event){}, \t\t\t\t\t// callback for completion of moving an item\n\t\t\t//addCompleteCallback : function([index, index, ...], width, height, processType){}, \t// callback for completion of adding an item\n\t\t\t//removeCompleteCallback : function([index, index, ...]){}, \t\t\t\t\t\t\t// callback for completion of removing an item\n\t\t},\n\t\tpublicConstants: {\n\t\t\tmobileAspectRatio : <value>, \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// aspect ratio of for mobile devices\n\n\t\t\tmoveGuideRadius: number,\n\t\t\tresizeSquareGuideLength: number\n\t\t\tresizeSquareGuideBorderWidth: number\n\t\t\tautoScrollDistance: number\n\t\t\tautoScrollPoint: number\n\t\t\tmoveOrResizeHeightIncrements: number\n\n\t\t\tmouseDownTime: number\n\t\t\ttouchHoldTime: number\n\t\t\tdemoWaitTime: number\n\t\t\twindowResizeWaitTime: number\n\n\t\t\tdeskInteractionMode: \"ADD\"/\"CUTSPACE\"\n\n\t\t\tlatchMovedItem: boolean\n\t\t\tanimateMovedItem: boolean\n\t\t\tanimateTime: number\n\t\t}\n\t}\n\t*/\n\n// ----------------------------------------------------------------------------------------- //\n\n// ---------------------------------- INPUT DATA FORMAT END -------------------------------- //\n\n// ----------------------------------------------------------------------------------------- //\n\n// ----------------------------------------------------------------------------------------- //\n\n// ---------------------------------- CONSTANTS YOU CAN CHANGE ----------------------------- //\n\n// ----------------------------------------------------------------------------------------- //\n\n// LimberGridView.prototype.MOVE_GUIDE_RADIUS = 10;\n// LimberGridView.prototype.RESIZE_SQUARE_GUIDE_LENGTH = 10;\n// LimberGridView.prototype.RESIZE_SQUARE_BORDER_GUIDE_WIDTH = 3;\n// LimberGridView.prototype.AUTO_SCROLL_DISTANCE = 50;\n// LimberGridView.prototype.AUTO_SCROLL_POINT = 50;\n// LimberGridView.prototype.MOVE_OR_RESIZE_HEIGHT_INCREMENTS = 50;\n\n// LimberGridView.prototype.MOUSE_DOWN_TIME = 500;\n// LimberGridView.prototype.TOUCH_HOLD_TIME = 300;\n// LimberGridView.prototype.DEMO_WAIT_TIME = 500;\n// LimberGridView.prototype.WINDOW_RESIZE_WAIT_TIME = 1000;\n// LimberGridView.prototype.MARGIN = 5;\n\n// LimberGridView.prototype.MOBILE_ASPECT_RATIO = 16 / 9;\n\n// LimberGridView.prototype.ADD_OR_CUTSPACE_TOGGLE = \"ADD\";\n\n// ----------------------------------------------------------------------------------------- //\n\n// ---------------------------------- CONSTANTS YOU CAN CHANGE END ------------------------- //\n\n// ----------------------------------------------------------------------------------------- //\n\nfunction LimberGridView(options) {\n\tthis.initializeStore();\n\tsetOptions(this, options);\n\tsetGridData(this, options.gridData);\n\tsetPositionData(this, options.positionData);\n\tsetCallbacks(this, options.callbacks);\n\n\t// INITIALIZATION BEGIN\n\tif (typeof options.el === \"string\") {\n\t\tconst el = document.getElementById(options.el);\n\t\tif (!el) {\n\t\t\tthrow `No for element found for id ${options.el}`;\n\t\t}\n\t\tset$el(this, el);\n\t} else if (options.el instanceof Element) {\n\t\tset$el(this, options.el);\n\t} else {\n\t\tthrow \"Valid DOM Element or Id required\";\n\t}\n\n\tinitConstantsAndFlags.call(this, options);\n\tinitRender.call(this);\n\n\t// INITIALIZATION ENDED\n\n\tif (options.reRenderOnResize === true) {\n\t\twindow.addEventListener(\"resize\", getBindedFunctions(this).onWindowResize);\n\t}\n\n\tsetTimeout(\n\t\tasync function () {\n\t\t\tawait init(this, false, options.autoArrange);\n\t\t\trender(this, true);\n\t\t}.bind(this)\n\t);\n}\n\nLimberGridView.prototype.initializeStore = function () {\n\tthis.options = undefined;\n\tthis.store = {\n\t\tvariables: {\n\t\t\telements: {\n\t\t\t\t$body: undefined,\n\t\t\t\t$pseudoContainer: undefined,\n\t\t\t\t$pseudoContainerItem: undefined,\n\t\t\t\t$el: undefined,\n\t\t\t\t$limberGridViewContainer: undefined,\n\t\t\t\t$limberGridView: undefined,\n\t\t\t\t$limberGridViewItems: [],\n\t\t\t\t$limberGridViewPseudoItem: undefined,\n\t\t\t\t$limberGridViewMoveGuide: undefined,\n\t\t\t\t$limberGridViewHeightAdjustGuide: undefined,\n\t\t\t\t$limberGridViewAddCutGuide: undefined, // limberGridViewAddItemGuide\n\t\t\t\t$limberGridViewTouchHoldGuide: undefined, // limberGridViewAddItemOnTouchHoldGuide\n\t\t\t\t//  DEBUG elements:\n\t\t\t\t$limberGridViewDebugMergedTempRects: [],\n\t\t\t\t$limberGridViewDebugStackTopRect: undefined,\n\t\t\t\t$limberGridViewDebugStackTopAdjRect: undefined,\n\t\t\t\t$limberGridViewDebugMergedRect: undefined,\n\t\t\t\t$limberGridViewDebugAdjRect: undefined,\n\t\t\t\t$limberGridViewDebugResultStackRects: [],\n\t\t\t\t$limberGridViewDebugStackRects: [],\n\t\t\t\t$limberGridViewDebugUnmergedRects: [],\n\t\t\t\t$limberGridViewDebugMergedFreeRects: [],\n\t\t\t},\n\t\t\tessentials: {\n\t\t\t\tpseudoContainerId: undefined,\n\t\t\t\tpositionData: [],\n\t\t\t\tmodifiedPositionData: [],\n\t\t\t\tgridData: {},\n\t\t\t\tcallbacks: {},\n\t\t\t},\n\t\t\tbindedFunctions: {\n\t\t\t\tonItemMouseDown: onItemMouseDown.bind(this),\n\t\t\t\tonItemTouchStart: onItemTouchStart.bind(this),\n\t\t\t\tonItemMouseMove: onItemMouseMove.bind(this),\n\t\t\t\tonItemTouchMove: onItemTouchMove.bind(this),\n\t\t\t\tonItemMouseUp: onItemMouseUp.bind(this),\n\t\t\t\tonItemTouchEnd: onItemTouchEnd.bind(this),\n\t\t\t\tonItemContextMenu: onItemContextMenu.bind(this),\n\t\t\t\tonItemTouchContextMenu: onItemTouchContextMenu.bind(this),\n\t\t\t\tonItemTouchCancel: onItemTouchCancel.bind(this),\n\t\t\t\t// Desk\n\t\t\t\tonDeskMouseDown: onDeskMouseDown.bind(this),\n\t\t\t\tonDeskTouchStart: onDeskTouchStart.bind(this),\n\t\t\t\tonDeskMouseMove: onDeskMouseMove.bind(this),\n\t\t\t\tonDeskTouchMove: onDeskTouchMove.bind(this),\n\t\t\t\tonDeskMouseUp: onDeskMouseUp.bind(this),\n\t\t\t\tonDeskTouchEnd: onDeskTouchEnd.bind(this),\n\t\t\t\tonDeskTouchCancel: onDeskTouchCancel.bind(this),\n\t\t\t\tonDeskTouchContextMenu: onDeskTouchContextMenu.bind(this),\n\t\t\t\tonDeskContextMenu: onDeskContextMenu.bind(this),\n\n\t\t\t\t//\n\t\t\t\tonWindowResize: onWindowResize.bind(this),\n\t\t\t\tonWindowResizeTimerCallback: onWindowResizeTimerCallback.bind(this),\n\t\t\t},\n\t\t\teventSpecific: {\n\t\t\t\titemInteraction: {\n\t\t\t\t\tuserActionData: {},\n\t\t\t\t\tmouseDownCancel: false,\n\t\t\t\t\tmouseDownTimerComplete: true,\n\t\t\t\t\ttouchHoldCancel: false,\n\t\t\t\t\ttouchHoldTimerComplete: false,\n\t\t\t\t\tlongPressCheck: undefined,\n\t\t\t\t\tlongTouchCheck: undefined,\n\t\t\t\t\tshowResizeDemoTimeOutVariable: undefined,\n\t\t\t\t\tshowMoveDemoTimeOutVariable: undefined,\n\t\t\t\t},\n\t\t\t\tdeskInteraction: {\n\t\t\t\t\tuserActionData: {},\n\t\t\t\t\tmouseDownCancel: false,\n\t\t\t\t\tmouseDownTimerComplete: false,\n\t\t\t\t\ttapHoldCancel: false,\n\t\t\t\t\ttapHoldTimerComplete: false,\n\t\t\t\t\tlongPressCheck: undefined,\n\t\t\t\t\tlongTouchCheck: undefined,\n\t\t\t\t\taddItemAllowCheckTimeOutVariable: undefined,\n\t\t\t\t\tcutSpaceAllowCheckTimeOutVariable: undefined,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tconstants: {\n\t\t\tprivateConstants: {\n\t\t\t\t// reinitialized in init i.e. first render and window resize BEGIN\n\t\t\t\tWIDTH: 0,\n\t\t\t\tHEIGHT: 0,\n\n\t\t\t\tPADDING_LEFT: 0,\n\t\t\t\tPADDING_RIGHT: 0,\n\t\t\t\tPADDING_TOP: 0,\n\t\t\t\tPADDING_BOTTOM: 0,\n\n\t\t\t\tWIDTH_SCALE_FACTOR: 1,\n\n\t\t\t\tMARGIN: 8,\n\t\t\t\tDEFINED_MIN_HEIGHT_AND_WIDTH: 150,\n\t\t\t\t// reinitialized in init i.e. first render and window resize ENDED\n\n\t\t\t\t// These should be decided and set only once for app development, if custom values are used then it should be passed everytime\n\t\t\t\tGRID_WIDTH: 1920,\n\t\t\t\tGRID_HEIGHT: 1080,\n\t\t\t\tGRID_MARGIN: 8,\n\t\t\t\tMIN_HEIGHT_AND_WIDTH: 150,\n\t\t\t},\n\t\t\tpublicConstants: {\n\t\t\t\tMOBILE_ASPECT_RATIO: 5 / 4,\n\n\t\t\t\tMOVE_GUIDE_RADIUS: 10,\n\t\t\t\tRESIZE_SQUARE_GUIDE_LENGTH: 10,\n\t\t\t\tRESIZE_SQUARE_GUIDE_BORDER_WIDTH: 3,\n\t\t\t\tAUTO_SCROLL_DISTANCE: 50,\n\t\t\t\tAUTO_SCROLL_POINT: 50,\n\t\t\t\tMOVE_OR_RESIZE_HEIGHT_INCREMENTS: 50,\n\n\t\t\t\tMOUSE_DOWN_TIME: 500,\n\t\t\t\tTOUCH_HOLD_TIME: 300,\n\t\t\t\tDEMO_WAIT_TIME: 500,\n\t\t\t\tWINDOW_RESIZE_WAIT_TIME: 1000,\n\n\t\t\t\tDESK_INTERACTION_MODE: \"ADD\",\n\n\t\t\t\tLATCH_MOVED_ITEM: true,\n\n\t\t\t\tANIMATE_MOVED_ITEM: false,\n\t\t\t\tANIMATE_TIME: 250,\n\t\t\t},\n\t\t},\n\t};\n};\n\nLimberGridView.prototype.renderItem = function (index) {\n\t_renderItem(this, index);\n};\n\nLimberGridView.prototype.getGridData = function () {\n\tconst privateConstants = getPrivateConstants(this);\n\tconst pd = getPositionData(this);\n\n\tconst len = pd.length;\n\tconst arr = new Array(len);\n\tfor (let i = 0; i < len; i++) {\n\t\tarr[i] = {\n\t\t\tx: fixTo(pd[i].x / privateConstants.WIDTH_SCALE_FACTOR),\n\t\t\ty: fixTo(pd[i].y / privateConstants.WIDTH_SCALE_FACTOR),\n\t\t\twidth: fixTo(pd[i].width / privateConstants.WIDTH_SCALE_FACTOR),\n\t\t\theight: fixTo(pd[i].height / privateConstants.WIDTH_SCALE_FACTOR),\n\t\t};\n\t}\n\n\t// TO DO: have to scale positionData to GRID_HEIGHT, GRID_WIDTH and GRID_MARGIN\n\t// Have to send a copy since it will be scaled to output specifications\n\treturn {\n\t\tgridData: {\n\t\t\theight: privateConstants.GRID_HEIGHT,\n\t\t\twidth: privateConstants.GRID_WIDTH,\n\t\t\tmargin: privateConstants.GRID_MARGIN,\n\t\t\tMIN_HEIGHT_AND_WIDTH: privateConstants.MIN_HEIGHT_AND_WIDTH,\n\t\t},\n\t\tpositionData: arr,\n\t};\n};\n\nLimberGridView.prototype.setDeskInteractMode = function (flag) {\n\tif (DESK_INTERACTION_MODE[flag]) {\n\t\tsetPublicConstantByName(this, \"DESK_INTERACTION_MODE\", flag);\n\t}\n};\n\nLimberGridView.prototype.setLatchMovedItem = function (flag) {\n\tif (LATCH_MOVED_ITEM[flag]) {\n\t\tsetPublicConstantByName(this, \"LATCH_MOVED_ITEM\", flag);\n\t}\n};\n\nLimberGridView.prototype.addItem = function (item) {\n\t_addItem(this, item);\n};\n\nLimberGridView.prototype.setIsMobileCheck = function (f) {\n\tthis.options.isMobileCheck = f;\n};\n\nexport default LimberGridView;\n"],"sourceRoot":""}